myblue = #88B1C8

.autosuggest, .combolist, .editablelist
	position relative

	.input
		position relative
		display inline-block
		z-index 2

		input
			width 180px
			border 1px solid #CCC
			padding-left 4px

			&:focus
				outline-color myblue

		div.caret
			cursor pointer
			position absolute
			top 1px
			right 1px
			bottom 1px
			padding 0 16px
			background: linear-gradient(to right, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 50%);

			&:after
				position absolute
				top 50%
				margin-top -2px
				right 6px
				width 0
				height 0
				border-top 4px solid #000
				border-right 4px solid rgba(0, 0, 0, 0)
				border-left 4px solid rgba(0, 0, 0, 0)
				content ""

	button.add, button.edit
		background-color myblue
		color white
		border-radius 4px
		border 0
		height 18px
		margin 3px 0 3px 10px
		display none

		&:hover
			background-color darken(myblue, 20%)

		&.visible
			display inline-block

.autosuggest, .combolist
	ul.list
		white-space nowrap
		max-height 360px
		overflow-y auto
		overflow-x hidden
		display none
		position absolute
		left 0px
		background-color white
		list-style none
		margin 3px 0 0 0
		box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
		padding 4px 0
		border-radius 4px
		border 1px solid #CCC
		z-index 3

		li
			cursor pointer
			padding 2px 24px 2px 8px
		
			&:hover
				color white
				background-image linear-gradient(to bottom, myblue, #6291AC)

			&.active
				color white
				background-image: linear-gradient(to bottom, myblue, #6291AC);

.editablelist, .combolist
	.empty
		color #AAA
		font-style italic
		padding 4px 0 0 16px

	ul.selected
		display block
		list-style square
		padding 10px 0 0 16px

		li
			line-height 16px

			span:hover
				cursor pointer
				background #FFCFCF
				position relative
				border-radius 2px
				padding 2px 24px 2px 4px

				&:after
					position absolute
					content ''
					background url('../images/hilib/views/form/icon.bin.png') no-repeat
					right 0
					width 14px
					height 14px
					top 50%
					margin-top -7px
ul.longpress
	position absolute
	background-color rgba(0, 0, 0, 0.5)
	bottom 0
	left 0
	right 0
	height auto
	list-style none
	padding 6px
	text-align center
	border-top-left-radius 12px
	border-top-right-radius 12px
	white-space normal
	margin 0 10px	

	li
		display inline-block
		padding 2px 6px
		background-color black
		color white
		border-radius 6px
		font-weight bold
		font-size 1.5em
		margin 3px
		border 2px solid @background-color

		&:hover
			border 2px solid white
			box-shadow 0px 0px 12px white
			cursor pointer
.modal
	.overlay
		position fixed
		left 0
		top 0
		background-color black
		right 0
		bottom 0
		opacity 0.7

	.modalbody
		position fixed
		left 50vw
		top 50vh
		width 50vw
		height auto
		margin-left -(@width / 2)
		// margin-top -25vh
		background-color white
		border-radius 8px
		padding 20px
		box-shadow 1px 1px 8px #000
		box-sizing border-box

		header
			h2
				margin 0
				padding-top 0

			p.message
				display none

				&.success
					color green

				&.warning
					color orange			

				&.error
					color red

		.body
			margin 20px 0 40px 0
			overflow auto

		footer
			position absolute
			bottom 20px
			right 20px
			text-align right

			button
				margin-left 8px

				&.submit
					max-width 200px
					white-space nowrap
					text-overflow ellipsis
					overflow hidden


// .modal
// 	.modalbody
// 		.body
// 			form
// 				label
// 					display inline-block 
// 					width 84px

// 				textarea
// 					width 300px
// 					height 200px

select_none()
	-webkit-touch-callout none
	-webkit-user-select none
	-khtml-user-select none
	-moz-user-select none
	-ms-user-select none
	user-select none

ul.pagination
	select_none()
	list-style none

	li
		display inline-block
		padding 0 4px

		&.prev10, &.prev, &.next, &.next10
			color #CCC
			pointer default

			&.active
				color black
				cursor pointer

		&.text
			color gray
.ste-control-diacritics
	position relative
	
	&:hover > .diacritics-placeholder
		display block

.diacritics-placeholder
	display none
	position absolute
	padding 31px // Only top needs 31px the right, bottom, left are for extra hover space
	left -98px

	ul.diacritics
		list-style none
		width 160px
		height 300px
		overflow auto
		padding 6px
		text-align center
		white-space normal	
		background-color rgba(0, 0, 0, 0.5)

		li
			display inline-block
			background-color black
			color #eee
			border-radius 4px
			font-weight bold
			font-size 1.2em
			margin 3px
			border 1px solid @background-color
			width 20px
			line-height 20px

			&:hover
				border 1px solid white
				box-shadow 0px 0px 12px white
				cursor pointer
				color #fff

	// ul.diacritics
	// 	list-style none
	// 	width 100px
	// 	height 200px
	// 	overflow auto

	// 	li
	// 		padding 3px
	// 		display inline-block

	// 		&:hover
	// 			outline white
.ste-iframe-body
	margin 0
	padding 0 0 10px 0
	font 12px Verdana, Arial, Helvetica, sans-serif
	white-space nowrap
	
	&.wrap
		white-space normal

.supertinyeditor
	// html, body, iframe
	// 	height 100%

	iframe
		min-height 46px
		border none

		html
			min-width initial

		// overflow-x hidden

		// body
		// 	margin 0
		// 	padding 25px
		// 	font 12px Verdana, Arial, Helvetica, sans-serif

	.ste-header
		font-family Bookman
		color #666
		height 31px
		border-bottom 1px solid #bbb
		background url('../images/hilib/views/supertinyeditor/header-bg.gif') repeat-x
		padding-top 1px

		select 
			float left
			margin-top 5px
	
		.ste-divider 
			float left
			width 1px
			height 30px
			background #ccc

		.ste-control, .ste-control-diacritics, .ste-control-wordwrap
			float left
			width 24px
			height 30px
			// margin-left 4px
			cursor pointer
			background-image url('../images/hilib/views/supertinyeditor/icons2-small.png')
			background-repeat no-repeat

			&:hover 
				background-color #fff

		.ste-control
			&.bold
				background-position 0px -120px
			&.italic
				background-position 0px -150px
			&.underline
				background-position 0px -180px
			&.strikethrough
				background-position 0px -210px
			&.subscript
				background-position 0px -240px
			&.superscript
				background-position 0px -270px
			&.outdent
				background-position 0px -360px
			&.indent
				background-position 0px -390px
			&.removeFormat
				background-position 0px -720px
			&.undo
				background-position 0px -540px
			&.redo
				background-position 0px -570px
		
		.ste-control-wordwrap
			background-position 0px -810px

		.ste-control-diacritics
			&.diacritics
				background-position 0px -780px

		.ste-button
			float left
			padding 0 6px 0 6px
			cursor pointer
			font-weight bold
			line-height 20px
			border 1px solid #CCC
			margin 3px 0 0 6px
			border-radius 6px
			box-shadow 1px 1px 1px #CCC

			&:hover 
				color #444
				background-color #DDD

			&[data-action="save"]
				color #CCC
				box-shadow none

				&:hover
					color #CCC
					background-color inherit
					cursor default
				
				&.active
					color #666
					box-shadow 1px 1px 1px #CCC

					&:hover
						background-color #DDD
						cursor pointer
						color green

			&[data-action="cancel"]:hover
				color orange

		.ste-footer 
			height 32px
			border-top 1px solid #bbb
			background #f5f5f5

	.ste-font 
		margin-left 12px

	.ste-size 
		margin 0 3px

	.ste-style 
		margin-right 12px


	.toggle 
		float left
		background url(../images/hilib/views/supertinyeditor/icons2.png) -34px 2px no-repeat
		padding 9px 13px 0 31px
		height 23px
		border-right 1px solid #ccc
		cursor pointer
		color #666

		&:hover 
			background-color #fff

	.resize 
		float right
		height 32px
		width 32px
		background url(../images/hilib/views/supertinyeditor/resize.gif) 15px 15px no-repeat
		cursor s-resize

	#editor 
		cursor text
		margin 10px
@import './import/*'

.faceted-search
	hr
		border none
		height 1px
		background-color #EEE
		margin 10px 8px

		&:last-child
			display none

	// i
	// 	cursor pointer
	// 	font-size 1.2em
	// 	color #AAA

	// 	&:hover, &.active
	// 		color #555

	.facet
		position relative
		// border-bottom 1px solid #EEE
		// margin-bottom 10px
		// padding-bottom 10px

		// &:last-child
		// 	border none


		
		header
			// i.openclose
			// 	position absolute
			// 	left -8px
			// 	top 9px
			// 	color #DDD

			// 	&:hover, &.active
			// 		color #AAA

			h3
				padding 0
				margin 0
				display inline
				cursor pointer

			.options
				display none
				background-color #EEE
				margin 10px -4%
				padding 2% 4%
				border-radius 4px
				margin-top 10px


		&.list, &.boolean				
			ul
				list-style none

				li
					white-space nowrap
					position relative
					min-height 15px

					*
						vertical-align top

					&[data-count="0"]
						label
							color lighten(#555, 50%)
						.count
							color lighten(#555, 80%)

					label, .count
						color #555

					label
						margin-left 4px
						margin-right 48px
					
					.count
						width 30px
						// margin-right 2px
						text-align right
						position absolute
						right 2px
						top 0

					i
						font-size 1.2em
						cursor pointer

						&.fa-square-o
							color #AAA

							&:hover
								color #555
						
						&.fa-check-square-o
							color #555

					input[type="checkbox"], label
						white-space normal
						// margin 0
						display inline-block

					input[type="checkbox"]
						margin-top 2px

					:checked + label
						color #000
		
		.body
			max-height 200px
			margin-top 10px
.row
	font-size 0
	width 100%

	*
		vertical-align top

	.aligncenter
		text-align center

	.alignright
		text-align right

	.cell
		display inline-block
		font-size 1rem
		width 100%

		// Test class to make divs visible for testing
		&.test
			background-color rgba(0, 0, 255, 0.5)
			min-height 200px

rows(divisions)
	for division in divisions
		range = 1...division

		for r in range
			.row.span{division} > .cell.span{r}
				width floor((r/division)*100%)

rows(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20)

pads(percentages)
	for perc in percentages
		.pad{perc}
			padding perc * 1%

		.padl{perc}
			padding-left perc * 1%

		.padr{perc}
			padding-right perc * 1%

		.padt{perc}
			padding-top perc * 1%

		.padb{perc}
			padding-bottom perc * 1%


pads(1 2 3 4 5 6 7 8 9 10)
@keyframes shrink
	0%
		transform scale(1, 1)	
	25%
		transform scale(0.7, 0.7)	
	50%
		transform scale(1, 1)	
	75%
		transform scale(0.7, 0.7)	
	100%
		transform scale(1, 1)

@keyframes grow
	0%
		transform scale(1, 1)	
	25%
		transform scale(1.2, 1.2)	
	50%
		transform scale(1, 1)	
	75%
		transform scale(1.2, 1.2)	
	100%
		transform scale(1, 1)	

.faceted-search-placeholder
	.overlay
		background rgba(0, 0, 0, 0.2)
		position absolute
		z-index 1
		border-radius 8px
		display none

		div
			position fixed
			padding 20px
			background #FFF
			border-radius 30px
			box-shadow 1px 1px 10px #000
			margin-left -20px
			margin-top -20px

	.faceted-search

		button
			background none
			box-shadow none
			border 1px solid #CCC
			border-radius 3px
			cursor pointer
			line-height 24px
			width 100%

		ul
			margin 0
			padding 0

		input[type="checkbox"]
			margin 0
			padding 0
		
		form
			border-radius 8px // Put a border radius for the box-shadow
			box-shadow 0 0 6px #AAA

			h3, h4
				margin 0
				color black

			ul
				li
					margin 0

			// input[type=text]
			// 	border 1px solid #DDD
			// 	border-radius 4px
			// 	padding-left 4%
			// 	margin 0
			// 	width 96%

			// 	&#search
			// 		height 24px
					
			// 		&.loading
			// 			background white url('../images/loader.gif') no-repeat
			// 			background-position right 2% center
			
			.facets			
				.loader
					display none
					text-align center
					padding 30px 0

			.align.middle
				line-height 24px

				& *
					vertical-align middle

			ul.facets-menu
				list-style none
				margin 0 0 10px 10px

				li
					&.switch
						margin-bottom 16px

					&:hover
						i.fa
							&.fa-compress
								animation shrink 1s 0 1

							&.fa-expand
								animation grow 1s 0 1

							&.fa-refresh
								transform rotate(180deg)

					button
						line-height 16px
						width 160px
						border 1px solid #EEE
						text-align left

						i.fa
							cursor pointer
							transition transform 300ms
							font-size 1em
							display inline-block
							width 12px 
							text-align center

						span
							padding-left 6px
							cursor pointer
.faceted-search.search-type-simple, .faceted-search.search-type-advanced
	border none
	background none

	form
		box-shadow none

		.text-search
			position relative
			box-shadow none
			background none

			.pad3
				padding 0 3%

			.body

				.menu
					margin-bottom 18px
					display none

					&:hover
						i.fa-times
							opacity 1

					i.fa-times
						opacity 0
						float right
						margin-right 2px
						font-size 1.4em
						transition opacity 500ms

				.row-1, .row-2
					margin 10px 0 0 2px

					.cell-1, .cell-2
						display inline-block
						vertical-align top

					.cell-1
						width 120px

				label
					font-size 0.9em

				input[type="checkbox"]
					margin-right 4px

				ul.textlayers, ul.searchins
					margin-top 6px
					list-style none

.faceted-search.search-type-advanced
	form
		ul.facets-menu
			li
				&.collapse-expand
					display block

				&.switch
					span:after
						content ' simple'

.faceted-search.search-type-simple
	form
		ul.facets-menu
			li
				&.collapse-expand
					display none

				&.switch
					span:after
						content ' advanced'

		.facets
			display none
			
.faceted-search
	.text-search
		.search-input
			input
				box-sizing border-box
				border-right 0
				border-bottom-left-radius 3px
				border-top-left-radius 3px
				width 85%
				height 30px
				border 1px solid #EEE
				margin 0
				padding-left 8px
				font-size 1.2em

			i.fa-search
				background #CCC
				color white
				border-bottom-right-radius 3px
				border-top-right-radius 3px
				line-height 30px
				text-align center
				vertical-align top
				width 15%
.facet.list
	header
		input[name="dummy"]
			width 24px
			margin-left 10px
			height 11px
			padding 0 0 0 4px

		.options
			*
				vertical-align middle

			input, small
				display inline-block

			input[name="all"]
				visibility hidden

			input[name="filter"]
				width 120px
				margin-left 2px
				padding-left 2px

				&.nonefound
					color #D10000

			small.optioncount
				margin-left 8px

		div.menu
			display inline-block
			float right
			cursor pointer

			i.fa
				font-size 1em
				margin 2px 0 0 4px

	.body
		.container
			max-height inherit
			overflow-y auto
			overflow-x hidden

			li
				i.hidden
					display none



	// nav
	// 	ul
	// 		padding 0
	// 		margin 0
	// 		list-style none

	// 		li
	// 			font-size 0.8em
	// 			cursor pointer
	// 			display inline-block
	// 			margin-left 2px
@import '../import/*'

// Sync handleSize with RangeFacet view!
handleSize = 12px
sliderHeight = 6px

.facet.range
	.body
		height 32px
		padding-top 6px

		.slider
			select_none()

			height sliderHeight
			background #EEE
			border-radius sliderHeight
			box-shadow inset 1px 1px (sliderHeight/2) #888
			position relative
			margin 0 (handleSize/2)

			button
				display none
				position absolute
				left 95px
				width 80px
				border-radius 4px
				outline none
				border none
				background rgba(255, 189, 223, 0.3)
				top 18px
				color #444


			.bar
				height sliderHeight
				background rgba(225, 9, 121, 0.3)
				left 0
				right 0
				position absolute
				z-index 1


			.min-handle, .max-handle
				position absolute
				width handleSize
				height handleSize
				border-radius handleSize
				background #CCC
				box-shadow inset 1px 1px (handleSize/2) #444
				cursor pointer
				z-index 2

			.min-handle
				left -1 * (handleSize/2)
				top ((handleSize - sliderHeight)/-2)

			.max-handle
				// left 391px
				top ((handleSize - sliderHeight)/-2)

			.min-value
				position relative
				top 20px
				display inline-block

			.max-value
				position relative
				top 20px
				display inline-block
				float right
// @import '../import/*'

// .faceted-search
// 	form
// 		.search-placeholder
// 			.facet.search
// 				// border-bottom-left-radius 0
// 				// border-bottom-right-radius 0

// 				header
// 					.options
// 						h4
// 							margin-top 4px

// 						ul								
// 							li
// 								ul
// 									margin 2px 0 8px 14px

// 									li
// 										margin-bottom 0

// 				h3
// 					cursor default

// 				// button
// 				// 	background-color #EEE
// 				// 	color #BBB
// 				// 	border 0
// 				// 	box-shadow 1px 1px 1px #DDD
// 				// 	border-radius 6px
// 				// 	margin-top -1px
					
// 				// 	height 28px
// 				// 	width 100%
// 				// 	min-width 50px


// 				// 	&.active
// 				// 		vertical_gradient(#DDD, #F1F1F1)
// 				// 		color #666
// 				// 		cursor pointer
// 				// 		box-shadow 1px 1px 1px #BDBDBD
					
// 				// 		&:active
// 				// 			vertical_gradient(#F1F1F1, #DDD)
// 				// 			box-shadow -1px -1px 1px #BDBDBD

// 				ul
// 					list-style none
vertical_gradient(topColor, bottomColor)
	background topColor
	background -moz-linear-gradient(top, topColor 0%, bottomColor 100%)
	background -webkit-gradient(linear, left top, left bottom, color-stop(0%,topColor), color-stop(100%,bottomColor))
	background -webkit-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -o-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -ms-linear-gradient(top, topColor 0%,bottomColor 100%)
	background linear-gradient(to bottom, topColor 0%,bottomColor 100%)
	filter unquot('progid:DXImageTransform.Microsoft.gradient(startColorstr="topColor", endColorstr="bottomColor",GradientType=0 )')

select_none()
	-webkit-touch-callout none
	-webkit-user-select none
	-khtml-user-select none
	-moz-user-select none
	-ms-user-select none
	user-select none
backgroundcolor = #F1F1F1
textColor = #666
lightestGrey = #eee
numberHighlight = #BA5DB6

.elaborate-annotated-text
	.annotations
		font-size 10px

		header
			height 40px
			background white
			position relative
			z-index 2

		ol
			list-style none
			padding 0 0 0 20px
			margin 0
			counter-reset section
			position relative
			z-index 1

			&.active
				li
					white-space normal

			li
				font-size 12px
				padding-left 6px
				margin-bottom 10px
				white-space nowrap
				overflow-x hidden
				text-overflow ellipsis
				color textColor
				counter-increment section

				&:before
					content counter(section)
					display inline-block
					text-align center
					width 20px
					position absolute
					left 0
					padding 2px 0
					background-color lightestGrey
					color grey
					border-radius 2px
					font-size 0.8em

				&:hover, &.show, &.highlight, &.active
					cursor pointer

					&:before
						background-color numberHighlight
						color white

				&.hide
					visibility hidden
					height 0
					padding 0
					margin 0


				&.show, &.highlight
					white-space normal

					div.type
						display block

					hr
						display block

					// .text
					// 	margin -14px 0 0 31px

				&.highlight
					.number span
						color white
						background-color numberHighlight

				&.highlight, &:hover, &.active
					color darken(textColor, 40%)

					& > span
						color darken(textColor, 40%)

				div.type
					display none

					span
						font-size 0.8em
						display inline-block
						color black
						background-color lightestGrey
						padding 2px 4px
						margin 0 0 8px -4px
						border-radius 2px

				hr
					display none
					border 0
					height 1px
					background-color lighten(numberHighlight, 80%)
lightGrey = #f5f5f5

.elaborate-annotated-text
	position relative

	select
		font-family sans-serif
		font-size 10px
		margin-right 4px
		width 100px
		background none
		border 1px solid #DDD

		&:focus
			outline none

	i.fa
		color darken(lightGrey, 20%)
		font-size 12px
		line-height 20px

		&:hover
			cursor pointer
			color #888

	.text, .annotations
		.highlight, .highlight-term
			display inline
			padding 1px 0
			border-radius 2px

		.highlight
			background-color numberHighlight
			color white

		.highlight-term
			background lighten(#FF0, 40%)
			padding 1px 5px 2px 5px
			border-radius 4px
			box-shadow 1px 1px 2px #CCC
lightGrey = #f5f5f5
numberHighlight = #BA5DB6
annotationsBackground = #fcf
highlightColor = lighten(annotationsBackground, 40%)

.elaborate-annotated-text
	.text
		position relative
		counter-reset section

		&.alexander
			.line
				font-family 'Alexander'
		&.junicode
			.line
				font-family 'Junicode'
		&.samba
			.line
				font-family 'Samba'

		header
			height 40px
			margin-bottom -4px

			select
				margin-left 10px

			h3
				margin 0 4px 0 28px
				padding 0
				display inline-block

			i.fa
				margin-right 4px

		.line
			// font-family "Junicode", serif;
			line-height 28px
			counter-increment section
			position relative
			margin-left 20px
			padding-left 8px

			&:before
				content counter(section)
				position absolute
				top 1px
				width 20px
				left -20px
				text-align right
				font-size 0.8em
				font-family sans-serif
				color darken(lightGrey, 30%)

			sup
				line-height 0

				&[data-marker]
					cursor pointer
					color darken(annotationsBackground, 30%)
					margin 0 5px 0 2px
					font-style normal

					&:hover
						color black
						background-color highlightColor

		span.searched
			background-color #A5DFCC
			font-weight bolder
.faceted-search-results
	.resultview.edit-multiple-entry-metadata
		div.entries
			ul
				list-style none

				li
					.edit-mode
						display block

					.default-mode
						display none

		header
			nav
				ul > li
					&.select-all
						display inline-block
						
					&.levels
						display none

		.editselection-placeholder
			background #F1F1F1
			box-shadow 0 0 6px #AAA
			margin 3px 20px 20px 0
			border-radius 6px

			h3
				margin 0
				padding 12px

			.row
				overflow-y auto

				form
					padding 12px

					li
						*
							vertical-align middle

						input
							margin-left 4px

			footer
				text-align right
				padding 8px 8px 8px 0

				*
					vertical-align middle

				button[name="savemetadata"]
					margin 0

					&.loader
						background white
						padding-bottom 6px

						&:after
							content url('/images/loader.gif')
							margin-left 6px
							position relative
							top 3px

				button[name="cancel"]
					background none
					border none
					color #F66
					border-radius 4px

				span
					margin 0 8px 0 4px
spotcolor = #46aaa8
spotcolor2 = #FFBEFC

.faceted-search-results
	position absolute
	top 120px
	left 0
	right 0
	bottom 0
	overflow hidden

	.submenu
		box-shadow 0 12px 12px #FFF

		li[data-key="publish"]
			&.active
				padding-right 24px

				&:after
					position absolute
					top 3px
					right 5px
					content url('/images/loader_transparent.gif')

	.faceted-search-placeholder
		position absolute
		left 0
		top 0
		bottom 0
		padding 0 20px 20px 20px
		overflow-y auto
		width 300px
article
	h2
		text-align center
		margin-top 30px

		i.print
			font-size 0.7em
			color #AAA
			cursor pointer
			margin-left 10px
article
	position relative

	.panels-menu, .metadata
		user-select none
		position absolute
		width 10%
		z-index 3
		font-size 9pt
		top -5px

		& > ul
			border 1px solid #CCC

		& > button

			&:after
				content: ' ▼'

		& > ul
			position absolute
			display none
			list-style none
			padding 20px
			margin: -3px 0 0 0
			background white
			box-sizing: border-box
			border-bottom-left-radius 3px
			border-bottom-right-radius 3px
			border-top-right-radius 3px

		// & > ul
		// 	background-color lighten(turquoise, 90%)
		// 	padding: 5px
		// 	border-bottom-left-radius 4px
		// 	border-bottom-right-radius 4px
		// 	box-shadow 1px 1px 1px #EEE

	.panels-menu
		right 2.5%

		& > ul
			right 0

			li
				cursor move
				white-space nowrap

				&.placeholder
					display none

				i.fa.checkbox
					margin-right 2px
					color gray
					cursor pointer

					&.fa-square-o
						margin-right 4px

	.metadata
		left 2.5%

		& > ul
			line-height 24px
			max-width 520px
			overflow-y auto

			li
				white-space nowrap
				border-top 1px solid #EEE

				&:first-child
					border none

				label, span
					display inline-block

				label
					width 120px
					color #555

				span
					max-width 400px
					overflow ellipsis
					vertical-align middle

article > .panels
	overflow auto
	white-space nowrap

	.elaborate-annotated-text.hidden
		display none
			
	.facsimile
		display inline-block
		width 33%
		vertical-align top
		padding 0 10px
		box-sizing border-box

		&.hidden
			display none

		header
			height 40px

			h3
				margin 0
				paddin 0
				
			select
				font-family sans-serif
				font-size 10px
				margin-right 4px
				width 100px
				background none
				border 1px solid #DDD

		iframe
			border 0
			// min-height 500px
		
		// min-height 100px // so text isn't pushed left
		@media print
			display none
@media print
	html, body
		overflow visible !important

	body > header
		padding 0

	#main
		.entries
			.entry
				& > header
					display none

				article
					h2, h3, h4
						margin 0
						padding 0

					.panels-menu, .metadata
						display none

					.panels
						height auto !important

						.facsimile
							display none !important

						.elaborate-annotated-text
							width 100%
							margin-bottom 100px

							&.visible
								display block !important

							.text, .annotations
								width 100%
								display block

							.text
								h3
									font-size 1.2em
									color black

							.annotations
								ol
									list-style decimal !important

									li
										overflow-x visible

										&:before
											background none
											content none !important

										div.type
											display block

											span
												background none
												padding 0
												margin 0

										span
											white-space normal

							
								

					i, select
						display none

spotcolor = #46aaa8
spotcolor2 = #FFBEFC

.resultview
	div.entries
		& > ul
			& > li
				margin-bottom 12px

				&:hover
					cursor pointer
					
					label.main
						background lighten(#6CA1E5, 80%)
						cursor pointer

				&.fulltext:hover
					cursor default

					label.main
						background none
						cursor default
				
				.edit-mode
					display none

					input
						display inline-block
						margin-right 4px
				
				label.main
					text-decoration none
					color black
					font-size 1.4rem
					padding 2px 0
					border-radius 2px

				.found
					color white
					background #BBB
					border-radius 2px
					display inline-block
					margin 10px 0 4px 0
					padding 0 4px
				
				.metadata
					ul
						list-style none
						padding-top 4px

						li
							margin-bottom 0px
							// display inline-block
							// width 30%

							span.key
								color #999

				.keywords
					color #999

					ul
						list-style none

						& > li
							overflow-x hidden
							white-space nowrap
							text-overflow ellipsis
							line-height 20px
							margin-left -4px
							padding 0 4px
							border-radius 3px
							cursor pointer

							&:hover
								background lighten(#6CA1E5, 80%)

							label, ul.kwic
								display inline-block

							label
								width 20%
								vertical-align top
								overflow ellipsis
								cursor pointer

							ul.kwic
								width 80%

								li
									em
										background lighten(#FF0, 40%)
										padding 2px 5px 1px 5px
										-webkit-border-radius 4px
										border-radius 4px
										-webkit-box-shadow 1px 1px 2px #CCC
										box-shadow 1px 1px 2px #CCC
.resultview
	position absolute
	left 370px
	top 0
	bottom 0
	right 0

	ul
		list-style none
		padding 0
		margin 0

	div.entries
		absolute top 80px right 0 bottom 0 left 0
		overflow-y auto

	header
		background white
		// padding 0 18px 12px 0
		border-bottom 1px solid #DDD
		padding-bottom 12px

		h3, nav
			display inline-block

		h3
			margin-top 0	

		nav
			color spotcolor
			margin-left 20px

			& > ul
				*
					vertical-align middle

				& > li
					margin-left 6px
					cursor pointer
					display inline-block

					&.display-keywords
						display none

						input
							margin-right 2px

					&.select-all
						display none

					label
						color black
						cursor default
li.sort-levels
	button
		position relative
		z-index 3

		i.fa
			margin-left 4px

	button, select
		background white
		border 1px solid rgb(224, 224, 224)
		outline none

	div.levels
		display none
		position absolute
		padding 20px
		z-index 2
		margin -4px 0 0 -19px
		padding-top 0

		ul
			margin-top -23px
			margin-left -18px
			border 1px solid #EEE
			margin 1px
			list-style none
			border-bottom-left-radius 4px
			border-bottom-right-radius 4px
			border-top-right-radius 4px
			padding 20px
			background #FFF

		&.show-save-button
			padding-bottom 14px

			li.search
				display block


		li
			margin-bottom 10px

			&.search
				display none

				button
					float right
					width 100px

			label, i.fa
				color gray
				line-height 18px
			
			i.fa:hover
				color black
			
			select, i.fa
				margin-left 6px
				height 18px
.btn
	button()

	&.ok
		okbutton()
		
	&.cancel
		cancelbutton()

	&.small
		line-height 14px
myblue = #88B1C8

.autosuggest, .combolist, .editablelist
	position relative

	.input
		position relative
		display inline-block
		z-index 2

		input
			width 180px
			border 1px solid #CCC
			padding-left 4px

			&:focus
				outline-color myblue

		div.caret
			cursor pointer
			position absolute
			top 1px
			right 1px
			bottom 1px
			padding 0 16px
			background: linear-gradient(to right, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 50%);

			&:after
				position absolute
				top 50%
				margin-top -2px
				right 6px
				width 0
				height 0
				border-top 4px solid #000
				border-right 4px solid rgba(0, 0, 0, 0)
				border-left 4px solid rgba(0, 0, 0, 0)
				content ""

	button.add, button.edit
		background-color myblue
		color white
		border-radius 4px
		border 0
		height 18px
		margin 3px 0 3px 10px
		display none

		&:hover
			background-color darken(myblue, 20%)

		&.visible
			display inline-block

.autosuggest, .combolist
	ul.list
		white-space nowrap
		max-height 360px
		overflow-y auto
		overflow-x hidden
		display none
		position absolute
		left 0px
		background-color white
		list-style none
		margin 3px 0 0 0
		box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
		padding 4px 0
		border-radius 4px
		border 1px solid #CCC
		z-index 3

		li
			cursor pointer
			padding 2px 24px 2px 8px
		
			&:hover
				color white
				background-image linear-gradient(to bottom, myblue, #6291AC)

			&.active
				color white
				background-image: linear-gradient(to bottom, myblue, #6291AC);

.editablelist, .combolist
	.empty
		color #AAA
		font-style italic
		padding 4px 0 0 16px

	ul.selected
		display block
		list-style square
		padding 10px 0 0 16px

		li
			line-height 16px

			span:hover
				cursor pointer
				background #FFCFCF
				position relative
				border-radius 2px
				padding 2px 24px 2px 4px

				&:after
					position absolute
					content ''
					background url('../images/hilib/views/form/icon.bin.png') no-repeat
					right 0
					width 14px
					height 14px
					top 50%
					margin-top -7px
ul.longpress
	position absolute
	background-color rgba(0, 0, 0, 0.5)
	bottom 0
	left 0
	right 0
	height auto
	list-style none
	padding 6px
	text-align center
	border-top-left-radius 12px
	border-top-right-radius 12px
	white-space normal
	margin 0 10px	

	li
		display inline-block
		padding 2px 6px
		background-color black
		color white
		border-radius 6px
		font-weight bold
		font-size 1.5em
		margin 3px
		border 2px solid @background-color

		&:hover
			border 2px solid white
			box-shadow 0px 0px 12px white
			cursor pointer
.modal
	.overlay
		position fixed
		left 0
		top 0
		background-color black
		right 0
		bottom 0
		opacity 0.7

	.modalbody
		position fixed
		left 50vw
		top 50vh
		width 50vw
		height auto
		margin-left -(@width / 2)
		// margin-top -25vh
		background-color white
		border-radius 8px
		padding 20px
		box-shadow 1px 1px 8px #000
		box-sizing border-box

		header
			h2
				margin 0
				padding-top 0

			p.message
				display none

				&.success
					color green

				&.warning
					color orange			

				&.error
					color red

		.body
			margin 20px 0 40px 0
			overflow auto

		footer
			position absolute
			bottom 20px
			right 20px
			text-align right

			button
				margin-left 8px

				&.submit
					max-width 200px
					white-space nowrap
					text-overflow ellipsis
					overflow hidden


// .modal
// 	.modalbody
// 		.body
// 			form
// 				label
// 					display inline-block 
// 					width 84px

// 				textarea
// 					width 300px
// 					height 200px

select_none()
	-webkit-touch-callout none
	-webkit-user-select none
	-khtml-user-select none
	-moz-user-select none
	-ms-user-select none
	user-select none

ul.pagination
	select_none()
	list-style none

	li
		display inline-block
		padding 0 4px

		&.prev10, &.prev, &.next, &.next10
			color #CCC
			pointer default

			&.active
				color black
				cursor pointer

		&.text
			color gray
.ste-control-diacritics
	position relative
	
	&:hover > .diacritics-placeholder
		display block

.diacritics-placeholder
	display none
	position absolute
	padding 31px // Only top needs 31px the right, bottom, left are for extra hover space
	left -98px

	ul.diacritics
		list-style none
		width 160px
		height 300px
		overflow auto
		padding 6px
		text-align center
		white-space normal	
		background-color rgba(0, 0, 0, 0.5)

		li
			display inline-block
			background-color black
			color #eee
			border-radius 4px
			font-weight bold
			font-size 1.2em
			margin 3px
			border 1px solid @background-color
			width 20px
			line-height 20px

			&:hover
				border 1px solid white
				box-shadow 0px 0px 12px white
				cursor pointer
				color #fff

	// ul.diacritics
	// 	list-style none
	// 	width 100px
	// 	height 200px
	// 	overflow auto

	// 	li
	// 		padding 3px
	// 		display inline-block

	// 		&:hover
	// 			outline white
.ste-iframe-body
	margin 0
	padding 0 0 10px 0
	font 12px Verdana, Arial, Helvetica, sans-serif
	white-space nowrap
	
	&.wrap
		white-space normal

.supertinyeditor
	// html, body, iframe
	// 	height 100%

	iframe
		min-height 46px
		border none

		html
			min-width initial

		// overflow-x hidden

		// body
		// 	margin 0
		// 	padding 25px
		// 	font 12px Verdana, Arial, Helvetica, sans-serif

	.ste-header
		font-family Bookman
		color #666
		height 31px
		border-bottom 1px solid #bbb
		background url('../images/hilib/views/supertinyeditor/header-bg.gif') repeat-x
		padding-top 1px

		select 
			float left
			margin-top 5px
	
		.ste-divider 
			float left
			width 1px
			height 30px
			background #ccc

		.ste-control, .ste-control-diacritics, .ste-control-wordwrap
			float left
			width 24px
			height 30px
			// margin-left 4px
			cursor pointer
			background-image url('../images/hilib/views/supertinyeditor/icons2-small.png')
			background-repeat no-repeat

			&:hover 
				background-color #fff

		.ste-control
			&.bold
				background-position 0px -120px
			&.italic
				background-position 0px -150px
			&.underline
				background-position 0px -180px
			&.strikethrough
				background-position 0px -210px
			&.subscript
				background-position 0px -240px
			&.superscript
				background-position 0px -270px
			&.outdent
				background-position 0px -360px
			&.indent
				background-position 0px -390px
			&.removeFormat
				background-position 0px -720px
			&.undo
				background-position 0px -540px
			&.redo
				background-position 0px -570px
		
		.ste-control-wordwrap
			background-position 0px -810px

		.ste-control-diacritics
			&.diacritics
				background-position 0px -780px

		.ste-button
			float left
			padding 0 6px 0 6px
			cursor pointer
			font-weight bold
			line-height 20px
			border 1px solid #CCC
			margin 3px 0 0 6px
			border-radius 6px
			box-shadow 1px 1px 1px #CCC

			&:hover 
				color #444
				background-color #DDD

			&[data-action="save"]
				color #CCC
				box-shadow none

				&:hover
					color #CCC
					background-color inherit
					cursor default
				
				&.active
					color #666
					box-shadow 1px 1px 1px #CCC

					&:hover
						background-color #DDD
						cursor pointer
						color green

			&[data-action="cancel"]:hover
				color orange

		.ste-footer 
			height 32px
			border-top 1px solid #bbb
			background #f5f5f5

	.ste-font 
		margin-left 12px

	.ste-size 
		margin 0 3px

	.ste-style 
		margin-right 12px


	.toggle 
		float left
		background url(../images/hilib/views/supertinyeditor/icons2.png) -34px 2px no-repeat
		padding 9px 13px 0 31px
		height 23px
		border-right 1px solid #ccc
		cursor pointer
		color #666

		&:hover 
			background-color #fff

	.resize 
		float right
		height 32px
		width 32px
		background url(../images/hilib/views/supertinyeditor/resize.gif) 15px 15px no-repeat
		cursor s-resize

	#editor 
		cursor text
		margin 10px
@import './import/*'

.faceted-search
	hr
		border none
		height 1px
		background-color #EEE
		margin 10px 8px

		&:last-child
			display none

	// i
	// 	cursor pointer
	// 	font-size 1.2em
	// 	color #AAA

	// 	&:hover, &.active
	// 		color #555

	.facet
		position relative
		// border-bottom 1px solid #EEE
		// margin-bottom 10px
		// padding-bottom 10px

		// &:last-child
		// 	border none


		
		header
			// i.openclose
			// 	position absolute
			// 	left -8px
			// 	top 9px
			// 	color #DDD

			// 	&:hover, &.active
			// 		color #AAA

			h3
				padding 0
				margin 0
				display inline
				cursor pointer

			.options
				display none
				background-color #EEE
				margin 10px -4%
				padding 2% 4%
				border-radius 4px
				margin-top 10px


		&.list, &.boolean				
			ul
				list-style none

				li
					white-space nowrap
					position relative
					min-height 15px

					*
						vertical-align top

					&[data-count="0"]
						label
							color lighten(#555, 50%)
						.count
							color lighten(#555, 80%)

					label, .count
						color #555

					label
						margin-left 4px
						margin-right 48px
					
					.count
						width 30px
						// margin-right 2px
						text-align right
						position absolute
						right 2px
						top 0

					i
						font-size 1.2em
						cursor pointer

						&.fa-square-o
							color #AAA

							&:hover
								color #555
						
						&.fa-check-square-o
							color #555

					input[type="checkbox"], label
						white-space normal
						// margin 0
						display inline-block

					input[type="checkbox"]
						margin-top 2px

					:checked + label
						color #000
		
		.body
			max-height 200px
			margin-top 10px
.row
	font-size 0
	width 100%

	*
		vertical-align top

	.aligncenter
		text-align center

	.alignright
		text-align right

	.cell
		display inline-block
		font-size 1rem
		width 100%

		// Test class to make divs visible for testing
		&.test
			background-color rgba(0, 0, 255, 0.5)
			min-height 200px

rows(divisions)
	for division in divisions
		range = 1...division

		for r in range
			.row.span{division} > .cell.span{r}
				width floor((r/division)*100%)

rows(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20)

pads(percentages)
	for perc in percentages
		.pad{perc}
			padding perc * 1%

		.padl{perc}
			padding-left perc * 1%

		.padr{perc}
			padding-right perc * 1%

		.padt{perc}
			padding-top perc * 1%

		.padb{perc}
			padding-bottom perc * 1%


pads(1 2 3 4 5 6 7 8 9 10)
@keyframes shrink
	0%
		transform scale(1, 1)	
	25%
		transform scale(0.7, 0.7)	
	50%
		transform scale(1, 1)	
	75%
		transform scale(0.7, 0.7)	
	100%
		transform scale(1, 1)

@keyframes grow
	0%
		transform scale(1, 1)	
	25%
		transform scale(1.2, 1.2)	
	50%
		transform scale(1, 1)	
	75%
		transform scale(1.2, 1.2)	
	100%
		transform scale(1, 1)	

.faceted-search-placeholder
	.overlay
		background rgba(0, 0, 0, 0.2)
		position absolute
		z-index 1
		border-radius 8px
		display none

		div
			position fixed
			padding 20px
			background #FFF
			border-radius 30px
			box-shadow 1px 1px 10px #000
			margin-left -20px
			margin-top -20px

	.faceted-search

		button
			background none
			box-shadow none
			border 1px solid #CCC
			border-radius 3px
			cursor pointer
			line-height 24px
			width 100%

		ul
			margin 0
			padding 0

		input[type="checkbox"]
			margin 0
			padding 0
		
		form
			border-radius 8px // Put a border radius for the box-shadow
			box-shadow 0 0 6px #AAA

			h3, h4
				margin 0
				color black

			ul
				li
					margin 0

			// input[type=text]
			// 	border 1px solid #DDD
			// 	border-radius 4px
			// 	padding-left 4%
			// 	margin 0
			// 	width 96%

			// 	&#search
			// 		height 24px
					
			// 		&.loading
			// 			background white url('../images/loader.gif') no-repeat
			// 			background-position right 2% center
			
			.facets			
				.loader
					display none
					text-align center
					padding 30px 0

			.align.middle
				line-height 24px

				& *
					vertical-align middle

			ul.facets-menu
				list-style none
				margin 0 0 10px 10px

				li
					&.switch
						margin-bottom 16px

					&:hover
						i.fa
							&.fa-compress
								animation shrink 1s 0 1

							&.fa-expand
								animation grow 1s 0 1

							&.fa-refresh
								transform rotate(180deg)

					button
						line-height 16px
						width 160px
						border 1px solid #EEE
						text-align left

						i.fa
							cursor pointer
							transition transform 300ms
							font-size 1em
							display inline-block
							width 12px 
							text-align center

						span
							padding-left 6px
							cursor pointer
.faceted-search.search-type-simple, .faceted-search.search-type-advanced
	border none
	background none

	form
		box-shadow none

		.text-search
			position relative
			box-shadow none
			background none

			.pad3
				padding 0 3%

			.body

				.menu
					margin-bottom 18px
					display none

					&:hover
						i.fa-times
							opacity 1

					i.fa-times
						opacity 0
						float right
						margin-right 2px
						font-size 1.4em
						transition opacity 500ms

				.row-1, .row-2
					margin 10px 0 0 2px

					.cell-1, .cell-2
						display inline-block
						vertical-align top

					.cell-1
						width 120px

				label
					font-size 0.9em

				input[type="checkbox"]
					margin-right 4px

				ul.textlayers, ul.searchins
					margin-top 6px
					list-style none

.faceted-search.search-type-advanced
	form
		ul.facets-menu
			li
				&.collapse-expand
					display block

				&.switch
					span:after
						content ' simple'

.faceted-search.search-type-simple
	form
		ul.facets-menu
			li
				&.collapse-expand
					display none

				&.switch
					span:after
						content ' advanced'

		.facets
			display none
			
.faceted-search
	.text-search
		.search-input
			input
				box-sizing border-box
				border-right 0
				border-bottom-left-radius 3px
				border-top-left-radius 3px
				width 85%
				height 30px
				border 1px solid #EEE
				margin 0
				padding-left 8px
				font-size 1.2em

			i.fa-search
				background #CCC
				color white
				border-bottom-right-radius 3px
				border-top-right-radius 3px
				line-height 30px
				text-align center
				vertical-align top
				width 15%
.facet.list
	header
		input[name="dummy"]
			width 24px
			margin-left 10px
			height 11px
			padding 0 0 0 4px

		.options
			*
				vertical-align middle

			input, small
				display inline-block

			input[name="all"]
				visibility hidden

			input[name="filter"]
				width 120px
				margin-left 2px
				padding-left 2px

				&.nonefound
					color #D10000

			small.optioncount
				margin-left 8px

		div.menu
			display inline-block
			float right
			cursor pointer

			i.fa
				font-size 1em
				margin 2px 0 0 4px

	.body
		.container
			max-height inherit
			overflow-y auto
			overflow-x hidden

			li
				i.hidden
					display none



	// nav
	// 	ul
	// 		padding 0
	// 		margin 0
	// 		list-style none

	// 		li
	// 			font-size 0.8em
	// 			cursor pointer
	// 			display inline-block
	// 			margin-left 2px
@import '../import/*'

// Sync handleSize with RangeFacet view!
handleSize = 12px
sliderHeight = 6px

.facet.range
	.body
		height 32px
		padding-top 6px

		.slider
			select_none()

			height sliderHeight
			background #EEE
			border-radius sliderHeight
			box-shadow inset 1px 1px (sliderHeight/2) #888
			position relative
			margin 0 (handleSize/2)

			button
				display none
				position absolute
				left 95px
				width 80px
				border-radius 4px
				outline none
				border none
				background rgba(255, 189, 223, 0.3)
				top 18px
				color #444


			.bar
				height sliderHeight
				background rgba(225, 9, 121, 0.3)
				left 0
				right 0
				position absolute
				z-index 1


			.min-handle, .max-handle
				position absolute
				width handleSize
				height handleSize
				border-radius handleSize
				background #CCC
				box-shadow inset 1px 1px (handleSize/2) #444
				cursor pointer
				z-index 2

			.min-handle
				left -1 * (handleSize/2)
				top ((handleSize - sliderHeight)/-2)

			.max-handle
				// left 391px
				top ((handleSize - sliderHeight)/-2)

			.min-value
				position relative
				top 20px
				display inline-block

			.max-value
				position relative
				top 20px
				display inline-block
				float right
// @import '../import/*'

// .faceted-search
// 	form
// 		.search-placeholder
// 			.facet.search
// 				// border-bottom-left-radius 0
// 				// border-bottom-right-radius 0

// 				header
// 					.options
// 						h4
// 							margin-top 4px

// 						ul								
// 							li
// 								ul
// 									margin 2px 0 8px 14px

// 									li
// 										margin-bottom 0

// 				h3
// 					cursor default

// 				// button
// 				// 	background-color #EEE
// 				// 	color #BBB
// 				// 	border 0
// 				// 	box-shadow 1px 1px 1px #DDD
// 				// 	border-radius 6px
// 				// 	margin-top -1px
					
// 				// 	height 28px
// 				// 	width 100%
// 				// 	min-width 50px


// 				// 	&.active
// 				// 		vertical_gradient(#DDD, #F1F1F1)
// 				// 		color #666
// 				// 		cursor pointer
// 				// 		box-shadow 1px 1px 1px #BDBDBD
					
// 				// 		&:active
// 				// 			vertical_gradient(#F1F1F1, #DDD)
// 				// 			box-shadow -1px -1px 1px #BDBDBD

// 				ul
// 					list-style none
vertical_gradient(topColor, bottomColor)
	background topColor
	background -moz-linear-gradient(top, topColor 0%, bottomColor 100%)
	background -webkit-gradient(linear, left top, left bottom, color-stop(0%,topColor), color-stop(100%,bottomColor))
	background -webkit-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -o-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -ms-linear-gradient(top, topColor 0%,bottomColor 100%)
	background linear-gradient(to bottom, topColor 0%,bottomColor 100%)
	filter unquot('progid:DXImageTransform.Microsoft.gradient(startColorstr="topColor", endColorstr="bottomColor",GradientType=0 )')

select_none()
	-webkit-touch-callout none
	-webkit-user-select none
	-khtml-user-select none
	-moz-user-select none
	-ms-user-select none
	user-select none
backgroundcolor = #F1F1F1
textColor = #666
lightestGrey = #eee
numberHighlight = #BA5DB6

.elaborate-annotated-text
	.annotations
		font-size 10px

		header
			height 40px
			background white
			position relative
			z-index 2

		ol
			list-style none
			padding 0 0 0 20px
			margin 0
			counter-reset section
			position relative
			z-index 1

			&.active
				li
					white-space normal

			li
				font-size 12px
				padding-left 6px
				margin-bottom 10px
				white-space nowrap
				overflow-x hidden
				text-overflow ellipsis
				color textColor
				counter-increment section

				&:before
					content counter(section)
					display inline-block
					text-align center
					width 20px
					position absolute
					left 0
					padding 2px 0
					background-color lightestGrey
					color grey
					border-radius 2px
					font-size 0.8em

				&:hover, &.show, &.highlight, &.active
					cursor pointer

					&:before
						background-color numberHighlight
						color white

				&.hide
					visibility hidden
					height 0
					padding 0
					margin 0


				&.show, &.highlight
					white-space normal

					div.type
						display block

					hr
						display block

					// .text
					// 	margin -14px 0 0 31px

				&.highlight
					.number span
						color white
						background-color numberHighlight

				&.highlight, &:hover, &.active
					color darken(textColor, 40%)

					& > span
						color darken(textColor, 40%)

				div.type
					display none

					span
						font-size 0.8em
						display inline-block
						color black
						background-color lightestGrey
						padding 2px 4px
						margin 0 0 8px -4px
						border-radius 2px

				hr
					display none
					border 0
					height 1px
					background-color lighten(numberHighlight, 80%)
lightGrey = #f5f5f5

.elaborate-annotated-text
	position relative

	select
		font-family sans-serif
		font-size 10px
		margin-right 4px
		width 100px
		background none
		border 1px solid #DDD

		&:focus
			outline none

	i.fa
		color darken(lightGrey, 20%)
		font-size 12px
		line-height 20px

		&:hover
			cursor pointer
			color #888

	.text, .annotations
		.highlight, .highlight-term
			display inline
			padding 1px 0
			border-radius 2px

		.highlight
			background-color numberHighlight
			color white

		.highlight-term
			background lighten(#FF0, 40%)
			padding 1px 5px 2px 5px
			border-radius 4px
			box-shadow 1px 1px 2px #CCC
lightGrey = #f5f5f5
numberHighlight = #BA5DB6
annotationsBackground = #fcf
highlightColor = lighten(annotationsBackground, 40%)

.elaborate-annotated-text
	.text
		position relative
		counter-reset section

		&.alexander
			.line
				font-family 'Alexander'
		&.junicode
			.line
				font-family 'Junicode'
		&.samba
			.line
				font-family 'Samba'

		header
			height 40px
			margin-bottom -4px

			select
				margin-left 10px

			h3
				margin 0 4px 0 28px
				padding 0
				display inline-block

			i.fa
				margin-right 4px

		.line
			// font-family "Junicode", serif;
			line-height 28px
			counter-increment section
			position relative
			margin-left 20px
			padding-left 8px

			&:before
				content counter(section)
				position absolute
				top 1px
				width 20px
				left -20px
				text-align right
				font-size 0.8em
				font-family sans-serif
				color darken(lightGrey, 30%)

			sup
				line-height 0

				&[data-marker]
					cursor pointer
					color darken(annotationsBackground, 30%)
					margin 0 5px 0 2px
					font-style normal

					&:hover
						color black
						background-color highlightColor

		span.searched
			background-color #A5DFCC
			font-weight bolder
.faceted-search-results
	.resultview.edit-multiple-entry-metadata
		div.entries
			ul
				list-style none

				li
					.edit-mode
						display block

					.default-mode
						display none

		header
			nav
				ul > li
					&.select-all
						display inline-block
						
					&.levels
						display none

		.editselection-placeholder
			background #F1F1F1
			box-shadow 0 0 6px #AAA
			margin 3px 20px 20px 0
			border-radius 6px

			h3
				margin 0
				padding 12px

			.row
				overflow-y auto

				form
					padding 12px

					li
						*
							vertical-align middle

						input
							margin-left 4px

			footer
				text-align right
				padding 8px 8px 8px 0

				*
					vertical-align middle

				button[name="savemetadata"]
					margin 0

					&.loader
						background white
						padding-bottom 6px

						&:after
							content url('/images/loader.gif')
							margin-left 6px
							position relative
							top 3px

				button[name="cancel"]
					background none
					border none
					color #F66
					border-radius 4px

				span
					margin 0 8px 0 4px
spotcolor = #46aaa8
spotcolor2 = #FFBEFC

.faceted-search-results
	position absolute
	top 120px
	left 0
	right 0
	bottom 0
	overflow hidden

	.submenu
		box-shadow 0 12px 12px #FFF

		li[data-key="publish"]
			&.active
				padding-right 24px

				&:after
					position absolute
					top 3px
					right 5px
					content url('/images/loader_transparent.gif')

	.faceted-search-placeholder
		position absolute
		left 0
		top 0
		bottom 0
		padding 0 20px 20px 20px
		overflow-y auto
		width 300px
article
	h2
		text-align center
		margin-top 30px

		i.print
			font-size 0.7em
			color #AAA
			cursor pointer
			margin-left 10px
article
	position relative

	.panels-menu, .metadata
		user-select none
		position absolute
		width 10%
		z-index 3
		font-size 9pt
		top -5px

		& > ul
			border 1px solid #CCC

		& > button

			&:after
				content: ' ▼'

		& > ul
			position absolute
			display none
			list-style none
			padding 20px
			margin: -3px 0 0 0
			background white
			box-sizing: border-box
			border-bottom-left-radius 3px
			border-bottom-right-radius 3px
			border-top-right-radius 3px

		// & > ul
		// 	background-color lighten(turquoise, 90%)
		// 	padding: 5px
		// 	border-bottom-left-radius 4px
		// 	border-bottom-right-radius 4px
		// 	box-shadow 1px 1px 1px #EEE

	.panels-menu
		right 2.5%

		& > ul
			right 0

			li
				cursor move
				white-space nowrap

				&.placeholder
					display none

				i.fa.checkbox
					margin-right 2px
					color gray
					cursor pointer

					&.fa-square-o
						margin-right 4px

	.metadata
		left 2.5%

		& > ul
			line-height 24px
			max-width 520px
			overflow-y auto

			li
				white-space nowrap
				border-top 1px solid #EEE

				&:first-child
					border none

				label, span
					display inline-block

				label
					width 120px
					color #555

				span
					max-width 400px
					overflow ellipsis
					vertical-align middle

article > .panels
	overflow auto
	white-space nowrap

	.elaborate-annotated-text.hidden
		display none
			
	.facsimile
		display inline-block
		width 33%
		vertical-align top
		padding 0 10px
		box-sizing border-box

		&.hidden
			display none

		header
			height 40px

			h3
				margin 0
				paddin 0
				
			select
				font-family sans-serif
				font-size 10px
				margin-right 4px
				width 100px
				background none
				border 1px solid #DDD

		iframe
			border 0
			// min-height 500px
		
		// min-height 100px // so text isn't pushed left
		@media print
			display none
@media print
	html, body
		overflow visible !important

	body > header
		padding 0

	#main
		.entries
			.entry
				& > header
					display none

				article
					h2, h3, h4
						margin 0
						padding 0

					.panels-menu, .metadata
						display none

					.panels
						height auto !important

						.facsimile
							display none !important

						.elaborate-annotated-text
							width 100%
							margin-bottom 100px

							&.visible
								display block !important

							.text, .annotations
								width 100%
								display block

							.text
								h3
									font-size 1.2em
									color black

							.annotations
								ol
									list-style decimal !important

									li
										overflow-x visible

										&:before
											background none
											content none !important

										div.type
											display block

											span
												background none
												padding 0
												margin 0

										span
											white-space normal

							
								

					i, select
						display none

spotcolor = #46aaa8
spotcolor2 = #FFBEFC

.resultview
	div.entries
		& > ul
			& > li
				margin-bottom 12px

				&:hover
					cursor pointer
					
					label.main
						background lighten(#6CA1E5, 80%)
						cursor pointer

				&.fulltext:hover
					cursor default

					label.main
						background none
						cursor default
				
				.edit-mode
					display none

					input
						display inline-block
						margin-right 4px
				
				label.main
					text-decoration none
					color black
					font-size 1.4rem
					padding 2px 0
					border-radius 2px

				.found
					color white
					background #BBB
					border-radius 2px
					display inline-block
					margin 10px 0 4px 0
					padding 0 4px
				
				.metadata
					ul
						list-style none
						padding-top 4px

						li
							margin-bottom 0px
							// display inline-block
							// width 30%

							span.key
								color #999

				.keywords
					color #999

					ul
						list-style none

						& > li
							overflow-x hidden
							white-space nowrap
							text-overflow ellipsis
							line-height 20px
							margin-left -4px
							padding 0 4px
							border-radius 3px
							cursor pointer

							&:hover
								background lighten(#6CA1E5, 80%)

							label, ul.kwic
								display inline-block

							label
								width 20%
								vertical-align top
								overflow ellipsis
								cursor pointer

							ul.kwic
								width 80%

								li
									em
										background lighten(#FF0, 40%)
										padding 2px 5px 1px 5px
										-webkit-border-radius 4px
										border-radius 4px
										-webkit-box-shadow 1px 1px 2px #CCC
										box-shadow 1px 1px 2px #CCC
.resultview
	position absolute
	left 370px
	top 0
	bottom 0
	right 0

	ul
		list-style none
		padding 0
		margin 0

	div.entries
		absolute top 80px right 0 bottom 0 left 0
		overflow-y auto

	header
		background white
		// padding 0 18px 12px 0
		border-bottom 1px solid #DDD
		padding-bottom 12px

		h3, nav
			display inline-block

		h3
			margin-top 0	

		nav
			color spotcolor
			margin-left 20px

			& > ul
				*
					vertical-align middle

				& > li
					margin-left 6px
					cursor pointer
					display inline-block

					&.display-keywords
						display none

						input
							margin-right 2px

					&.select-all
						display none

					label
						color black
						cursor default
li.sort-levels
	button
		position relative
		z-index 3

		i.fa
			margin-left 4px

	button, select
		background white
		border 1px solid rgb(224, 224, 224)
		outline none

	div.levels
		display none
		position absolute
		padding 20px
		z-index 2
		margin -4px 0 0 -19px
		padding-top 0

		ul
			margin-top -23px
			margin-left -18px
			border 1px solid #EEE
			margin 1px
			list-style none
			border-bottom-left-radius 4px
			border-bottom-right-radius 4px
			border-top-right-radius 4px
			padding 20px
			background #FFF

		&.show-save-button
			padding-bottom 14px

			li.search
				display block


		li
			margin-bottom 10px

			&.search
				display none

				button
					float right
					width 100px

			label, i.fa
				color gray
				line-height 18px
			
			i.fa:hover
				color black
			
			select, i.fa
				margin-left 6px
				height 18px
@import './import/functions.styl'
@import './import/variables.styl'

.btn
	button()

	&.ok
		okbutton()
		
	&.cancel
		cancelbutton()

	&.small
		line-height 14px
myblue = #88B1C8

.autosuggest, .combolist, .editablelist
	position relative

	.input
		position relative
		display inline-block
		z-index 2

		input
			width 180px
			border 1px solid #CCC
			padding-left 4px

			&:focus
				outline-color myblue

		div.caret
			cursor pointer
			position absolute
			top 1px
			right 1px
			bottom 1px
			padding 0 16px
			background: linear-gradient(to right, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 50%);

			&:after
				position absolute
				top 50%
				margin-top -2px
				right 6px
				width 0
				height 0
				border-top 4px solid #000
				border-right 4px solid rgba(0, 0, 0, 0)
				border-left 4px solid rgba(0, 0, 0, 0)
				content ""

	button.add, button.edit
		background-color myblue
		color white
		border-radius 4px
		border 0
		height 18px
		margin 3px 0 3px 10px
		display none

		&:hover
			background-color darken(myblue, 20%)

		&.visible
			display inline-block

.autosuggest, .combolist
	ul.list
		white-space nowrap
		max-height 360px
		overflow-y auto
		overflow-x hidden
		display none
		position absolute
		left 0px
		background-color white
		list-style none
		margin 3px 0 0 0
		box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
		padding 4px 0
		border-radius 4px
		border 1px solid #CCC
		z-index 3

		li
			cursor pointer
			padding 2px 24px 2px 8px
		
			&:hover
				color white
				background-image linear-gradient(to bottom, myblue, #6291AC)

			&.active
				color white
				background-image: linear-gradient(to bottom, myblue, #6291AC);

.editablelist, .combolist
	.empty
		color #AAA
		font-style italic
		padding 4px 0 0 16px

	ul.selected
		display block
		list-style square
		padding 10px 0 0 16px

		li
			line-height 16px

			span:hover
				cursor pointer
				background #FFCFCF
				position relative
				border-radius 2px
				padding 2px 24px 2px 4px

				&:after
					position absolute
					content ''
					background url('../images/hilib/views/form/icon.bin.png') no-repeat
					right 0
					width 14px
					height 14px
					top 50%
					margin-top -7px
ul.longpress
	position absolute
	background-color rgba(0, 0, 0, 0.5)
	bottom 0
	left 0
	right 0
	height auto
	list-style none
	padding 6px
	text-align center
	border-top-left-radius 12px
	border-top-right-radius 12px
	white-space normal
	margin 0 10px	

	li
		display inline-block
		padding 2px 6px
		background-color black
		color white
		border-radius 6px
		font-weight bold
		font-size 1.5em
		margin 3px
		border 2px solid @background-color

		&:hover
			border 2px solid white
			box-shadow 0px 0px 12px white
			cursor pointer
.modal
	.overlay
		position fixed
		left 0
		top 0
		background-color black
		right 0
		bottom 0
		opacity 0.7

	.modalbody
		position fixed
		left 50vw
		top 50vh
		width 50vw
		height auto
		margin-left -(@width / 2)
		// margin-top -25vh
		background-color white
		border-radius 8px
		padding 20px
		box-shadow 1px 1px 8px #000
		box-sizing border-box

		header
			h2
				margin 0
				padding-top 0

			p.message
				display none

				&.success
					color green

				&.warning
					color orange			

				&.error
					color red

		.body
			margin 20px 0 40px 0
			overflow auto

		footer
			position absolute
			bottom 20px
			right 20px
			text-align right

			button
				margin-left 8px

				&.submit
					max-width 200px
					white-space nowrap
					text-overflow ellipsis
					overflow hidden


// .modal
// 	.modalbody
// 		.body
// 			form
// 				label
// 					display inline-block 
// 					width 84px

// 				textarea
// 					width 300px
// 					height 200px

select_none()
	-webkit-touch-callout none
	-webkit-user-select none
	-khtml-user-select none
	-moz-user-select none
	-ms-user-select none
	user-select none

ul.pagination
	select_none()
	list-style none

	li
		display inline-block
		padding 0 4px

		&.prev10, &.prev, &.next, &.next10
			color #CCC
			pointer default

			&.active
				color black
				cursor pointer

		&.text
			color gray
.ste-control-diacritics
	position relative
	
	&:hover > .diacritics-placeholder
		display block

.diacritics-placeholder
	display none
	position absolute
	padding 31px // Only top needs 31px the right, bottom, left are for extra hover space
	left -98px

	ul.diacritics
		list-style none
		width 160px
		height 300px
		overflow auto
		padding 6px
		text-align center
		white-space normal	
		background-color rgba(0, 0, 0, 0.5)

		li
			display inline-block
			background-color black
			color #eee
			border-radius 4px
			font-weight bold
			font-size 1.2em
			margin 3px
			border 1px solid @background-color
			width 20px
			line-height 20px

			&:hover
				border 1px solid white
				box-shadow 0px 0px 12px white
				cursor pointer
				color #fff

	// ul.diacritics
	// 	list-style none
	// 	width 100px
	// 	height 200px
	// 	overflow auto

	// 	li
	// 		padding 3px
	// 		display inline-block

	// 		&:hover
	// 			outline white
.ste-iframe-body
	margin 0
	padding 0 0 10px 0
	font 12px Verdana, Arial, Helvetica, sans-serif
	white-space nowrap
	
	&.wrap
		white-space normal

.supertinyeditor
	// html, body, iframe
	// 	height 100%

	iframe
		min-height 46px
		border none

		html
			min-width initial

		// overflow-x hidden

		// body
		// 	margin 0
		// 	padding 25px
		// 	font 12px Verdana, Arial, Helvetica, sans-serif

	.ste-header
		font-family Bookman
		color #666
		height 31px
		border-bottom 1px solid #bbb
		background url('../images/hilib/views/supertinyeditor/header-bg.gif') repeat-x
		padding-top 1px

		select 
			float left
			margin-top 5px
	
		.ste-divider 
			float left
			width 1px
			height 30px
			background #ccc

		.ste-control, .ste-control-diacritics, .ste-control-wordwrap
			float left
			width 24px
			height 30px
			// margin-left 4px
			cursor pointer
			background-image url('../images/hilib/views/supertinyeditor/icons2-small.png')
			background-repeat no-repeat

			&:hover 
				background-color #fff

		.ste-control
			&.bold
				background-position 0px -120px
			&.italic
				background-position 0px -150px
			&.underline
				background-position 0px -180px
			&.strikethrough
				background-position 0px -210px
			&.subscript
				background-position 0px -240px
			&.superscript
				background-position 0px -270px
			&.outdent
				background-position 0px -360px
			&.indent
				background-position 0px -390px
			&.removeFormat
				background-position 0px -720px
			&.undo
				background-position 0px -540px
			&.redo
				background-position 0px -570px
		
		.ste-control-wordwrap
			background-position 0px -810px

		.ste-control-diacritics
			&.diacritics
				background-position 0px -780px

		.ste-button
			float left
			padding 0 6px 0 6px
			cursor pointer
			font-weight bold
			line-height 20px
			border 1px solid #CCC
			margin 3px 0 0 6px
			border-radius 6px
			box-shadow 1px 1px 1px #CCC

			&:hover 
				color #444
				background-color #DDD

			&[data-action="save"]
				color #CCC
				box-shadow none

				&:hover
					color #CCC
					background-color inherit
					cursor default
				
				&.active
					color #666
					box-shadow 1px 1px 1px #CCC

					&:hover
						background-color #DDD
						cursor pointer
						color green

			&[data-action="cancel"]:hover
				color orange

		.ste-footer 
			height 32px
			border-top 1px solid #bbb
			background #f5f5f5

	.ste-font 
		margin-left 12px

	.ste-size 
		margin 0 3px

	.ste-style 
		margin-right 12px


	.toggle 
		float left
		background url(../images/hilib/views/supertinyeditor/icons2.png) -34px 2px no-repeat
		padding 9px 13px 0 31px
		height 23px
		border-right 1px solid #ccc
		cursor pointer
		color #666

		&:hover 
			background-color #fff

	.resize 
		float right
		height 32px
		width 32px
		background url(../images/hilib/views/supertinyeditor/resize.gif) 15px 15px no-repeat
		cursor s-resize

	#editor 
		cursor text
		margin 10px
@import './import/*'

.faceted-search
	hr
		border none
		height 1px
		background-color #EEE
		margin 10px 8px

		&:last-child
			display none

	// i
	// 	cursor pointer
	// 	font-size 1.2em
	// 	color #AAA

	// 	&:hover, &.active
	// 		color #555

	.facet
		position relative
		// border-bottom 1px solid #EEE
		// margin-bottom 10px
		// padding-bottom 10px

		// &:last-child
		// 	border none


		
		header
			// i.openclose
			// 	position absolute
			// 	left -8px
			// 	top 9px
			// 	color #DDD

			// 	&:hover, &.active
			// 		color #AAA

			h3
				padding 0
				margin 0
				display inline
				cursor pointer

			.options
				display none
				background-color #EEE
				margin 10px -4%
				padding 2% 4%
				border-radius 4px
				margin-top 10px


		&.list, &.boolean				
			ul
				list-style none

				li
					white-space nowrap
					position relative
					min-height 15px

					*
						vertical-align top

					&[data-count="0"]
						label
							color lighten(#555, 50%)
						.count
							color lighten(#555, 80%)

					label, .count
						color #555

					label
						margin-left 4px
						margin-right 48px
					
					.count
						width 30px
						// margin-right 2px
						text-align right
						position absolute
						right 2px
						top 0

					i
						font-size 1.2em
						cursor pointer

						&.fa-square-o
							color #AAA

							&:hover
								color #555
						
						&.fa-check-square-o
							color #555

					input[type="checkbox"], label
						white-space normal
						// margin 0
						display inline-block

					input[type="checkbox"]
						margin-top 2px

					:checked + label
						color #000
		
		.body
			max-height 200px
			margin-top 10px
.row
	font-size 0
	width 100%

	*
		vertical-align top

	.aligncenter
		text-align center

	.alignright
		text-align right

	.cell
		display inline-block
		font-size 1rem
		width 100%

		// Test class to make divs visible for testing
		&.test
			background-color rgba(0, 0, 255, 0.5)
			min-height 200px

rows(divisions)
	for division in divisions
		range = 1...division

		for r in range
			.row.span{division} > .cell.span{r}
				width floor((r/division)*100%)

rows(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20)

pads(percentages)
	for perc in percentages
		.pad{perc}
			padding perc * 1%

		.padl{perc}
			padding-left perc * 1%

		.padr{perc}
			padding-right perc * 1%

		.padt{perc}
			padding-top perc * 1%

		.padb{perc}
			padding-bottom perc * 1%


pads(1 2 3 4 5 6 7 8 9 10)
@keyframes shrink
	0%
		transform scale(1, 1)	
	25%
		transform scale(0.7, 0.7)	
	50%
		transform scale(1, 1)	
	75%
		transform scale(0.7, 0.7)	
	100%
		transform scale(1, 1)

@keyframes grow
	0%
		transform scale(1, 1)	
	25%
		transform scale(1.2, 1.2)	
	50%
		transform scale(1, 1)	
	75%
		transform scale(1.2, 1.2)	
	100%
		transform scale(1, 1)	

.faceted-search-placeholder
	.overlay
		background rgba(0, 0, 0, 0.2)
		position absolute
		z-index 1
		border-radius 8px
		display none

		div
			position fixed
			padding 20px
			background #FFF
			border-radius 30px
			box-shadow 1px 1px 10px #000
			margin-left -20px
			margin-top -20px

	.faceted-search

		button
			background none
			box-shadow none
			border 1px solid #CCC
			border-radius 3px
			cursor pointer
			line-height 24px
			width 100%

		ul
			margin 0
			padding 0

		input[type="checkbox"]
			margin 0
			padding 0
		
		form
			border-radius 8px // Put a border radius for the box-shadow
			box-shadow 0 0 6px #AAA

			h3, h4
				margin 0
				color black

			ul
				li
					margin 0

			// input[type=text]
			// 	border 1px solid #DDD
			// 	border-radius 4px
			// 	padding-left 4%
			// 	margin 0
			// 	width 96%

			// 	&#search
			// 		height 24px
					
			// 		&.loading
			// 			background white url('../images/loader.gif') no-repeat
			// 			background-position right 2% center
			
			.facets			
				.loader
					display none
					text-align center
					padding 30px 0

			.align.middle
				line-height 24px

				& *
					vertical-align middle

			ul.facets-menu
				list-style none
				margin 0 0 10px 10px

				li
					&.switch
						margin-bottom 16px

					&:hover
						i.fa
							&.fa-compress
								animation shrink 1s 0 1

							&.fa-expand
								animation grow 1s 0 1

							&.fa-refresh
								transform rotate(180deg)

					button
						line-height 16px
						width 160px
						border 1px solid #EEE
						text-align left

						i.fa
							cursor pointer
							transition transform 300ms
							font-size 1em
							display inline-block
							width 12px 
							text-align center

						span
							padding-left 6px
							cursor pointer
.faceted-search.search-type-simple, .faceted-search.search-type-advanced
	border none
	background none

	form
		box-shadow none

		.text-search
			position relative
			box-shadow none
			background none

			.pad3
				padding 0 3%

			.body

				.menu
					margin-bottom 18px
					display none

					&:hover
						i.fa-times
							opacity 1

					i.fa-times
						opacity 0
						float right
						margin-right 2px
						font-size 1.4em
						transition opacity 500ms

				.row-1, .row-2
					margin 10px 0 0 2px

					.cell-1, .cell-2
						display inline-block
						vertical-align top

					.cell-1
						width 120px

				label
					font-size 0.9em

				input[type="checkbox"]
					margin-right 4px

				ul.textlayers, ul.searchins
					margin-top 6px
					list-style none

.faceted-search.search-type-advanced
	form
		ul.facets-menu
			li
				&.collapse-expand
					display block

				&.switch
					span:after
						content ' simple'

.faceted-search.search-type-simple
	form
		ul.facets-menu
			li
				&.collapse-expand
					display none

				&.switch
					span:after
						content ' advanced'

		.facets
			display none
			
.faceted-search
	.text-search
		.search-input
			input
				box-sizing border-box
				border-right 0
				border-bottom-left-radius 3px
				border-top-left-radius 3px
				width 85%
				height 30px
				border 1px solid #EEE
				margin 0
				padding-left 8px
				font-size 1.2em

			i.fa-search
				background #CCC
				color white
				border-bottom-right-radius 3px
				border-top-right-radius 3px
				line-height 30px
				text-align center
				vertical-align top
				width 15%
.facet.list
	header
		input[name="dummy"]
			width 24px
			margin-left 10px
			height 11px
			padding 0 0 0 4px

		.options
			*
				vertical-align middle

			input, small
				display inline-block

			input[name="all"]
				visibility hidden

			input[name="filter"]
				width 120px
				margin-left 2px
				padding-left 2px

				&.nonefound
					color #D10000

			small.optioncount
				margin-left 8px

		div.menu
			display inline-block
			float right
			cursor pointer

			i.fa
				font-size 1em
				margin 2px 0 0 4px

	.body
		.container
			max-height inherit
			overflow-y auto
			overflow-x hidden

			li
				i.hidden
					display none



	// nav
	// 	ul
	// 		padding 0
	// 		margin 0
	// 		list-style none

	// 		li
	// 			font-size 0.8em
	// 			cursor pointer
	// 			display inline-block
	// 			margin-left 2px
@import '../import/*'

// Sync handleSize with RangeFacet view!
handleSize = 12px
sliderHeight = 6px

.facet.range
	.body
		height 32px
		padding-top 6px

		.slider
			select_none()

			height sliderHeight
			background #EEE
			border-radius sliderHeight
			box-shadow inset 1px 1px (sliderHeight/2) #888
			position relative
			margin 0 (handleSize/2)

			button
				display none
				position absolute
				left 95px
				width 80px
				border-radius 4px
				outline none
				border none
				background rgba(255, 189, 223, 0.3)
				top 18px
				color #444


			.bar
				height sliderHeight
				background rgba(225, 9, 121, 0.3)
				left 0
				right 0
				position absolute
				z-index 1


			.min-handle, .max-handle
				position absolute
				width handleSize
				height handleSize
				border-radius handleSize
				background #CCC
				box-shadow inset 1px 1px (handleSize/2) #444
				cursor pointer
				z-index 2

			.min-handle
				left -1 * (handleSize/2)
				top ((handleSize - sliderHeight)/-2)

			.max-handle
				// left 391px
				top ((handleSize - sliderHeight)/-2)

			.min-value
				position relative
				top 20px
				display inline-block

			.max-value
				position relative
				top 20px
				display inline-block
				float right
// @import '../import/*'

// .faceted-search
// 	form
// 		.search-placeholder
// 			.facet.search
// 				// border-bottom-left-radius 0
// 				// border-bottom-right-radius 0

// 				header
// 					.options
// 						h4
// 							margin-top 4px

// 						ul								
// 							li
// 								ul
// 									margin 2px 0 8px 14px

// 									li
// 										margin-bottom 0

// 				h3
// 					cursor default

// 				// button
// 				// 	background-color #EEE
// 				// 	color #BBB
// 				// 	border 0
// 				// 	box-shadow 1px 1px 1px #DDD
// 				// 	border-radius 6px
// 				// 	margin-top -1px
					
// 				// 	height 28px
// 				// 	width 100%
// 				// 	min-width 50px


// 				// 	&.active
// 				// 		vertical_gradient(#DDD, #F1F1F1)
// 				// 		color #666
// 				// 		cursor pointer
// 				// 		box-shadow 1px 1px 1px #BDBDBD
					
// 				// 		&:active
// 				// 			vertical_gradient(#F1F1F1, #DDD)
// 				// 			box-shadow -1px -1px 1px #BDBDBD

// 				ul
// 					list-style none
vertical_gradient(topColor, bottomColor)
	background topColor
	background -moz-linear-gradient(top, topColor 0%, bottomColor 100%)
	background -webkit-gradient(linear, left top, left bottom, color-stop(0%,topColor), color-stop(100%,bottomColor))
	background -webkit-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -o-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -ms-linear-gradient(top, topColor 0%,bottomColor 100%)
	background linear-gradient(to bottom, topColor 0%,bottomColor 100%)
	filter unquot('progid:DXImageTransform.Microsoft.gradient(startColorstr="topColor", endColorstr="bottomColor",GradientType=0 )')

select_none()
	-webkit-touch-callout none
	-webkit-user-select none
	-khtml-user-select none
	-moz-user-select none
	-ms-user-select none
	user-select none
backgroundcolor = #F1F1F1
textColor = #666
lightestGrey = #eee
numberHighlight = #BA5DB6

.elaborate-annotated-text
	.annotations
		font-size 10px

		header
			height 40px
			background white
			position relative
			z-index 2

		ol
			list-style none
			padding 0 0 0 20px
			margin 0
			counter-reset section
			position relative
			z-index 1

			&.active
				li
					white-space normal

			li
				font-size 12px
				padding-left 6px
				margin-bottom 10px
				white-space nowrap
				overflow-x hidden
				text-overflow ellipsis
				color textColor
				counter-increment section

				&:before
					content counter(section)
					display inline-block
					text-align center
					width 20px
					position absolute
					left 0
					padding 2px 0
					background-color lightestGrey
					color grey
					border-radius 2px
					font-size 0.8em

				&:hover, &.show, &.highlight, &.active
					cursor pointer

					&:before
						background-color numberHighlight
						color white

				&.hide
					visibility hidden
					height 0
					padding 0
					margin 0


				&.show, &.highlight
					white-space normal

					div.type
						display block

					hr
						display block

					// .text
					// 	margin -14px 0 0 31px

				&.highlight
					.number span
						color white
						background-color numberHighlight

				&.highlight, &:hover, &.active
					color darken(textColor, 40%)

					& > span
						color darken(textColor, 40%)

				div.type
					display none

					span
						font-size 0.8em
						display inline-block
						color black
						background-color lightestGrey
						padding 2px 4px
						margin 0 0 8px -4px
						border-radius 2px

				hr
					display none
					border 0
					height 1px
					background-color lighten(numberHighlight, 80%)
lightGrey = #f5f5f5

.elaborate-annotated-text
	position relative

	select
		font-family sans-serif
		font-size 10px
		margin-right 4px
		width 100px
		background none
		border 1px solid #DDD

		&:focus
			outline none

	i.fa
		color darken(lightGrey, 20%)
		font-size 12px
		line-height 20px

		&:hover
			cursor pointer
			color #888

	.text, .annotations
		.highlight, .highlight-term
			display inline
			padding 1px 0
			border-radius 2px

		.highlight
			background-color numberHighlight
			color white

		.highlight-term
			background lighten(#FF0, 40%)
			padding 1px 5px 2px 5px
			border-radius 4px
			box-shadow 1px 1px 2px #CCC
lightGrey = #f5f5f5
numberHighlight = #BA5DB6
annotationsBackground = #fcf
highlightColor = lighten(annotationsBackground, 40%)

.elaborate-annotated-text
	.text
		position relative
		counter-reset section

		&.alexander
			.line
				font-family 'Alexander'
		&.junicode
			.line
				font-family 'Junicode'
		&.samba
			.line
				font-family 'Samba'

		header
			height 40px
			margin-bottom -4px

			select
				margin-left 10px

			h3
				margin 0 4px 0 28px
				padding 0
				display inline-block

			i.fa
				margin-right 4px

		.line
			// font-family "Junicode", serif;
			line-height 28px
			counter-increment section
			position relative
			margin-left 20px
			padding-left 8px

			&:before
				content counter(section)
				position absolute
				top 1px
				width 20px
				left -20px
				text-align right
				font-size 0.8em
				font-family sans-serif
				color darken(lightGrey, 30%)

			sup
				line-height 0

				&[data-marker]
					cursor pointer
					color darken(annotationsBackground, 30%)
					margin 0 5px 0 2px
					font-style normal

					&:hover
						color black
						background-color highlightColor

		span.searched
			background-color #A5DFCC
			font-weight bolder
.faceted-search-results
	.resultview.edit-multiple-entry-metadata
		div.entries
			ul
				list-style none

				li
					.edit-mode
						display block

					.default-mode
						display none

		header
			nav
				ul > li
					&.select-all
						display inline-block
						
					&.levels
						display none

		.editselection-placeholder
			background #F1F1F1
			box-shadow 0 0 6px #AAA
			margin 3px 20px 20px 0
			border-radius 6px

			h3
				margin 0
				padding 12px

			.row
				overflow-y auto

				form
					padding 12px

					li
						*
							vertical-align middle

						input
							margin-left 4px

			footer
				text-align right
				padding 8px 8px 8px 0

				*
					vertical-align middle

				button[name="savemetadata"]
					margin 0

					&.loader
						background white
						padding-bottom 6px

						&:after
							content url('/images/loader.gif')
							margin-left 6px
							position relative
							top 3px

				button[name="cancel"]
					background none
					border none
					color #F66
					border-radius 4px

				span
					margin 0 8px 0 4px
spotcolor = #46aaa8
spotcolor2 = #FFBEFC

.faceted-search-results
	position absolute
	top 120px
	left 0
	right 0
	bottom 0
	overflow hidden

	.submenu
		box-shadow 0 12px 12px #FFF

		li[data-key="publish"]
			&.active
				padding-right 24px

				&:after
					position absolute
					top 3px
					right 5px
					content url('/images/loader_transparent.gif')

	.faceted-search-placeholder
		position absolute
		left 0
		top 0
		bottom 0
		padding 0 20px 20px 20px
		overflow-y auto
		width 300px
article
	h2
		text-align center
		margin-top 30px

		i.print
			font-size 0.7em
			color #AAA
			cursor pointer
			margin-left 10px
article
	position relative

	.panels-menu, .metadata
		user-select none
		position absolute
		width 10%
		z-index 3
		font-size 9pt
		top -5px

		& > ul
			border 1px solid #CCC

		& > button

			&:after
				content: ' ▼'

		& > ul
			position absolute
			display none
			list-style none
			padding 20px
			margin: -3px 0 0 0
			background white
			box-sizing: border-box
			border-bottom-left-radius 3px
			border-bottom-right-radius 3px
			border-top-right-radius 3px

		// & > ul
		// 	background-color lighten(turquoise, 90%)
		// 	padding: 5px
		// 	border-bottom-left-radius 4px
		// 	border-bottom-right-radius 4px
		// 	box-shadow 1px 1px 1px #EEE

	.panels-menu
		right 2.5%

		& > ul
			right 0

			li
				cursor move
				white-space nowrap

				&.placeholder
					display none

				i.fa.checkbox
					margin-right 2px
					color gray
					cursor pointer

					&.fa-square-o
						margin-right 4px

	.metadata
		left 2.5%

		& > ul
			line-height 24px
			max-width 520px
			overflow-y auto

			li
				white-space nowrap
				border-top 1px solid #EEE

				&:first-child
					border none

				label, span
					display inline-block

				label
					width 120px
					color #555

				span
					max-width 400px
					overflow ellipsis
					vertical-align middle

article > .panels
	overflow auto
	white-space nowrap

	.elaborate-annotated-text.hidden
		display none
			
	.facsimile
		display inline-block
		width 33%
		vertical-align top
		padding 0 10px
		box-sizing border-box

		&.hidden
			display none

		header
			height 40px

			h3
				margin 0
				paddin 0
				
			select
				font-family sans-serif
				font-size 10px
				margin-right 4px
				width 100px
				background none
				border 1px solid #DDD

		iframe
			border 0
			// min-height 500px
		
		// min-height 100px // so text isn't pushed left
		@media print
			display none
@media print
	html, body
		overflow visible !important

	body > header
		padding 0

	#main
		.entries
			.entry
				& > header
					display none

				article
					h2, h3, h4
						margin 0
						padding 0

					.panels-menu, .metadata
						display none

					.panels
						height auto !important

						.facsimile
							display none !important

						.elaborate-annotated-text
							width 100%
							margin-bottom 100px

							&.visible
								display block !important

							.text, .annotations
								width 100%
								display block

							.text
								h3
									font-size 1.2em
									color black

							.annotations
								ol
									list-style decimal !important

									li
										overflow-x visible

										&:before
											background none
											content none !important

										div.type
											display block

											span
												background none
												padding 0
												margin 0

										span
											white-space normal

							
								

					i, select
						display none

spotcolor = #46aaa8
spotcolor2 = #FFBEFC

.resultview
	div.entries
		& > ul
			& > li
				margin-bottom 12px

				&:hover
					cursor pointer
					
					label.main
						background lighten(#6CA1E5, 80%)
						cursor pointer

				&.fulltext:hover
					cursor default

					label.main
						background none
						cursor default
				
				.edit-mode
					display none

					input
						display inline-block
						margin-right 4px
				
				label.main
					text-decoration none
					color black
					font-size 1.4rem
					padding 2px 0
					border-radius 2px

				.found
					color white
					background #BBB
					border-radius 2px
					display inline-block
					margin 10px 0 4px 0
					padding 0 4px
				
				.metadata
					ul
						list-style none
						padding-top 4px

						li
							margin-bottom 0px
							// display inline-block
							// width 30%

							span.key
								color #999

				.keywords
					color #999

					ul
						list-style none

						& > li
							overflow-x hidden
							white-space nowrap
							text-overflow ellipsis
							line-height 20px
							margin-left -4px
							padding 0 4px
							border-radius 3px
							cursor pointer

							&:hover
								background lighten(#6CA1E5, 80%)

							label, ul.kwic
								display inline-block

							label
								width 20%
								vertical-align top
								overflow ellipsis
								cursor pointer

							ul.kwic
								width 80%

								li
									em
										background lighten(#FF0, 40%)
										padding 2px 5px 1px 5px
										-webkit-border-radius 4px
										border-radius 4px
										-webkit-box-shadow 1px 1px 2px #CCC
										box-shadow 1px 1px 2px #CCC
.resultview
	position absolute
	left 370px
	top 0
	bottom 0
	right 0

	ul
		list-style none
		padding 0
		margin 0

	div.entries
		absolute top 80px right 0 bottom 0 left 0
		overflow-y auto

	header
		background white
		// padding 0 18px 12px 0
		border-bottom 1px solid #DDD
		padding-bottom 12px

		h3, nav
			display inline-block

		h3
			margin-top 0	

		nav
			color spotcolor
			margin-left 20px

			& > ul
				*
					vertical-align middle

				& > li
					margin-left 6px
					cursor pointer
					display inline-block

					&.display-keywords
						display none

						input
							margin-right 2px

					&.select-all
						display none

					label
						color black
						cursor default
li.sort-levels
	button
		position relative
		z-index 3

		i.fa
			margin-left 4px

	button, select
		background white
		border 1px solid rgb(224, 224, 224)
		outline none

	div.levels
		display none
		position absolute
		padding 20px
		z-index 2
		margin -4px 0 0 -19px
		padding-top 0

		ul
			margin-top -23px
			margin-left -18px
			border 1px solid #EEE
			margin 1px
			list-style none
			border-bottom-left-radius 4px
			border-bottom-right-radius 4px
			border-top-right-radius 4px
			padding 20px
			background #FFF

		&.show-save-button
			padding-bottom 14px

			li.search
				display block


		li
			margin-bottom 10px

			&.search
				display none

				button
					float right
					width 100px

			label, i.fa
				color gray
				line-height 18px
			
			i.fa:hover
				color black
			
			select, i.fa
				margin-left 6px
				height 18px
@import './import/functions.styl'
@import './import/variables.styl'

.btn
	button()

	&.ok
		okbutton()
		
	&.cancel
		cancelbutton()

	&.small
		line-height 14px
myblue = #88B1C8

.autosuggest, .combolist, .editablelist
	position relative

	.input
		position relative
		display inline-block
		z-index 2

		input
			width 180px
			border 1px solid #CCC
			padding-left 4px

			&:focus
				outline-color myblue

		div.caret
			cursor pointer
			position absolute
			top 1px
			right 1px
			bottom 1px
			padding 0 16px
			background: linear-gradient(to right, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 50%);

			&:after
				position absolute
				top 50%
				margin-top -2px
				right 6px
				width 0
				height 0
				border-top 4px solid #000
				border-right 4px solid rgba(0, 0, 0, 0)
				border-left 4px solid rgba(0, 0, 0, 0)
				content ""

	button.add, button.edit
		background-color myblue
		color white
		border-radius 4px
		border 0
		height 18px
		margin 3px 0 3px 10px
		display none

		&:hover
			background-color darken(myblue, 20%)

		&.visible
			display inline-block

.autosuggest, .combolist
	ul.list
		white-space nowrap
		max-height 360px
		overflow-y auto
		overflow-x hidden
		display none
		position absolute
		left 0px
		background-color white
		list-style none
		margin 3px 0 0 0
		box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
		padding 4px 0
		border-radius 4px
		border 1px solid #CCC
		z-index 3

		li
			cursor pointer
			padding 2px 24px 2px 8px
		
			&:hover
				color white
				background-image linear-gradient(to bottom, myblue, #6291AC)

			&.active
				color white
				background-image: linear-gradient(to bottom, myblue, #6291AC);

.editablelist, .combolist
	.empty
		color #AAA
		font-style italic
		padding 4px 0 0 16px

	ul.selected
		display block
		list-style square
		padding 10px 0 0 16px

		li
			line-height 16px

			span:hover
				cursor pointer
				background #FFCFCF
				position relative
				border-radius 2px
				padding 2px 24px 2px 4px

				&:after
					position absolute
					content ''
					background url('../images/hilib/views/form/icon.bin.png') no-repeat
					right 0
					width 14px
					height 14px
					top 50%
					margin-top -7px
ul.longpress
	position absolute
	background-color rgba(0, 0, 0, 0.5)
	bottom 0
	left 0
	right 0
	height auto
	list-style none
	padding 6px
	text-align center
	border-top-left-radius 12px
	border-top-right-radius 12px
	white-space normal
	margin 0 10px	

	li
		display inline-block
		padding 2px 6px
		background-color black
		color white
		border-radius 6px
		font-weight bold
		font-size 1.5em
		margin 3px
		border 2px solid @background-color

		&:hover
			border 2px solid white
			box-shadow 0px 0px 12px white
			cursor pointer
.modal
	.overlay
		position fixed
		left 0
		top 0
		background-color black
		right 0
		bottom 0
		opacity 0.7

	.modalbody
		position fixed
		left 50vw
		top 50vh
		width 50vw
		height auto
		margin-left -(@width / 2)
		// margin-top -25vh
		background-color white
		border-radius 8px
		padding 20px
		box-shadow 1px 1px 8px #000
		box-sizing border-box

		header
			h2
				margin 0
				padding-top 0

			p.message
				display none

				&.success
					color green

				&.warning
					color orange			

				&.error
					color red

		.body
			margin 20px 0 40px 0
			overflow auto

		footer
			position absolute
			bottom 20px
			right 20px
			text-align right

			button
				margin-left 8px

				&.submit
					max-width 200px
					white-space nowrap
					text-overflow ellipsis
					overflow hidden


// .modal
// 	.modalbody
// 		.body
// 			form
// 				label
// 					display inline-block 
// 					width 84px

// 				textarea
// 					width 300px
// 					height 200px

select_none()
	-webkit-touch-callout none
	-webkit-user-select none
	-khtml-user-select none
	-moz-user-select none
	-ms-user-select none
	user-select none

ul.pagination
	select_none()
	list-style none

	li
		display inline-block
		padding 0 4px

		&.prev10, &.prev, &.next, &.next10
			color #CCC
			pointer default

			&.active
				color black
				cursor pointer

		&.text
			color gray
.ste-control-diacritics
	position relative
	
	&:hover > .diacritics-placeholder
		display block

.diacritics-placeholder
	display none
	position absolute
	padding 31px // Only top needs 31px the right, bottom, left are for extra hover space
	left -98px

	ul.diacritics
		list-style none
		width 160px
		height 300px
		overflow auto
		padding 6px
		text-align center
		white-space normal	
		background-color rgba(0, 0, 0, 0.5)

		li
			display inline-block
			background-color black
			color #eee
			border-radius 4px
			font-weight bold
			font-size 1.2em
			margin 3px
			border 1px solid @background-color
			width 20px
			line-height 20px

			&:hover
				border 1px solid white
				box-shadow 0px 0px 12px white
				cursor pointer
				color #fff

	// ul.diacritics
	// 	list-style none
	// 	width 100px
	// 	height 200px
	// 	overflow auto

	// 	li
	// 		padding 3px
	// 		display inline-block

	// 		&:hover
	// 			outline white
.ste-iframe-body
	margin 0
	padding 0 0 10px 0
	font 12px Verdana, Arial, Helvetica, sans-serif
	white-space nowrap
	
	&.wrap
		white-space normal

.supertinyeditor
	// html, body, iframe
	// 	height 100%

	iframe
		min-height 46px
		border none

		html
			min-width initial

		// overflow-x hidden

		// body
		// 	margin 0
		// 	padding 25px
		// 	font 12px Verdana, Arial, Helvetica, sans-serif

	.ste-header
		font-family Bookman
		color #666
		height 31px
		border-bottom 1px solid #bbb
		background url('../images/hilib/views/supertinyeditor/header-bg.gif') repeat-x
		padding-top 1px

		select 
			float left
			margin-top 5px
	
		.ste-divider 
			float left
			width 1px
			height 30px
			background #ccc

		.ste-control, .ste-control-diacritics, .ste-control-wordwrap
			float left
			width 24px
			height 30px
			// margin-left 4px
			cursor pointer
			background-image url('../images/hilib/views/supertinyeditor/icons2-small.png')
			background-repeat no-repeat

			&:hover 
				background-color #fff

		.ste-control
			&.bold
				background-position 0px -120px
			&.italic
				background-position 0px -150px
			&.underline
				background-position 0px -180px
			&.strikethrough
				background-position 0px -210px
			&.subscript
				background-position 0px -240px
			&.superscript
				background-position 0px -270px
			&.outdent
				background-position 0px -360px
			&.indent
				background-position 0px -390px
			&.removeFormat
				background-position 0px -720px
			&.undo
				background-position 0px -540px
			&.redo
				background-position 0px -570px
		
		.ste-control-wordwrap
			background-position 0px -810px

		.ste-control-diacritics
			&.diacritics
				background-position 0px -780px

		.ste-button
			float left
			padding 0 6px 0 6px
			cursor pointer
			font-weight bold
			line-height 20px
			border 1px solid #CCC
			margin 3px 0 0 6px
			border-radius 6px
			box-shadow 1px 1px 1px #CCC

			&:hover 
				color #444
				background-color #DDD

			&[data-action="save"]
				color #CCC
				box-shadow none

				&:hover
					color #CCC
					background-color inherit
					cursor default
				
				&.active
					color #666
					box-shadow 1px 1px 1px #CCC

					&:hover
						background-color #DDD
						cursor pointer
						color green

			&[data-action="cancel"]:hover
				color orange

		.ste-footer 
			height 32px
			border-top 1px solid #bbb
			background #f5f5f5

	.ste-font 
		margin-left 12px

	.ste-size 
		margin 0 3px

	.ste-style 
		margin-right 12px


	.toggle 
		float left
		background url(../images/hilib/views/supertinyeditor/icons2.png) -34px 2px no-repeat
		padding 9px 13px 0 31px
		height 23px
		border-right 1px solid #ccc
		cursor pointer
		color #666

		&:hover 
			background-color #fff

	.resize 
		float right
		height 32px
		width 32px
		background url(../images/hilib/views/supertinyeditor/resize.gif) 15px 15px no-repeat
		cursor s-resize

	#editor 
		cursor text
		margin 10px
@import './import/*'

.faceted-search
	hr
		border none
		height 1px
		background-color #EEE
		margin 10px 8px

		&:last-child
			display none

	// i
	// 	cursor pointer
	// 	font-size 1.2em
	// 	color #AAA

	// 	&:hover, &.active
	// 		color #555

	.facet
		position relative
		// border-bottom 1px solid #EEE
		// margin-bottom 10px
		// padding-bottom 10px

		// &:last-child
		// 	border none


		
		header
			// i.openclose
			// 	position absolute
			// 	left -8px
			// 	top 9px
			// 	color #DDD

			// 	&:hover, &.active
			// 		color #AAA

			h3
				padding 0
				margin 0
				display inline
				cursor pointer

			.options
				display none
				background-color #EEE
				margin 10px -4%
				padding 2% 4%
				border-radius 4px
				margin-top 10px


		&.list, &.boolean				
			ul
				list-style none

				li
					white-space nowrap
					position relative
					min-height 15px

					*
						vertical-align top

					&[data-count="0"]
						label
							color lighten(#555, 50%)
						.count
							color lighten(#555, 80%)

					label, .count
						color #555

					label
						margin-left 4px
						margin-right 48px
					
					.count
						width 30px
						// margin-right 2px
						text-align right
						position absolute
						right 2px
						top 0

					i
						font-size 1.2em
						cursor pointer

						&.fa-square-o
							color #AAA

							&:hover
								color #555
						
						&.fa-check-square-o
							color #555

					input[type="checkbox"], label
						white-space normal
						// margin 0
						display inline-block

					input[type="checkbox"]
						margin-top 2px

					:checked + label
						color #000
		
		.body
			max-height 200px
			margin-top 10px
.row
	font-size 0
	width 100%

	*
		vertical-align top

	.aligncenter
		text-align center

	.alignright
		text-align right

	.cell
		display inline-block
		font-size 1rem
		width 100%

		// Test class to make divs visible for testing
		&.test
			background-color rgba(0, 0, 255, 0.5)
			min-height 200px

rows(divisions)
	for division in divisions
		range = 1...division

		for r in range
			.row.span{division} > .cell.span{r}
				width floor((r/division)*100%)

rows(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20)

pads(percentages)
	for perc in percentages
		.pad{perc}
			padding perc * 1%

		.padl{perc}
			padding-left perc * 1%

		.padr{perc}
			padding-right perc * 1%

		.padt{perc}
			padding-top perc * 1%

		.padb{perc}
			padding-bottom perc * 1%


pads(1 2 3 4 5 6 7 8 9 10)
@keyframes shrink
	0%
		transform scale(1, 1)	
	25%
		transform scale(0.7, 0.7)	
	50%
		transform scale(1, 1)	
	75%
		transform scale(0.7, 0.7)	
	100%
		transform scale(1, 1)

@keyframes grow
	0%
		transform scale(1, 1)	
	25%
		transform scale(1.2, 1.2)	
	50%
		transform scale(1, 1)	
	75%
		transform scale(1.2, 1.2)	
	100%
		transform scale(1, 1)	

.faceted-search-placeholder
	.overlay
		background rgba(0, 0, 0, 0.2)
		position absolute
		z-index 1
		border-radius 8px
		display none

		div
			position fixed
			padding 20px
			background #FFF
			border-radius 30px
			box-shadow 1px 1px 10px #000
			margin-left -20px
			margin-top -20px

	.faceted-search

		button
			background none
			box-shadow none
			border 1px solid #CCC
			border-radius 3px
			cursor pointer
			line-height 24px
			width 100%

		ul
			margin 0
			padding 0

		input[type="checkbox"]
			margin 0
			padding 0
		
		form
			border-radius 8px // Put a border radius for the box-shadow
			box-shadow 0 0 6px #AAA

			h3, h4
				margin 0
				color black

			ul
				li
					margin 0

			// input[type=text]
			// 	border 1px solid #DDD
			// 	border-radius 4px
			// 	padding-left 4%
			// 	margin 0
			// 	width 96%

			// 	&#search
			// 		height 24px
					
			// 		&.loading
			// 			background white url('../images/loader.gif') no-repeat
			// 			background-position right 2% center
			
			.facets			
				.loader
					display none
					text-align center
					padding 30px 0

			.align.middle
				line-height 24px

				& *
					vertical-align middle

			ul.facets-menu
				list-style none
				margin 0 0 10px 10px

				li
					&.switch
						margin-bottom 16px

					&:hover
						i.fa
							&.fa-compress
								animation shrink 1s 0 1

							&.fa-expand
								animation grow 1s 0 1

							&.fa-refresh
								transform rotate(180deg)

					button
						line-height 16px
						width 160px
						border 1px solid #EEE
						text-align left

						i.fa
							cursor pointer
							transition transform 300ms
							font-size 1em
							display inline-block
							width 12px 
							text-align center

						span
							padding-left 6px
							cursor pointer
.faceted-search.search-type-simple, .faceted-search.search-type-advanced
	border none
	background none

	form
		box-shadow none

		.text-search
			position relative
			box-shadow none
			background none

			.pad3
				padding 0 3%

			.body

				.menu
					margin-bottom 18px
					display none

					&:hover
						i.fa-times
							opacity 1

					i.fa-times
						opacity 0
						float right
						margin-right 2px
						font-size 1.4em
						transition opacity 500ms

				.row-1, .row-2
					margin 10px 0 0 2px

					.cell-1, .cell-2
						display inline-block
						vertical-align top

					.cell-1
						width 120px

				label
					font-size 0.9em

				input[type="checkbox"]
					margin-right 4px

				ul.textlayers, ul.searchins
					margin-top 6px
					list-style none

.faceted-search.search-type-advanced
	form
		ul.facets-menu
			li
				&.collapse-expand
					display block

				&.switch
					span:after
						content ' simple'

.faceted-search.search-type-simple
	form
		ul.facets-menu
			li
				&.collapse-expand
					display none

				&.switch
					span:after
						content ' advanced'

		.facets
			display none
			
.faceted-search
	.text-search
		.search-input
			input
				box-sizing border-box
				border-right 0
				border-bottom-left-radius 3px
				border-top-left-radius 3px
				width 85%
				height 30px
				border 1px solid #EEE
				margin 0
				padding-left 8px
				font-size 1.2em

			i.fa-search
				background #CCC
				color white
				border-bottom-right-radius 3px
				border-top-right-radius 3px
				line-height 30px
				text-align center
				vertical-align top
				width 15%
.facet.list
	header
		input[name="dummy"]
			width 24px
			margin-left 10px
			height 11px
			padding 0 0 0 4px

		.options
			*
				vertical-align middle

			input, small
				display inline-block

			input[name="all"]
				visibility hidden

			input[name="filter"]
				width 120px
				margin-left 2px
				padding-left 2px

				&.nonefound
					color #D10000

			small.optioncount
				margin-left 8px

		div.menu
			display inline-block
			float right
			cursor pointer

			i.fa
				font-size 1em
				margin 2px 0 0 4px

	.body
		.container
			max-height inherit
			overflow-y auto
			overflow-x hidden

			li
				i.hidden
					display none



	// nav
	// 	ul
	// 		padding 0
	// 		margin 0
	// 		list-style none

	// 		li
	// 			font-size 0.8em
	// 			cursor pointer
	// 			display inline-block
	// 			margin-left 2px
@import '../import/*'

// Sync handleSize with RangeFacet view!
handleSize = 12px
sliderHeight = 6px

.facet.range
	.body
		height 32px
		padding-top 6px

		.slider
			select_none()

			height sliderHeight
			background #EEE
			border-radius sliderHeight
			box-shadow inset 1px 1px (sliderHeight/2) #888
			position relative
			margin 0 (handleSize/2)

			button
				display none
				position absolute
				left 95px
				width 80px
				border-radius 4px
				outline none
				border none
				background rgba(255, 189, 223, 0.3)
				top 18px
				color #444


			.bar
				height sliderHeight
				background rgba(225, 9, 121, 0.3)
				left 0
				right 0
				position absolute
				z-index 1


			.min-handle, .max-handle
				position absolute
				width handleSize
				height handleSize
				border-radius handleSize
				background #CCC
				box-shadow inset 1px 1px (handleSize/2) #444
				cursor pointer
				z-index 2

			.min-handle
				left -1 * (handleSize/2)
				top ((handleSize - sliderHeight)/-2)

			.max-handle
				// left 391px
				top ((handleSize - sliderHeight)/-2)

			.min-value
				position relative
				top 20px
				display inline-block

			.max-value
				position relative
				top 20px
				display inline-block
				float right
// @import '../import/*'

// .faceted-search
// 	form
// 		.search-placeholder
// 			.facet.search
// 				// border-bottom-left-radius 0
// 				// border-bottom-right-radius 0

// 				header
// 					.options
// 						h4
// 							margin-top 4px

// 						ul								
// 							li
// 								ul
// 									margin 2px 0 8px 14px

// 									li
// 										margin-bottom 0

// 				h3
// 					cursor default

// 				// button
// 				// 	background-color #EEE
// 				// 	color #BBB
// 				// 	border 0
// 				// 	box-shadow 1px 1px 1px #DDD
// 				// 	border-radius 6px
// 				// 	margin-top -1px
					
// 				// 	height 28px
// 				// 	width 100%
// 				// 	min-width 50px


// 				// 	&.active
// 				// 		vertical_gradient(#DDD, #F1F1F1)
// 				// 		color #666
// 				// 		cursor pointer
// 				// 		box-shadow 1px 1px 1px #BDBDBD
					
// 				// 		&:active
// 				// 			vertical_gradient(#F1F1F1, #DDD)
// 				// 			box-shadow -1px -1px 1px #BDBDBD

// 				ul
// 					list-style none
vertical_gradient(topColor, bottomColor)
	background topColor
	background -moz-linear-gradient(top, topColor 0%, bottomColor 100%)
	background -webkit-gradient(linear, left top, left bottom, color-stop(0%,topColor), color-stop(100%,bottomColor))
	background -webkit-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -o-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -ms-linear-gradient(top, topColor 0%,bottomColor 100%)
	background linear-gradient(to bottom, topColor 0%,bottomColor 100%)
	filter unquot('progid:DXImageTransform.Microsoft.gradient(startColorstr="topColor", endColorstr="bottomColor",GradientType=0 )')

select_none()
	-webkit-touch-callout none
	-webkit-user-select none
	-khtml-user-select none
	-moz-user-select none
	-ms-user-select none
	user-select none
backgroundcolor = #F1F1F1
textColor = #666
lightestGrey = #eee
numberHighlight = #BA5DB6

.elaborate-annotated-text
	.annotations
		font-size 10px

		header
			height 40px
			background white
			position relative
			z-index 2

		ol
			list-style none
			padding 0 0 0 20px
			margin 0
			counter-reset section
			position relative
			z-index 1

			&.active
				li
					white-space normal

			li
				font-size 12px
				padding-left 6px
				margin-bottom 10px
				white-space nowrap
				overflow-x hidden
				text-overflow ellipsis
				color textColor
				counter-increment section

				&:before
					content counter(section)
					display inline-block
					text-align center
					width 20px
					position absolute
					left 0
					padding 2px 0
					background-color lightestGrey
					color grey
					border-radius 2px
					font-size 0.8em

				&:hover, &.show, &.highlight, &.active
					cursor pointer

					&:before
						background-color numberHighlight
						color white

				&.hide
					visibility hidden
					height 0
					padding 0
					margin 0


				&.show, &.highlight
					white-space normal

					div.type
						display block

					hr
						display block

					// .text
					// 	margin -14px 0 0 31px

				&.highlight
					.number span
						color white
						background-color numberHighlight

				&.highlight, &:hover, &.active
					color darken(textColor, 40%)

					& > span
						color darken(textColor, 40%)

				div.type
					display none

					span
						font-size 0.8em
						display inline-block
						color black
						background-color lightestGrey
						padding 2px 4px
						margin 0 0 8px -4px
						border-radius 2px

				hr
					display none
					border 0
					height 1px
					background-color lighten(numberHighlight, 80%)
lightGrey = #f5f5f5

.elaborate-annotated-text
	position relative

	select
		font-family sans-serif
		font-size 10px
		margin-right 4px
		width 100px
		background none
		border 1px solid #DDD

		&:focus
			outline none

	i.fa
		color darken(lightGrey, 20%)
		font-size 12px
		line-height 20px

		&:hover
			cursor pointer
			color #888

	.text, .annotations
		.highlight, .highlight-term
			display inline
			padding 1px 0
			border-radius 2px

		.highlight
			background-color numberHighlight
			color white

		.highlight-term
			background lighten(#FF0, 40%)
			padding 1px 5px 2px 5px
			border-radius 4px
			box-shadow 1px 1px 2px #CCC
lightGrey = #f5f5f5
numberHighlight = #BA5DB6
annotationsBackground = #fcf
highlightColor = lighten(annotationsBackground, 40%)

.elaborate-annotated-text
	.text
		position relative
		counter-reset section

		&.alexander
			.line
				font-family 'Alexander'
		&.junicode
			.line
				font-family 'Junicode'
		&.samba
			.line
				font-family 'Samba'

		header
			height 40px
			margin-bottom -4px

			select
				margin-left 10px

			h3
				margin 0 4px 0 28px
				padding 0
				display inline-block

			i.fa
				margin-right 4px

		.line
			// font-family "Junicode", serif;
			line-height 28px
			counter-increment section
			position relative
			margin-left 20px
			padding-left 8px

			&:before
				content counter(section)
				position absolute
				top 1px
				width 20px
				left -20px
				text-align right
				font-size 0.8em
				font-family sans-serif
				color darken(lightGrey, 30%)

			sup
				line-height 0

				&[data-marker]
					cursor pointer
					color darken(annotationsBackground, 30%)
					margin 0 5px 0 2px
					font-style normal

					&:hover
						color black
						background-color highlightColor

		span.searched
			background-color #A5DFCC
			font-weight bolder
.faceted-search-results
	.resultview.edit-multiple-entry-metadata
		div.entries
			ul
				list-style none

				li
					.edit-mode
						display block

					.default-mode
						display none

		header
			nav
				ul > li
					&.select-all
						display inline-block
						
					&.levels
						display none

		.editselection-placeholder
			background #F1F1F1
			box-shadow 0 0 6px #AAA
			margin 3px 20px 20px 0
			border-radius 6px

			h3
				margin 0
				padding 12px

			.row
				overflow-y auto

				form
					padding 12px

					li
						*
							vertical-align middle

						input
							margin-left 4px

			footer
				text-align right
				padding 8px 8px 8px 0

				*
					vertical-align middle

				button[name="savemetadata"]
					margin 0

					&.loader
						background white
						padding-bottom 6px

						&:after
							content url('/images/loader.gif')
							margin-left 6px
							position relative
							top 3px

				button[name="cancel"]
					background none
					border none
					color #F66
					border-radius 4px

				span
					margin 0 8px 0 4px
spotcolor = #46aaa8
spotcolor2 = #FFBEFC

.faceted-search-results
	position absolute
	top 120px
	left 0
	right 0
	bottom 0
	overflow hidden

	.submenu
		box-shadow 0 12px 12px #FFF

		li[data-key="publish"]
			&.active
				padding-right 24px

				&:after
					position absolute
					top 3px
					right 5px
					content url('/images/loader_transparent.gif')

	.faceted-search-placeholder
		position absolute
		left 0
		top 0
		bottom 0
		padding 0 20px 20px 20px
		overflow-y auto
		width 300px
article
	h2
		text-align center
		margin-top 30px

		i.print
			font-size 0.7em
			color #AAA
			cursor pointer
			margin-left 10px
article
	position relative

	.panels-menu, .metadata
		user-select none
		position absolute
		width 10%
		z-index 3
		font-size 9pt
		top -5px

		& > ul
			border 1px solid #CCC

		& > button

			&:after
				content: ' ▼'

		& > ul
			position absolute
			display none
			list-style none
			padding 20px
			margin: -3px 0 0 0
			background white
			box-sizing: border-box
			border-bottom-left-radius 3px
			border-bottom-right-radius 3px
			border-top-right-radius 3px

		// & > ul
		// 	background-color lighten(turquoise, 90%)
		// 	padding: 5px
		// 	border-bottom-left-radius 4px
		// 	border-bottom-right-radius 4px
		// 	box-shadow 1px 1px 1px #EEE

	.panels-menu
		right 2.5%

		& > ul
			right 0

			li
				cursor move
				white-space nowrap

				&.placeholder
					display none

				i.fa.checkbox
					margin-right 2px
					color gray
					cursor pointer

					&.fa-square-o
						margin-right 4px

	.metadata
		left 2.5%

		& > ul
			line-height 24px
			max-width 520px
			overflow-y auto

			li
				white-space nowrap
				border-top 1px solid #EEE

				&:first-child
					border none

				label, span
					display inline-block

				label
					width 120px
					color #555

				span
					max-width 400px
					overflow ellipsis
					vertical-align middle

article > .panels
	overflow auto
	white-space nowrap

	.elaborate-annotated-text.hidden
		display none
			
	.facsimile
		display inline-block
		width 33%
		vertical-align top
		padding 0 10px
		box-sizing border-box

		&.hidden
			display none

		header
			height 40px

			h3
				margin 0
				paddin 0
				
			select
				font-family sans-serif
				font-size 10px
				margin-right 4px
				width 100px
				background none
				border 1px solid #DDD

		iframe
			border 0
			// min-height 500px
		
		// min-height 100px // so text isn't pushed left
		@media print
			display none
@media print
	html, body
		overflow visible !important

	body > header
		padding 0

	#main
		.entries
			.entry
				& > header
					display none

				article
					h2, h3, h4
						margin 0
						padding 0

					.panels-menu, .metadata
						display none

					.panels
						height auto !important

						.facsimile
							display none !important

						.elaborate-annotated-text
							width 100%
							margin-bottom 100px

							&.visible
								display block !important

							.text, .annotations
								width 100%
								display block

							.text
								h3
									font-size 1.2em
									color black

							.annotations
								ol
									list-style decimal !important

									li
										overflow-x visible

										&:before
											background none
											content none !important

										div.type
											display block

											span
												background none
												padding 0
												margin 0

										span
											white-space normal

							
								

					i, select
						display none

spotcolor = #46aaa8
spotcolor2 = #FFBEFC

.resultview
	div.entries
		& > ul
			& > li
				margin-bottom 12px

				&:hover
					cursor pointer
					
					label.main
						background lighten(#6CA1E5, 80%)
						cursor pointer

				&.fulltext:hover
					cursor default

					label.main
						background none
						cursor default
				
				.edit-mode
					display none

					input
						display inline-block
						margin-right 4px
				
				label.main
					text-decoration none
					color black
					font-size 1.4rem
					padding 2px 0
					border-radius 2px

				.found
					color white
					background #BBB
					border-radius 2px
					display inline-block
					margin 10px 0 4px 0
					padding 0 4px
				
				.metadata
					ul
						list-style none
						padding-top 4px

						li
							margin-bottom 0px
							// display inline-block
							// width 30%

							span.key
								color #999

				.keywords
					color #999

					ul
						list-style none

						& > li
							overflow-x hidden
							white-space nowrap
							text-overflow ellipsis
							line-height 20px
							margin-left -4px
							padding 0 4px
							border-radius 3px
							cursor pointer

							&:hover
								background lighten(#6CA1E5, 80%)

							label, ul.kwic
								display inline-block

							label
								width 20%
								vertical-align top
								overflow ellipsis
								cursor pointer

							ul.kwic
								width 80%

								li
									em
										background lighten(#FF0, 40%)
										padding 2px 5px 1px 5px
										-webkit-border-radius 4px
										border-radius 4px
										-webkit-box-shadow 1px 1px 2px #CCC
										box-shadow 1px 1px 2px #CCC
.resultview
	position absolute
	left 370px
	top 0
	bottom 0
	right 0

	ul
		list-style none
		padding 0
		margin 0

	div.entries
		absolute top 80px right 0 bottom 0 left 0
		overflow-y auto

	header
		background white
		// padding 0 18px 12px 0
		border-bottom 1px solid #DDD
		padding-bottom 12px

		h3, nav
			display inline-block

		h3
			margin-top 0	

		nav
			color spotcolor
			margin-left 20px

			& > ul
				*
					vertical-align middle

				& > li
					margin-left 6px
					cursor pointer
					display inline-block

					&.display-keywords
						display none

						input
							margin-right 2px

					&.select-all
						display none

					label
						color black
						cursor default
li.sort-levels
	button
		position relative
		z-index 3

		i.fa
			margin-left 4px

	button, select
		background white
		border 1px solid rgb(224, 224, 224)
		outline none

	div.levels
		display none
		position absolute
		padding 20px
		z-index 2
		margin -4px 0 0 -19px
		padding-top 0

		ul
			margin-top -23px
			margin-left -18px
			border 1px solid #EEE
			margin 1px
			list-style none
			border-bottom-left-radius 4px
			border-bottom-right-radius 4px
			border-top-right-radius 4px
			padding 20px
			background #FFF

		&.show-save-button
			padding-bottom 14px

			li.search
				display block


		li
			margin-bottom 10px

			&.search
				display none

				button
					float right
					width 100px

			label, i.fa
				color gray
				line-height 18px
			
			i.fa:hover
				color black
			
			select, i.fa
				margin-left 6px
				height 18px
@import './import/functions.styl'
@import './import/variables.styl'

.btn
	button()

	&.ok
		okbutton()
		
	&.cancel
		cancelbutton()

	&.small
		line-height 14px
myblue = #88B1C8

.autosuggest, .combolist, .editablelist
	position relative

	.input
		position relative
		display inline-block
		z-index 2

		input
			width 180px
			border 1px solid #CCC
			padding-left 4px

			&:focus
				outline-color myblue

		div.caret
			cursor pointer
			position absolute
			top 1px
			right 1px
			bottom 1px
			padding 0 16px
			background: linear-gradient(to right, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 50%);

			&:after
				position absolute
				top 50%
				margin-top -2px
				right 6px
				width 0
				height 0
				border-top 4px solid #000
				border-right 4px solid rgba(0, 0, 0, 0)
				border-left 4px solid rgba(0, 0, 0, 0)
				content ""

	button.add, button.edit
		background-color myblue
		color white
		border-radius 4px
		border 0
		height 18px
		margin 3px 0 3px 10px
		display none

		&:hover
			background-color darken(myblue, 20%)

		&.visible
			display inline-block

.autosuggest, .combolist
	ul.list
		white-space nowrap
		max-height 360px
		overflow-y auto
		overflow-x hidden
		display none
		position absolute
		left 0px
		background-color white
		list-style none
		margin 3px 0 0 0
		box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
		padding 4px 0
		border-radius 4px
		border 1px solid #CCC
		z-index 3

		li
			cursor pointer
			padding 2px 24px 2px 8px
		
			&:hover
				color white
				background-image linear-gradient(to bottom, myblue, #6291AC)

			&.active
				color white
				background-image: linear-gradient(to bottom, myblue, #6291AC);

.editablelist, .combolist
	.empty
		color #AAA
		font-style italic
		padding 4px 0 0 16px

	ul.selected
		display block
		list-style square
		padding 10px 0 0 16px

		li
			line-height 16px

			span:hover
				cursor pointer
				background #FFCFCF
				position relative
				border-radius 2px
				padding 2px 24px 2px 4px

				&:after
					position absolute
					content ''
					background url('../images/hilib/views/form/icon.bin.png') no-repeat
					right 0
					width 14px
					height 14px
					top 50%
					margin-top -7px
ul.longpress
	position absolute
	background-color rgba(0, 0, 0, 0.5)
	bottom 0
	left 0
	right 0
	height auto
	list-style none
	padding 6px
	text-align center
	border-top-left-radius 12px
	border-top-right-radius 12px
	white-space normal
	margin 0 10px	

	li
		display inline-block
		padding 2px 6px
		background-color black
		color white
		border-radius 6px
		font-weight bold
		font-size 1.5em
		margin 3px
		border 2px solid @background-color

		&:hover
			border 2px solid white
			box-shadow 0px 0px 12px white
			cursor pointer
.modal
	.overlay
		position fixed
		left 0
		top 0
		background-color black
		right 0
		bottom 0
		opacity 0.7

	.modalbody
		position fixed
		left 50vw
		top 50vh
		width 50vw
		height auto
		margin-left -(@width / 2)
		// margin-top -25vh
		background-color white
		border-radius 8px
		padding 20px
		box-shadow 1px 1px 8px #000
		box-sizing border-box

		header
			h2
				margin 0
				padding-top 0

			p.message
				display none

				&.success
					color green

				&.warning
					color orange			

				&.error
					color red

		.body
			margin 20px 0 40px 0
			overflow auto

		footer
			position absolute
			bottom 20px
			right 20px
			text-align right

			button
				margin-left 8px

				&.submit
					max-width 200px
					white-space nowrap
					text-overflow ellipsis
					overflow hidden


// .modal
// 	.modalbody
// 		.body
// 			form
// 				label
// 					display inline-block 
// 					width 84px

// 				textarea
// 					width 300px
// 					height 200px

select_none()
	-webkit-touch-callout none
	-webkit-user-select none
	-khtml-user-select none
	-moz-user-select none
	-ms-user-select none
	user-select none

ul.pagination
	select_none()
	list-style none

	li
		display inline-block
		padding 0 4px

		&.prev10, &.prev, &.next, &.next10
			color #CCC
			pointer default

			&.active
				color black
				cursor pointer

		&.text
			color gray
.ste-control-diacritics
	position relative
	
	&:hover > .diacritics-placeholder
		display block

.diacritics-placeholder
	display none
	position absolute
	padding 31px // Only top needs 31px the right, bottom, left are for extra hover space
	left -98px

	ul.diacritics
		list-style none
		width 160px
		height 300px
		overflow auto
		padding 6px
		text-align center
		white-space normal	
		background-color rgba(0, 0, 0, 0.5)

		li
			display inline-block
			background-color black
			color #eee
			border-radius 4px
			font-weight bold
			font-size 1.2em
			margin 3px
			border 1px solid @background-color
			width 20px
			line-height 20px

			&:hover
				border 1px solid white
				box-shadow 0px 0px 12px white
				cursor pointer
				color #fff

	// ul.diacritics
	// 	list-style none
	// 	width 100px
	// 	height 200px
	// 	overflow auto

	// 	li
	// 		padding 3px
	// 		display inline-block

	// 		&:hover
	// 			outline white
.ste-iframe-body
	margin 0
	padding 0 0 10px 0
	font 12px Verdana, Arial, Helvetica, sans-serif
	white-space nowrap
	
	&.wrap
		white-space normal

.supertinyeditor
	// html, body, iframe
	// 	height 100%

	iframe
		min-height 46px
		border none

		html
			min-width initial

		// overflow-x hidden

		// body
		// 	margin 0
		// 	padding 25px
		// 	font 12px Verdana, Arial, Helvetica, sans-serif

	.ste-header
		font-family Bookman
		color #666
		height 31px
		border-bottom 1px solid #bbb
		background url('../images/hilib/views/supertinyeditor/header-bg.gif') repeat-x
		padding-top 1px

		select 
			float left
			margin-top 5px
	
		.ste-divider 
			float left
			width 1px
			height 30px
			background #ccc

		.ste-control, .ste-control-diacritics, .ste-control-wordwrap
			float left
			width 24px
			height 30px
			// margin-left 4px
			cursor pointer
			background-image url('../images/hilib/views/supertinyeditor/icons2-small.png')
			background-repeat no-repeat

			&:hover 
				background-color #fff

		.ste-control
			&.bold
				background-position 0px -120px
			&.italic
				background-position 0px -150px
			&.underline
				background-position 0px -180px
			&.strikethrough
				background-position 0px -210px
			&.subscript
				background-position 0px -240px
			&.superscript
				background-position 0px -270px
			&.outdent
				background-position 0px -360px
			&.indent
				background-position 0px -390px
			&.removeFormat
				background-position 0px -720px
			&.undo
				background-position 0px -540px
			&.redo
				background-position 0px -570px
		
		.ste-control-wordwrap
			background-position 0px -810px

		.ste-control-diacritics
			&.diacritics
				background-position 0px -780px

		.ste-button
			float left
			padding 0 6px 0 6px
			cursor pointer
			font-weight bold
			line-height 20px
			border 1px solid #CCC
			margin 3px 0 0 6px
			border-radius 6px
			box-shadow 1px 1px 1px #CCC

			&:hover 
				color #444
				background-color #DDD

			&[data-action="save"]
				color #CCC
				box-shadow none

				&:hover
					color #CCC
					background-color inherit
					cursor default
				
				&.active
					color #666
					box-shadow 1px 1px 1px #CCC

					&:hover
						background-color #DDD
						cursor pointer
						color green

			&[data-action="cancel"]:hover
				color orange

		.ste-footer 
			height 32px
			border-top 1px solid #bbb
			background #f5f5f5

	.ste-font 
		margin-left 12px

	.ste-size 
		margin 0 3px

	.ste-style 
		margin-right 12px


	.toggle 
		float left
		background url(../images/hilib/views/supertinyeditor/icons2.png) -34px 2px no-repeat
		padding 9px 13px 0 31px
		height 23px
		border-right 1px solid #ccc
		cursor pointer
		color #666

		&:hover 
			background-color #fff

	.resize 
		float right
		height 32px
		width 32px
		background url(../images/hilib/views/supertinyeditor/resize.gif) 15px 15px no-repeat
		cursor s-resize

	#editor 
		cursor text
		margin 10px
@import './import/*'

.faceted-search
	hr
		border none
		height 1px
		background-color #EEE
		margin 10px 8px

		&:last-child
			display none

	// i
	// 	cursor pointer
	// 	font-size 1.2em
	// 	color #AAA

	// 	&:hover, &.active
	// 		color #555

	.facet
		position relative
		// border-bottom 1px solid #EEE
		// margin-bottom 10px
		// padding-bottom 10px

		// &:last-child
		// 	border none


		
		header
			// i.openclose
			// 	position absolute
			// 	left -8px
			// 	top 9px
			// 	color #DDD

			// 	&:hover, &.active
			// 		color #AAA

			h3
				padding 0
				margin 0
				display inline
				cursor pointer

			.options
				display none
				background-color #EEE
				margin 10px -4%
				padding 2% 4%
				border-radius 4px
				margin-top 10px


		&.list, &.boolean				
			ul
				list-style none

				li
					white-space nowrap
					position relative
					min-height 15px

					*
						vertical-align top

					&[data-count="0"]
						label
							color lighten(#555, 50%)
						.count
							color lighten(#555, 80%)

					label, .count
						color #555

					label
						margin-left 4px
						margin-right 48px
					
					.count
						width 30px
						// margin-right 2px
						text-align right
						position absolute
						right 2px
						top 0

					i
						font-size 1.2em
						cursor pointer

						&.fa-square-o
							color #AAA

							&:hover
								color #555
						
						&.fa-check-square-o
							color #555

					input[type="checkbox"], label
						white-space normal
						// margin 0
						display inline-block

					input[type="checkbox"]
						margin-top 2px

					:checked + label
						color #000
		
		.body
			max-height 200px
			margin-top 10px
.row
	font-size 0
	width 100%

	*
		vertical-align top

	.aligncenter
		text-align center

	.alignright
		text-align right

	.cell
		display inline-block
		font-size 1rem
		width 100%

		// Test class to make divs visible for testing
		&.test
			background-color rgba(0, 0, 255, 0.5)
			min-height 200px

rows(divisions)
	for division in divisions
		range = 1...division

		for r in range
			.row.span{division} > .cell.span{r}
				width floor((r/division)*100%)

rows(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20)

pads(percentages)
	for perc in percentages
		.pad{perc}
			padding perc * 1%

		.padl{perc}
			padding-left perc * 1%

		.padr{perc}
			padding-right perc * 1%

		.padt{perc}
			padding-top perc * 1%

		.padb{perc}
			padding-bottom perc * 1%


pads(1 2 3 4 5 6 7 8 9 10)
@keyframes shrink
	0%
		transform scale(1, 1)	
	25%
		transform scale(0.7, 0.7)	
	50%
		transform scale(1, 1)	
	75%
		transform scale(0.7, 0.7)	
	100%
		transform scale(1, 1)

@keyframes grow
	0%
		transform scale(1, 1)	
	25%
		transform scale(1.2, 1.2)	
	50%
		transform scale(1, 1)	
	75%
		transform scale(1.2, 1.2)	
	100%
		transform scale(1, 1)	

.faceted-search-placeholder
	.overlay
		background rgba(0, 0, 0, 0.2)
		position absolute
		z-index 1
		border-radius 8px
		display none

		div
			position fixed
			padding 20px
			background #FFF
			border-radius 30px
			box-shadow 1px 1px 10px #000
			margin-left -20px
			margin-top -20px

	.faceted-search

		button
			background none
			box-shadow none
			border 1px solid #CCC
			border-radius 3px
			cursor pointer
			line-height 24px
			width 100%

		ul
			margin 0
			padding 0

		input[type="checkbox"]
			margin 0
			padding 0
		
		form
			border-radius 8px // Put a border radius for the box-shadow
			box-shadow 0 0 6px #AAA

			h3, h4
				margin 0
				color black

			ul
				li
					margin 0

			// input[type=text]
			// 	border 1px solid #DDD
			// 	border-radius 4px
			// 	padding-left 4%
			// 	margin 0
			// 	width 96%

			// 	&#search
			// 		height 24px
					
			// 		&.loading
			// 			background white url('../images/loader.gif') no-repeat
			// 			background-position right 2% center
			
			.facets			
				.loader
					display none
					text-align center
					padding 30px 0

			.align.middle
				line-height 24px

				& *
					vertical-align middle

			ul.facets-menu
				list-style none
				margin 0 0 10px 10px

				li
					&.switch
						margin-bottom 16px

					&:hover
						i.fa
							&.fa-compress
								animation shrink 1s 0 1

							&.fa-expand
								animation grow 1s 0 1

							&.fa-refresh
								transform rotate(180deg)

					button
						line-height 16px
						width 160px
						border 1px solid #EEE
						text-align left

						i.fa
							cursor pointer
							transition transform 300ms
							font-size 1em
							display inline-block
							width 12px 
							text-align center

						span
							padding-left 6px
							cursor pointer
.faceted-search.search-type-simple, .faceted-search.search-type-advanced
	border none
	background none

	form
		box-shadow none

		.text-search
			position relative
			box-shadow none
			background none

			.pad3
				padding 0 3%

			.body

				.menu
					margin-bottom 18px
					display none

					&:hover
						i.fa-times
							opacity 1

					i.fa-times
						opacity 0
						float right
						margin-right 2px
						font-size 1.4em
						transition opacity 500ms

				.row-1, .row-2
					margin 10px 0 0 2px

					.cell-1, .cell-2
						display inline-block
						vertical-align top

					.cell-1
						width 120px

				label
					font-size 0.9em

				input[type="checkbox"]
					margin-right 4px

				ul.textlayers, ul.searchins
					margin-top 6px
					list-style none

.faceted-search.search-type-advanced
	form
		ul.facets-menu
			li
				&.collapse-expand
					display block

				&.switch
					span:after
						content ' simple'

.faceted-search.search-type-simple
	form
		ul.facets-menu
			li
				&.collapse-expand
					display none

				&.switch
					span:after
						content ' advanced'

		.facets
			display none
			
.faceted-search
	.text-search
		.search-input
			input
				box-sizing border-box
				border-right 0
				border-bottom-left-radius 3px
				border-top-left-radius 3px
				width 85%
				height 30px
				border 1px solid #EEE
				margin 0
				padding-left 8px
				font-size 1.2em

			i.fa-search
				background #CCC
				color white
				border-bottom-right-radius 3px
				border-top-right-radius 3px
				line-height 30px
				text-align center
				vertical-align top
				width 15%
.facet.list
	header
		input[name="dummy"]
			width 24px
			margin-left 10px
			height 11px
			padding 0 0 0 4px

		.options
			*
				vertical-align middle

			input, small
				display inline-block

			input[name="all"]
				visibility hidden

			input[name="filter"]
				width 120px
				margin-left 2px
				padding-left 2px

				&.nonefound
					color #D10000

			small.optioncount
				margin-left 8px

		div.menu
			display inline-block
			float right
			cursor pointer

			i.fa
				font-size 1em
				margin 2px 0 0 4px

	.body
		.container
			max-height inherit
			overflow-y auto
			overflow-x hidden

			li
				i.hidden
					display none



	// nav
	// 	ul
	// 		padding 0
	// 		margin 0
	// 		list-style none

	// 		li
	// 			font-size 0.8em
	// 			cursor pointer
	// 			display inline-block
	// 			margin-left 2px
@import '../import/*'

// Sync handleSize with RangeFacet view!
handleSize = 12px
sliderHeight = 6px

.facet.range
	.body
		height 32px
		padding-top 6px

		.slider
			select_none()

			height sliderHeight
			background #EEE
			border-radius sliderHeight
			box-shadow inset 1px 1px (sliderHeight/2) #888
			position relative
			margin 0 (handleSize/2)

			button
				display none
				position absolute
				left 95px
				width 80px
				border-radius 4px
				outline none
				border none
				background rgba(255, 189, 223, 0.3)
				top 18px
				color #444


			.bar
				height sliderHeight
				background rgba(225, 9, 121, 0.3)
				left 0
				right 0
				position absolute
				z-index 1


			.min-handle, .max-handle
				position absolute
				width handleSize
				height handleSize
				border-radius handleSize
				background #CCC
				box-shadow inset 1px 1px (handleSize/2) #444
				cursor pointer
				z-index 2

			.min-handle
				left -1 * (handleSize/2)
				top ((handleSize - sliderHeight)/-2)

			.max-handle
				// left 391px
				top ((handleSize - sliderHeight)/-2)

			.min-value
				position relative
				top 20px
				display inline-block

			.max-value
				position relative
				top 20px
				display inline-block
				float right
// @import '../import/*'

// .faceted-search
// 	form
// 		.search-placeholder
// 			.facet.search
// 				// border-bottom-left-radius 0
// 				// border-bottom-right-radius 0

// 				header
// 					.options
// 						h4
// 							margin-top 4px

// 						ul								
// 							li
// 								ul
// 									margin 2px 0 8px 14px

// 									li
// 										margin-bottom 0

// 				h3
// 					cursor default

// 				// button
// 				// 	background-color #EEE
// 				// 	color #BBB
// 				// 	border 0
// 				// 	box-shadow 1px 1px 1px #DDD
// 				// 	border-radius 6px
// 				// 	margin-top -1px
					
// 				// 	height 28px
// 				// 	width 100%
// 				// 	min-width 50px


// 				// 	&.active
// 				// 		vertical_gradient(#DDD, #F1F1F1)
// 				// 		color #666
// 				// 		cursor pointer
// 				// 		box-shadow 1px 1px 1px #BDBDBD
					
// 				// 		&:active
// 				// 			vertical_gradient(#F1F1F1, #DDD)
// 				// 			box-shadow -1px -1px 1px #BDBDBD

// 				ul
// 					list-style none
vertical_gradient(topColor, bottomColor)
	background topColor
	background -moz-linear-gradient(top, topColor 0%, bottomColor 100%)
	background -webkit-gradient(linear, left top, left bottom, color-stop(0%,topColor), color-stop(100%,bottomColor))
	background -webkit-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -o-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -ms-linear-gradient(top, topColor 0%,bottomColor 100%)
	background linear-gradient(to bottom, topColor 0%,bottomColor 100%)
	filter unquot('progid:DXImageTransform.Microsoft.gradient(startColorstr="topColor", endColorstr="bottomColor",GradientType=0 )')

select_none()
	-webkit-touch-callout none
	-webkit-user-select none
	-khtml-user-select none
	-moz-user-select none
	-ms-user-select none
	user-select none
backgroundcolor = #F1F1F1
textColor = #666
lightestGrey = #eee
numberHighlight = #BA5DB6

.elaborate-annotated-text
	.annotations
		font-size 10px

		header
			height 40px
			background white
			position relative
			z-index 2

		ol
			list-style none
			padding 0 0 0 20px
			margin 0
			counter-reset section
			position relative
			z-index 1

			&.active
				li
					white-space normal

			li
				font-size 12px
				padding-left 6px
				margin-bottom 10px
				white-space nowrap
				overflow-x hidden
				text-overflow ellipsis
				color textColor
				counter-increment section

				&:before
					content counter(section)
					display inline-block
					text-align center
					width 20px
					position absolute
					left 0
					padding 2px 0
					background-color lightestGrey
					color grey
					border-radius 2px
					font-size 0.8em

				&:hover, &.show, &.highlight, &.active
					cursor pointer

					&:before
						background-color numberHighlight
						color white

				&.hide
					visibility hidden
					height 0
					padding 0
					margin 0


				&.show, &.highlight
					white-space normal

					div.type
						display block

					hr
						display block

					// .text
					// 	margin -14px 0 0 31px

				&.highlight
					.number span
						color white
						background-color numberHighlight

				&.highlight, &:hover, &.active
					color darken(textColor, 40%)

					& > span
						color darken(textColor, 40%)

				div.type
					display none

					span
						font-size 0.8em
						display inline-block
						color black
						background-color lightestGrey
						padding 2px 4px
						margin 0 0 8px -4px
						border-radius 2px

				hr
					display none
					border 0
					height 1px
					background-color lighten(numberHighlight, 80%)
lightGrey = #f5f5f5

.elaborate-annotated-text
	position relative

	select
		font-family sans-serif
		font-size 10px
		margin-right 4px
		width 100px
		background none
		border 1px solid #DDD

		&:focus
			outline none

	i.fa
		color darken(lightGrey, 20%)
		font-size 12px
		line-height 20px

		&:hover
			cursor pointer
			color #888

	.text, .annotations
		.highlight, .highlight-term
			display inline
			padding 1px 0
			border-radius 2px

		.highlight
			background-color numberHighlight
			color white

		.highlight-term
			background lighten(#FF0, 40%)
			padding 1px 5px 2px 5px
			border-radius 4px
			box-shadow 1px 1px 2px #CCC
lightGrey = #f5f5f5
numberHighlight = #BA5DB6
annotationsBackground = #fcf
highlightColor = lighten(annotationsBackground, 40%)

.elaborate-annotated-text
	.text
		position relative
		counter-reset section

		&.alexander
			.line
				font-family 'Alexander'
		&.junicode
			.line
				font-family 'Junicode'
		&.samba
			.line
				font-family 'Samba'

		header
			height 40px
			margin-bottom -4px

			select
				margin-left 10px

			h3
				margin 0 4px 0 28px
				padding 0
				display inline-block

			i.fa
				margin-right 4px

		.line
			// font-family "Junicode", serif;
			line-height 28px
			counter-increment section
			position relative
			margin-left 20px
			padding-left 8px

			&:before
				content counter(section)
				position absolute
				top 1px
				width 20px
				left -20px
				text-align right
				font-size 0.8em
				font-family sans-serif
				color darken(lightGrey, 30%)

			sup
				line-height 0

				&[data-marker]
					cursor pointer
					color darken(annotationsBackground, 30%)
					margin 0 5px 0 2px
					font-style normal

					&:hover
						color black
						background-color highlightColor

		span.searched
			background-color #A5DFCC
			font-weight bolder
.faceted-search-results
	.resultview.edit-multiple-entry-metadata
		div.entries
			ul
				list-style none

				li
					.edit-mode
						display block

					.default-mode
						display none

		header
			nav
				ul > li
					&.select-all
						display inline-block
						
					&.levels
						display none

		.editselection-placeholder
			background #F1F1F1
			box-shadow 0 0 6px #AAA
			margin 3px 20px 20px 0
			border-radius 6px

			h3
				margin 0
				padding 12px

			.row
				overflow-y auto

				form
					padding 12px

					li
						*
							vertical-align middle

						input
							margin-left 4px

			footer
				text-align right
				padding 8px 8px 8px 0

				*
					vertical-align middle

				button[name="savemetadata"]
					margin 0

					&.loader
						background white
						padding-bottom 6px

						&:after
							content url('/images/loader.gif')
							margin-left 6px
							position relative
							top 3px

				button[name="cancel"]
					background none
					border none
					color #F66
					border-radius 4px

				span
					margin 0 8px 0 4px
spotcolor = #46aaa8
spotcolor2 = #FFBEFC

.faceted-search-results
	position absolute
	top 120px
	left 0
	right 0
	bottom 0
	overflow hidden

	.submenu
		box-shadow 0 12px 12px #FFF

		li[data-key="publish"]
			&.active
				padding-right 24px

				&:after
					position absolute
					top 3px
					right 5px
					content url('/images/loader_transparent.gif')

	.faceted-search-placeholder
		position absolute
		left 0
		top 0
		bottom 0
		padding 0 20px 20px 20px
		overflow-y auto
		width 300px
article
	h2
		text-align center
		margin-top 30px

		i.print
			font-size 0.7em
			color #AAA
			cursor pointer
			margin-left 10px
article
	position relative

	.panels-menu, .metadata
		user-select none
		position absolute
		width 10%
		z-index 3
		font-size 9pt
		top -5px

		& > ul
			border 1px solid #CCC

		& > button

			&:after
				content: ' ▼'

		& > ul
			position absolute
			display none
			list-style none
			padding 20px
			margin: -3px 0 0 0
			background white
			box-sizing: border-box
			border-bottom-left-radius 3px
			border-bottom-right-radius 3px
			border-top-right-radius 3px

		// & > ul
		// 	background-color lighten(turquoise, 90%)
		// 	padding: 5px
		// 	border-bottom-left-radius 4px
		// 	border-bottom-right-radius 4px
		// 	box-shadow 1px 1px 1px #EEE

	.panels-menu
		right 2.5%

		& > ul
			right 0

			li
				cursor move
				white-space nowrap

				&.placeholder
					display none

				i.fa.checkbox
					margin-right 2px
					color gray
					cursor pointer

					&.fa-square-o
						margin-right 4px

	.metadata
		left 2.5%

		& > ul
			line-height 24px
			max-width 520px
			overflow-y auto

			li
				white-space nowrap
				border-top 1px solid #EEE

				&:first-child
					border none

				label, span
					display inline-block

				label
					width 120px
					color #555

				span
					max-width 400px
					overflow ellipsis
					vertical-align middle

article > .panels
	overflow auto
	white-space nowrap

	.elaborate-annotated-text.hidden
		display none
			
	.facsimile
		display inline-block
		width 33%
		vertical-align top
		padding 0 10px
		box-sizing border-box

		&.hidden
			display none

		header
			height 40px

			h3
				margin 0
				paddin 0
				
			select
				font-family sans-serif
				font-size 10px
				margin-right 4px
				width 100px
				background none
				border 1px solid #DDD

		iframe
			border 0
			// min-height 500px
		
		// min-height 100px // so text isn't pushed left
		@media print
			display none
@media print
	html, body
		overflow visible !important

	body > header
		padding 0

	#main
		.entries
			.entry
				& > header
					display none

				article
					h2, h3, h4
						margin 0
						padding 0

					.panels-menu, .metadata
						display none

					.panels
						height auto !important

						.facsimile
							display none !important

						.elaborate-annotated-text
							width 100%
							margin-bottom 100px

							&.visible
								display block !important

							.text, .annotations
								width 100%
								display block

							.text
								h3
									font-size 1.2em
									color black

							.annotations
								ol
									list-style decimal !important

									li
										overflow-x visible

										&:before
											background none
											content none !important

										div.type
											display block

											span
												background none
												padding 0
												margin 0

										span
											white-space normal

							
								

					i, select
						display none

spotcolor = #46aaa8
spotcolor2 = #FFBEFC

.resultview
	div.entries
		& > ul
			& > li
				margin-bottom 12px

				&:hover
					cursor pointer
					
					label.main
						background lighten(#6CA1E5, 80%)
						cursor pointer

				&.fulltext:hover
					cursor default

					label.main
						background none
						cursor default
				
				.edit-mode
					display none

					input
						display inline-block
						margin-right 4px
				
				label.main
					text-decoration none
					color black
					font-size 1.4rem
					padding 2px 0
					border-radius 2px

				.found
					color white
					background #BBB
					border-radius 2px
					display inline-block
					margin 10px 0 4px 0
					padding 0 4px
				
				.metadata
					ul
						list-style none
						padding-top 4px

						li
							margin-bottom 0px
							// display inline-block
							// width 30%

							span.key
								color #999

				.keywords
					color #999

					ul
						list-style none

						& > li
							overflow-x hidden
							white-space nowrap
							text-overflow ellipsis
							line-height 20px
							margin-left -4px
							padding 0 4px
							border-radius 3px
							cursor pointer

							&:hover
								background lighten(#6CA1E5, 80%)

							label, ul.kwic
								display inline-block

							label
								width 20%
								vertical-align top
								overflow ellipsis
								cursor pointer

							ul.kwic
								width 80%

								li
									em
										background lighten(#FF0, 40%)
										padding 2px 5px 1px 5px
										-webkit-border-radius 4px
										border-radius 4px
										-webkit-box-shadow 1px 1px 2px #CCC
										box-shadow 1px 1px 2px #CCC
.resultview
	position absolute
	left 370px
	top 0
	bottom 0
	right 0

	ul
		list-style none
		padding 0
		margin 0

	div.entries
		absolute top 80px right 0 bottom 0 left 0
		overflow-y auto

	header
		background white
		// padding 0 18px 12px 0
		border-bottom 1px solid #DDD
		padding-bottom 12px

		h3, nav
			display inline-block

		h3
			margin-top 0	

		nav
			color spotcolor
			margin-left 20px

			& > ul
				*
					vertical-align middle

				& > li
					margin-left 6px
					cursor pointer
					display inline-block

					&.display-keywords
						display none

						input
							margin-right 2px

					&.select-all
						display none

					label
						color black
						cursor default
li.sort-levels
	button
		position relative
		z-index 3

		i.fa
			margin-left 4px

	button, select
		background white
		border 1px solid rgb(224, 224, 224)
		outline none

	div.levels
		display none
		position absolute
		padding 20px
		z-index 2
		margin -4px 0 0 -19px
		padding-top 0

		ul
			margin-top -23px
			margin-left -18px
			border 1px solid #EEE
			margin 1px
			list-style none
			border-bottom-left-radius 4px
			border-bottom-right-radius 4px
			border-top-right-radius 4px
			padding 20px
			background #FFF

		&.show-save-button
			padding-bottom 14px

			li.search
				display block


		li
			margin-bottom 10px

			&.search
				display none

				button
					float right
					width 100px

			label, i.fa
				color gray
				line-height 18px
			
			i.fa:hover
				color black
			
			select, i.fa
				margin-left 6px
				height 18px
@import './import/functions.styl'
@import './import/variables.styl'

.btn
	button()

	&.ok
		okbutton()
		
	&.cancel
		cancelbutton()

	&.small
		line-height 14px
#debug
	display none
	position fixed
	width 100px
	height 100px
	bottom 0
	right 0
	background black
	color white
@import './import/functions.styl'
@import './import/variables.styl'

// body > .modal
// 	.modalbody
// 		form.edit-entry-metadata
// 			input[type="text"]
// 				width 375px

preview()
	position relative

	.linenumbers
		position absolute
		text-align right
		list-style none
		top 10px
		color #BBB
		font-size 0.9em

	.body
		padding 10px 0 0 24px

		sup[data-marker]
			select_none()
			color #FFF
			font-size 0.75em
			padding 0px 1px
			cursor pointer
			border-radius 2px
			box-shadow 1px 1px 2px #888
			text-shadow 1px 1px 1px rgba(100, 100, 100, 0.6)
			margin 0 3px
			background-color #FFBEFC
			font-weight bold
			line-height 0

		// For hovering annotations
		span.hilite
			background-color lighten(#FFBEFC, 40%)

		// For active annotations
		span.hilite[data-highlight]
			background-color #FFBEFC
			padding 1px 2px
			border-radius 4px

		// For full text query highlighting
		span.highlight
			background #FF0
			padding 4px 6px 2px 6px
			border-radius 4px
			box-shadow 1px 1px 2px #CCC

#printpreview
	display none

.entry
	.container
		.left-pane, .middle-pane, .right-pane
			inline-block()

		.left-pane
			width 40%

		.middle-pane, .right-pane
			width 30%
		
		.middle-pane
			.entrymetadata-placeholder
				padding 0 10px
			.transcription-placeholder, .annotation-placeholder
				position relative

				.transcriptioneditmenu, .annotationeditmenu
					select_none()
					position absolute
					width 200px
					left 47%
					margin-left -0.5 * @width
					bottom 24px
					opacity 0.3
					transition all 500ms
					background-color rgba(255, 255, 255, 0.8)
					padding 5px
					border 1px solid #CCC
					border-radius 12px
					text-align center

					&:hover
						opacity 1

				.annotationeditmenu
					text-align left

					button
						&.ok
							position absolute
							right 0px
						&.cancel
							position absolute
							right 45px

				.transcriptioneditmenu
					width 50px
					margin-left -0.5 * @width

					button
						margin-right 0px


		.preview-placeholder
			position relative
			
			h2
				position absolute
				top -53px
				left 15px
				color #CCC
				font-size 1.5em

		.preview
			line-height 2.25em
			white-space nowrap
			overflow-y auto
			margin-top 66px
			padding-left 10px

			&.wrap
				white-space normal

				.linenumbers
					display none

			span.emptylayer
				padding-left 6px
				color #DDD
				font-style italic
				font-size 1.2em
			
			.body-container
				preview()

					

.supertinyeditor
	.ste-header

		&.annotationtext
			padding 0 6px
			overflow hidden
			white-space nowrap
			text-overflow ellipsis
			line-height 31px /* Same as .ste-header to vertically center text */
			font-size 1.2em
			font-weight bold

			&:before
				content: '"'

			&:after
				content: '"'

	.ste-body
		background-color #EEE
		// padding 10px 10px 0 10px

body.ste-iframe-body
	padding 10px 0 0 10px
	// padding 6px 0 0 0 // Explicitely set the padding-bottom for FF
	line-height 2.25em

	sup[data-marker]
		display none

div.closebutton
	padding 2px
	margin 4px
	background-color white
	border-radius 4px

	img
		vertical-align middle

@media print
	header.main
		display none

	#printpreview
		display block
		line-height 2.25em
		

		.body-container
			preview()
			margin-bottom 50px

			.body
				sup[data-marker]
					color black
					background none
					text-shadow none
					box-shadow none

			.linenumbers
				color #777

		h2
			color black


	#container
		display none
@import './import/functions.styl'
@import './import/variables.styl'

form
	ul
		list-style none

		li
			margin-bottom 8px

			*
				vertical-align middle

			label, select, input
				&.invalid
					border-color red

			label
				display inline-block
				width 100px

				&.small
					width 40px

				&.large
					width 160px

				&.invalid
					color red

			select
				width 156px // 6px = 4px padding left and 2px border
				border 1px solid #CCC
				background none

			input
				width 150px
				border 1px solid #CCC
				padding-left 4px

			input[type="checkbox"]
				width auto

			input[type="submit"]
				simplebutton()

button.simple
	simplebutton()

labelWidth = 40%
inputWidth = 60%
fieldsetPadding = 20px
invalidColor = #F33;

fieldsetWithLabelWidth(width)
	fieldset.label{width}
		ul li
			label
				width (width)%

			input, select, textarea
				width (100%-width)%

		button[name="submit"]
			margin-left (width)%

form.hilib
	fieldsetWithLabelWidth(20)
	fieldsetWithLabelWidth(30)
	fieldsetWithLabelWidth(50)
	fieldsetWithLabelWidth(60)

	fieldset
		display inline-block
		vertical-align top
		border 0
		box-sizing border-box
		padding 0 fieldsetPadding 0 fieldsetPadding
		margin fieldsetPadding 0 fieldsetPadding 0
		min-width 200px

		& + fieldset
			border-left 1px solid #EEE

		&.span100
			width 100%

		&.span50
			width 50%

			@media screen and (max-width: 600px)
				display block
				width 100%

		&.span33
			width 33.33%

		&.span66
			width 66.66%

		&.span25
			width 25%

		&.span75
			width 75%

		button[name="submit"]
			margin-left labelWidth

	ul
		li
			div.error
				background invalidColor
				color white
				border-radius 3px
				padding 3px 5px
				margin-top 2px

			label
				width labelWidth

			input, select
				width inputWidth

			input[type="checkbox"], input[type="radio"]
				width auto

			input, select, button
				border-color #DDD
				transition-property box-shadow, border-color
				transition-duration 250ms
				box-sizing border-box

				&:focus
					outline none
					border-color rgba(70, 170, 168, 0.5)
					box-shadow 0 0 3px rgba(70, 170, 168, 0.75)

				&.invalid
					border-color rgba(invalidColor, 0.5)
					box-shadow 0 0 3px rgba(invalidColor, 0.75)

	button[name="submit"]
		border none
		background #DDD
		border 1px solid #DDD
		padding 6px 10px
		border-radius 3px
		color #333
		margin-left fieldsetPadding

		&:hover
			background #CCC

		&.disabled
			opacity 0.5
			cursor default

			&:focus
				border-color #DDD
				box-shadow none

			&:hover
				background #DDD	

		&.loader
			i.fa.fa-spinner
				display inline-block

		i.fa.fa-spinner
			margin -3px 0 0 8px
			display none
@import './import/functions.styl'
@import './import/variables.styl'

.shake
	shake()

@keyframes shake
	0%
		transform: translate(3px, 0)
	50%
		transform: translate(-3px, 0)
	100%
		transform: translate(0, 0)

.pulse
	pulse()

@keyframes pulse
	0%
		opacity 1.0
		transform scale(1.0)
	50%
		opacity 0.75
		transform scale(1.1)
	// 67%
	// 	opacity 0.5
	// 	transform scale(1.0)
	100%
		opacity 1.0
		transform scale(1.0)

// keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100% {
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
// @-webkit-keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100%{-webkit-transform:rotate(359deg);
// 			-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}

// }
// @-o-keyframes fn_spin {
// 	0%{
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100%{
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
// @-ms-keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100% {
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
// @keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100%{
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
@import './import/functions.styl'
@import './import/variables.styl'

.row
	font-size 0

	*
		vertical-align top

	sub
		vertical-align sub

	// sup
	// 	vertical-align super

	.aligncenter
		text-align center

	.alignright
		text-align right

	.cell
		display inline-block
		font-size 1rem

		// Test class to make divs visible for testing
		&.test
			background-color rgba(0, 0, 255, 0.5)
			min-height 200px

rows(divisions)
	for division in divisions
		range = 1...division

		for r in range
			.row.span{division} > .cell.span{r}
				width floor((r/division)*100%)

rows(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20)

pads(percentages)
	for perc in percentages
		.pad{perc}
			padding perc * 1%

		.padl{perc}
			padding-left perc * 1%

		.padr{perc}
			padding-right perc * 1%

		.padt{perc}
			padding-top perc * 1%

		.padb{perc}
			padding-bottom perc * 1%


pads(1 2 3 4 5 6 7 8 9 10 12 15 20 30 40 50)
@import './import/functions.styl'
@import './import/variables.styl'

.modal.reset-password
	.body
		margin 0

		fieldset
			padding-left 0
			margin-bottom 0

			ul
				margin-top 20px

				li:last-child
					float right
					margin-top 30px

				li.message
					display none
					text-align left
					padding 12px
					background #F00
					border-radius 3px
					color #FFF
					font-weight bold

				label
					font-size 1.1em
					width 100%

				input
					margin-top 4px
					font-size 1.2em
					width 100%
					line-height 24px

				button[name="submit"]
					margin-left 0

				span
					margin-right 10px

				button[name="cancel"]
					background none
					color red
					border none

#main > .login
	
	.left-pane, .right-pane
		display inline-block
		width 50%
		box-sizing border-box
		// -moz-box-sizing border-box
		vertical-align top
		padding 20px

	.right-pane
		padding-top 46px

	h2
		margin-top 0
		text-align left

	.federated
		margin-top 40px

		button.federated-login
			margin-left 0
			width 100px
			height 26px

	form.login
		text-align left
		box-shadow none
		border 1px solid #DDD
		width 280px

		ul
			&.message
				li
					display none
					text-align left
					padding 12px
					background #F00
					border-radius 3px
					color #FFF
					font-weight bold
			
			li.login
				button
					margin 20px 0 0 100px
					border-radius 3px
					height 26px
					width 100px
					border 1px solid #CCC
					color #333

					&.loading
						background white

						i.fa
							display inline-block

				i.fa
					display none
					margin-left 8px

			li.resetpassword
				color #46AAA8
				font-size 0.8em
				cursor pointer
				margin -6px 0 0 100px

@import './import/functions.styl'
@import './import/variables.styl'

html, body
	font-family Verdana, Arial, Helvetica, sans-serif
	font-size 12px
	margin 0
	padding 0
	min-width minWidth

// iframe > html
// 	background green
	// overflow hidden
	// height 100%

// #blackbar, #graybar
// 	position fixed
// 	width 100%

// #blackbar
// 	height 48px
// 	background-color black

// #graybar
// 	top 48px
// 	height 40px
// 	background-color #444

.noscript, .wrongbrowser
	width 800px
	margin auto
	margin-top 60px

ul
	margin 0
	padding 0

#container
	margin 0 auto
	width 100%

	#main
		padding-top mainHeaderHeight + subHeaderHeight
		// height 100%

	// footer
	// 	text-align center

h1, h2, h3, h4, a
	color spotcolor

button, input[type="submit"]
	cursor pointer

h2.loader
	&:after
		content url('/images/loader.gif')
		margin-left 12px
		position relative
		top 3px

a:visited
	color darken(spotcolor, 30%)

div p:first-child
	margin-top 0

.white, .menu li.username
	color white

.submenu-menus
	display	none

.region
	background #F1F1F1
	box-shadow 0 0 6px #AAA
	padding 12px
	border-radius 6px

i.fa
	font-size 1.2em
	cursor pointer

	&.fa-square-o
		color #AAA
		padding-right 2px

		&:hover
			color #555
	
	&.fa-check-square-o
		color #555
@import './import/functions.styl'
@import './import/variables.styl'

@media all and (max-width: 1000px)
	header.main
		.row
			width 100%

@media all and (max-width: 640px)
	.row
		.cell
			width 100%
			display block
@import './import/functions.styl'
@import './import/variables.styl'

vertical_menu_width = 200px
horizontal_li_padding = 10px
vertical_li_padding = 0px

ul.menu
	position relative
	padding 0
	margin 0
	font-size 0

	li
		font-size 1rem
		font-weight bold
		color white
		white-space nowrap
		text-shadow none
		position relative
		list-style none
		padding vertical_li_padding horizontal_li_padding
		margin 0

		&:hover
			cursor pointer

		&.active
			cursor default

		&:hover > ul, &.active.persist > ul
			display block

		&.arrowleft
			padding-left 18px

			&:before
				position absolute
				width 0
				height 0
				border-style solid
				border-width 5px
				border-color rgba(0, 0, 0, 0) white rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)
				content ""
				margin 7px 0 0 -15px

		&.arrowright
			padding-right 18px

			&:after
				position absolute
				width 0
				height 0
				border-style solid
				border-width 5px
				border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) white
				content ""
				margin 7px 0 0 6px

		&.arrowdown
			arrowdown()

		&.arrowup
			padding-right 22px

			&:after
				position absolute
				width 0
				height 0
				border-style solid
				border-width 5px
				border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) white rgba(0, 0, 0, 0)
				content ""
				margin 5px 0 0 6px

		ul
			position absolute
			display none
			padding 0
	

ul.menu.horizontal > li
	position static
	display inline-block

	ul
		margin-left -1 * horizontal_li_padding // To compensate for li:first-child's 10px padding
		// box-shadow 2px 2px 4px #AAA

		li
			line-height	24px
			// border-top 1px solid rgb(88, 88, 88)

ul.menu.vertical
	width vertical_menu_width
	text-align left

	ul
		top -1px
		left vertical_menu_width + horizontal_li_padding
.modal.set-new-password
	p
		display none
.faceted-search-results
	.faceted-search
		.text-search
			.search-input 
				i.fa-search
					background-color #46AAA8
		button
			color #46AAA8
			
	.results-placeholder
		div.entries
			position static
			margin-top 20px
inline-block()
	display inline-block
	box-sizing border-box
	vertical-align top

shake()
	animation-name shake 
	animation-duration 150ms 
	animation-iteration-count 2 
	animation-timing-function linear

	-moz-animation-name shake 
	-moz-animation-duration 150ms 
	-moz-animation-iteration-count 2 
	-moz-animation-timing-function linear

	-webkit-animation-name shake
	-webkit-animation-duration 150ms
	-webkit-animation-iteration-count 2
	-webkit-animation-timing-function linear

pulse()
	animation-name pulse 
	animation-duration 500ms 
	animation-iteration-count 2
	animation-timing-function linear

	-moz-animation-name pulse 
	-moz-animation-duration 500ms 
	-moz-animation-iteration-count 2 
	-moz-animation-timing-function linear

	-webkit-animation-name pulse
	-webkit-animation-duration 500ms
	-webkit-animation-iteration-count 2
	-webkit-animation-timing-function linear

fn_spin()
	-webkit-animation: fn_spin 2s 3 linear;
	-moz-animation: fn_spin 2s 3 linear;
	-o-animation: fn_spin 2s 3 linear;
	-ms-animation: fn_spin 2s 3 linear;
	animation: fn_spin 2s 3 linear;
	-webkit-animation-name: fn_spin

transition(args...)
	-webkit-transition args
	-moz-transition args
	-o-transition args
	transition args

transform(args...)
	-webkit-transform args
	-moz-transform args
	-ms-transform args
	-o-transform args
	transform args

vertical_gradient(topColor, bottomColor)
	background topColor
	background -moz-linear-gradient(top, topColor 0%, bottomColor 100%)
	background -webkit-gradient(linear, left top, left bottom, color-stop(0%,topColor), color-stop(100%,bottomColor))
	background -webkit-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -o-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -ms-linear-gradient(top, topColor 0%,bottomColor 100%)
	background linear-gradient(to bottom, topColor 0%,bottomColor 100%)
	filter unquot('progid:DXImageTransform.Microsoft.gradient(startColorstr="topColor", endColorstr="bottomColor",GradientType=0 )')

select_none()
	-webkit-touch-callout none
	-webkit-user-select none
	-khtml-user-select none
	-moz-user-select none
	-ms-user-select none
	user-select none

button(light=#D5D6D5, dark=#838383)
	vertical_gradient(lighten(light, 10%), lighten(dark, 10%))
	border 0
	box-shadow 1px 1px 4px #858585
	border-radius 6px
	line-height 24px
	margin -1px 6px 0 0
	cursor pointer
	font-size 0.9rem
	color white
	font-weight bold

	&:hover
		vertical_gradient(light, dark) 

	&:active
		vertical_gradient(lighten(dark, 20%), light) 
		box-shadow -1px -1px 4px #858585
		color white

	&.inactive
		color #969696

	&[disabled]
		color: lightgray;
		background: #808080;
		cursor: default;

		&:active
			background: #808080;
			box-shadow @box-shadow
 
okbutton()
	button(#61E26B, #038808)

cancelbutton()
	button(#E26161, #880303)
	
simplebutton()
	border 1px solid #CCC
	margin-left 100px
	// box-shadow 1px 1px 2px #CCC
	border-radius 4px
	color #333
	padding 2px 6px

	&.inactive
		opacity 0.5
		cursor default

elaboratebutton()
	vertical_gradient(#565656, #444)
	border 0
	box-shadow 1px 1px 1px #666
	color lighten(spotcolor, 30%)
	border-radius 6px
	line-height 24px
	margin -1px 6px 0 0
	cursor pointer
	font-size 0.9rem

	&:active
		vertical_gradient(#444, #565656)
		box-shadow -1px -1px 1px #333
		color spotcolor

	&.inactive
		color #969696

arrowup(bordercolor=white)
	padding-right 22px
	arrow()

	&:after
		border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) bordercolor rgba(0, 0, 0, 0)
		margin -6px 0 0 5px

arrowright(bordercolor=white)
	padding-right 18px
	arrow()

	&:after
		border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) bordercolor
		margin -5px 0 0 6px

arrowdown(bordercolor=white)
	padding-right 22px
	arrow()
	
	&:after
		margin -2px 0 0 5px
		border-color bordercolor rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)
		transition all 300ms

	&.rotateup:after
		transform rotate(180deg)
		margin-top -6px

arrowleft(bordercolor=white)
	padding-left 18px

	&:before
		content ""
		position absolute
		width 0
		height 0
		top 50%
		border-style solid
		border-width 5px
		border-color rgba(0, 0, 0, 0) bordercolor rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)
		margin -5px 0 0 -15px

arrow()
	&:after
		content ""
		position absolute
		width 0
		height 0
		top 50%
		border-style solid
		border-width 5px

textoverflowEllipsis(the_width)
	max-width the_width
	white-space nowrap
	text-overflow ellipsis
	overflow hidden
spotcolor = #46aaa8
spotcolor2 = #FFBEFC

mainHeaderHeight = 48px
subHeaderHeight = 40px

minWidth = 800px
// .resultview
// 	.editselection-placeholder
// 		background #F1F1F1
// 		box-shadow 0 0 6px #AAA
// 		margin-bottom 20px
// 		border-radius 6px

// 		h3
// 			margin 0
// 			padding 12px

// 		form
// 			padding 12px

// 		li
// 			*
// 				vertical-align middle

// 			input
// 				margin-left 4px

// 		footer
// 			text-align right
// 			padding 0 8px 8px 0

// 			*
// 				vertical-align middle

// 			button[name="savemetadata"]
// 				margin 0

// 				&.loader
// 					background white
// 					padding-bottom 6px

// 					&:after
// 						content url('/images/loader.gif')
// 						margin-left 6px
// 						position relative
// 						top 3px

// 			button[name="cancel"]
// 				background none
// 				border none
// 				color #F66
// 				border-radius 4px

// 			span
// 				margin 0 8px 0 4px
@import '../import/functions.styl'
@import '../import/variables.styl'

.projecthistory, .statistics
	padding-left 40px

.projecthistory
	.entries, button.more
		margin-bottom 40px

	h3
		color #444

	ul
		list-style none
		margin-left 16px

		span
			display inline-block
			overflow-x hidden
			text-overflow ellipsis

			&.username
				color gray
// @import '../import/*'

// .projectsearch
// 	position absolute
// 	top 88px
// 	left -8px
// 	bottom 0
// 	overflow hidden
// 	width 100vw

// 	

// 	.faceted-search-placeholder
// 		position absolute
// 		left 10px
// 		top 16px
// 		bottom 0px
// 		width 300px
// 		padding 4px 20px 20px 10px
// 		overflow-y auto
	
// 	.resultview
// 		position absolute
// 		left 360px
// 		top 20px
// 		bottom 10px
// 		right 0px

// 		&.edit-multiple-entry-metadata
// 			ul.entries
// 				list-style none
// 				margin-left -16px

// 				label
// 					display inline

// 				a
// 					display none

// 				input[type="checkbox"]
// 					display inline-block
// 					margin-right 4px

// 		header
// 			background white
// 			padding 0 18px 12px 0
// 			border-bottom 1px solid #DDD

// 			h3
// 				margin-top 0	

// 			nav
// 				color spotcolor

// 				& > ul
// 					& > li
// 						margin-left 6px
// 						cursor pointer
// 						display inline-block

// 						input#cb_showkeywords
// 							margin-right 2px

// 						label
// 							color black
// 							cursor default

// 						&.levels
// 							button
// 								i.fa
// 									margin-left 4px

// 							button, select
// 								background white
// 								border 1px solid rgb(224, 224, 224)
// 								outline none

// 							ul
// 								display none
// 								list-style none
// 								position absolute
// 								background white
// 								border 1px solid #EEE
// 								padding 18px
// 								border-bottom-left-radius 4px
// 								border-bottom-right-radius 4px
// 								border-top-right-radius 4px
// 								margin-top -1px

// 								&.show-save-button
// 									li
// 										button
// 											display block

// 									padding-bottom 14px

// 								li
// 									margin-bottom 10px

// 									label, i.fa
// 										color gray
// 										line-height 18px
									
// 									i.fa:hover
// 										color black
									
// 									select, i.fa
// 										margin-left 6px
// 										height 18px

// 									button
// 										display none
// 										float right

// 			// .numfound-placeholder

// 			.pagination-placeholder
// 				.pagination
// 					select_none()
// 					display none
					
// 					li
// 						color spotcolor
// 						padding 4px

// 					.inactive, .text
// 						color #BBB
// 						cursor default

// 		ul.entries
// 			margin-top 20px
// 			overflow-y auto
// 			list-style square
// 			padding-left 16px

// 			li
// 				margin-bottom 12px

// 				input[type="checkbox"]
// 					display none
				
// 				label, a
// 					text-decoration none
// 					color black
// 					font-size 1.2rem
// 					cursor pointer
// 					padding 2px 4px
// 					border-radius 2px

// 					&:hover
// 						background lighten(spotcolor, 70%)

// 				label
// 					display none

// 				.found
// 					color #999
// 					display inline-block
// 					margin-left 10px

// 					&:before
// 						content: '('

// 					&:after
// 						content: ')'
				
// 				.metadata
// 					ul
// 						list-style none
// 						padding 4px 0 0 12px

// 						li
// 							margin-bottom 0px
// 							// display inline-block
// 							// width 30%

// 							span.key
// 								color #999

// 				.keywords
// 					color #999

// 					ul
// 						list-style none
// 						margin-top 4px

// 						li
// 							padding 2px 0
// 							margin 0
// 							margin-left 13px
// 							overflow-x hidden
// 							white-space nowrap
// 							text-overflow ellipsis

// 							span.container
// 								text-decoration underline

// 							em
// 								color spotcolor2
@import '../import/functions.styl'
@import '../import/variables.styl'

.projectsettings
	.tab.menu
		font-size 0
		li
			color lighten(black, 30%)
			padding 8px 30px 6px 30px
			margin 0
			border 1px solid #DDD
			border-left 0
			border-bottom 0
			background-color #EEE

			&:first-child
				border-left 1px solid #DDDDDD
				border-top-left-radius 8px

			&:last-child
				border-top-right-radius 8px

			&:hover
				background-color lighten(#DDDDDD, 30%)

			&.active
				color black
				background-color #FFF
				box-shadow 0px 1px 0px #FFF // To blur the top border of the div[data-tab]

	div[data-tab]
		display none
		padding 0 10px 60px 10px
		box-shadow 1px 1px 3px #DDD
		border 1px solid #DDD
		border-radius 12px
		border-top-left-radius 0px
		max-width 1000px

		&.active
			display block

		h4
			margin-top 3px
			margin-right 10px
			display inline-block

		// .adduser
		// 	input[type="submit"]
		// 		margin-left 0px

		ul.selected-annotation-types
			padding-left 16px

			li
				margin-bottom 6px

				span.description
					color gray

	// div[data-tab="project"]
	// 	.general, .publication
	// 		display inline-block

	// 	.publication
	// 		vertical-align top
	// 		margin-left 100px

	// 		label
	// 			vertical-align top

	// 		select[name="text.font"]
	// 			margin-bottom 20px

	// 		img
	// 			border 1px solid #CCC

	div[data-tab="users"]
		position relative
		min-height 200px

		.listandroles, .adduser
			width 50%
			display inline-block
			box-sizing border-box
			vertical-align top

		.listandroles
			padding 20px

		.userroles
			margin-top 60px
			
			ul
				list-style square
				margin-left 16px

			select
				background none
				border 1px solid #CCC
				margin-right 8px

		.adduser
			fieldset
				border-left 1px solid #EEE

	div[data-tab="annotations"]
		.set-custom-tag-names, .add-annotation-type, .annotation-type-list
			width 33.33%
			box-sizing border-box
			display inline-block
			vertical-align top

		.annotation-type-list
			padding 20px

		.add-annotation-type
			fieldset
				border-left 1px solid #EEE
				border-right 1px solid #EEE

	div[data-tab="entries"]
		.entry-list, .set-names, .sort-levels
			width 33.33%
			box-sizing border-box
			display inline-block
			vertical-align top

		.entry-list, .sort-levels
			padding 20px

		.sort-levels
			button.savesortlevels
				&.loading
					i.fa.fa-spinner
						display inline-block
					
				i.fa.fa-spinner
					display none
					margin-left 8px

					

		.set-names
			fieldset
				border-left 1px solid #EEE
				border-right 1px solid #EEE
@import '../import/functions.styl'
@import '../import/variables.styl'

header.main
	select_none()
	white-space nowrap
	position absolute
	left 0
	right 0
	top 0
	background-color black
	z-index 50
	min-width minWidth

	& > .left, & > .middle, & > .right
		inline-block()
		width 33%
		
		*
			vertical-align middle

	& > .left
		text-align center

	& > .right
		text-align right

	span.message
		position relative
		display inline-block
		vertical_gradient(#FBEDBF, #EFDD96)
		// background rgba(255, 255, 0, 0.37)
		font-size 0.9em
		font-weight bold
		color #444
		line-height 20px
		// border 2px solid rgba(255, 255, 3, 0.49)
		border-radius 4px
		padding 2px 30px 2px 12px
		margin-top -50px
		transition(margin-top 500ms)
		box-shadow 1px 1px 2px #CCC
		cursor pointer

		&:after
			content 'x'
			border 1px solid rgba(128, 128, 128, 0.3)
			line-height 11px
			text-shadow 1px 1px 4px #777
			border-radius 2px
			position absolute
			padding 0 2px
			margin-top 4px
			right 5px
			color #666

		&.active
			margin-top 11px


	ul.horizontal.menu
		display inline-block

		li
			background-color black
			overflow hidden
			line-height 48px

			&.thisproject
				span.projecttitle
					i.fa.fa-spinner.fa-spin
						margin 14px 20px 0 20px
						
				ul.vertical.menu
					right 0

			&.projects
				overflow visible

				ul.vertical.menu
					position absolute
					margin 0 0 0 -432px
					width auto
					max-height 326px
					overflow-y auto
					overflow-x hidden
					border-bottom 1px solid black

					li
						width 200px
						text-overflow ellipsis

						&.active
							background white
							color black
							border-left 1px solid black
							border-right 1px solid black
							cursor default

			ul.vertical.menu
				width 140px
				border-bottom-left-radius 6px
				border-bottom-right-radius 6px

				li
					border-top 1px solid #444
					font-weight normal
					color #DDD
					box-shadow 1px 1px 2px #777
					line-height 26px

					&:hover
						background-color #222
						color #FFF

					&:last-child
						border-bottom-left-radius 6px
						border-bottom-right-radius 6px

					&.spacer
						border none
						background none
						height 17px
						box-shadow none

	.user
		a
			color white
			text-decoration none

		li.username > .vertical.menu
			right 0



	.projecttitle
		font-size 1.3em
		display inline-block
		max-width 400px
		overflow hidden
		text-overflow ellipsis


// header
// 	white-space nowrap
// 	z-index 100

// 	.main
// 		position fixed
// 		left 0
// 		right 0

// 		.row
// 			margin 0 auto

// 			*
// 				vertical-align middle
		

// 	.main
// 		background-color black
// 		top 0
// 		z-index 50 // render .main above .sub
		
// 		& .cell
// 			line-height mainHeaderHeight

// 		div.logo
// 			overflow hidden
			
// 			.projecttitle
// 				margin-left 10px
// 				white-space nowrap
// 				font-weight bold
// 				overflow hidden
// 				cursor pointer
// 				font-size 1.3em

// 		nav
// 			display inline-block

// 			&.user, &.project
// 				li
// 					background-color black
// 					overflow hidden

// 					// &.projects:after, &.username:after, &.thisproject:after
// 					// 	margin-left 3px
// 					// 	content url('../images/arrow_down.png')

// 				.vertical.menu
// 					li
// 						padding-top 2px
// 						box-shadow 0px -9px 30px rgba(34, 34, 34, 0.8)

// 						&:hover
// 							background #222
// 							text-shadow 1px 2px black

// 						&:hover + li
// 							box-shadow 0px -9px 30px #444
@import '../import/functions.styl'
@import '../import/variables.styl'

.modal
	button.submit
		simplebutton()

	button.cancel
		color #D10000
		border none
		background none
		position relative
		padding-right 16px

		&:after
			position absolute
			right 0
			color #444
			content 'or'


.modal.entry-metadata
	button
		&.loader
			background white
			padding-bottom 6px
			cursor default
			vertical-align middle

			&:after
				content url('/images/hilib/views/modal/loader.gif')
				margin-left 6px
				position relative
				top 3px
@import '../import/functions.styl'
@import '../import/variables.styl'

.submenu
	select_none()
	background-color #444
	position absolute
	left 0
	right 0
	top mainHeaderHeight
	z-index 49 // render .main above .sub
	height 40px
	white-space nowrap
	min-width minWidth

	.horizontal.menu
		li[data-key="editmetadata"]
			color gray
			
			&.enabled
				color #79C8C6

	li[data-key="publish"]
		i.fa
			line-height 24px
			display none

		&.active
			span:after
				content '...'

			i.fa
				display inline-block
				margin-left 8px
				color white
			
			// padding-right 24px

			// &:after
			// 	position absolute
			// 	top 3px
			// 	right 5px
			// 	content url('/images/loader_transparent.gif')

	& > .left-menu
		width 40%

		& > .horizontal.menu
			inline-block()

			&.nav
				max-width 50%
				padding 0 5px

				li[data-key="previous"], li[data-key="next"]
					width 22px
					margin 0

				li[data-key="current"]
					margin 0
					max-width 70%

			&.switchers
				float right
				padding 0 5px

				li
					width 105px
					margin 0 5px 0 0 

			& > li
				inline-block()
				vertical-align middle


	& > .middle-menu, & > .right-menu
		width 30%

	& > .right-menu
		text-align right

	& > .left-menu, & > .middle-menu, & > .right-menu
		inline-block()
		line-height subHeaderHeight

		*
			vertical-align middle

		ul.horizontal.menu > li
			elaboratebutton()
			position relative

			&.alignright
				position absolute
				right 0
				top 50%
				margin-top -0.5 * @line-height

			&[data-key="previous"], &[data-key="next"]
				opacity 0.4

				&.active
					opacity 1

			&[data-key="previous"]
				arrowleft(spotcolor)
				padding-right 0

			&[data-key="current"]
				background none
				box-shadow none
				color #CCC
				// max-width 115px
				text-overflow ellipsis
				overflow hidden


			&[data-key="next"]
				arrowright(spotcolor)
				padding-right 10px
				
				// Override default margin for arrowright
				&:after
					margin -5px 0 0 -3px
			
			&[data-key="facsimiles"], &[data-key="editfacsimiles"], &[data-key="edittextlayers"], &[data-key="layer"], &[data-key="textlayers"]
				arrowdown(spotcolor)

				span
					color darken(spotcolor, 20%)
					display inline-block
					margin-top -3px

			&[data-key="delete"]
				background #A00
				color #eee
				box-shadow none


		ul.vertical.menu 
			border-bottom-left-radius 6px
			border-bottom-right-radius 6px

			&.facsimiles, &.textlayers
				li
					padding-left 20px

				li.active:before
					content '✓ '
					position absolute
					margin-left -12px

			& > li
				border-bottom 1px solid #666
				background-color #444
				box-shadow 2px 0px 4px #888
				overflow hidden
				text-overflow ellipsis
				font-weight normal
				color lighten(spotcolor, 50%)

				&.spacer
					background none
					height 8px
					box-shadow none

				&:hover
					color spotcolor

				&:last-child
					border-bottom-left-radius 6px
					border-bottom-right-radius 6px
					box-shadow 2px 0px 4px #888

				&[data-key="edittextlayers"], &[data-key="editfacsimiles"]
					color #BBB

					&:hover
						color #DDD

@import '../import/functions.styl'
@import '../import/variables.styl'

.subsubmenu
	position fixed
	left 0
	right 0
	top -200px
	// height 120px
	background-color #666
	box-shadow 0 30px 60px rgba(17, 17, 17, 0.8)
	transition top 300ms
	z-index 48
	// top mainHeaderHeight + 40px /* tmp */

	&.active
		top mainHeaderHeight + 40px

	h3
		margin 0 0 10px 0
		color #CCC
		text-shadow 1px 1px 1px #000
		font-size 1em

	.editfacsimiles, .edittextlayers
		display none

		form.addfile
			display none

		ul
			list-style none

			&.textlayers, &.facsimiles
				white-space nowrap

				// Use the star to override the user agent stylesheet
				& *
					cursor pointer


				li.destroy
					span.name
						color #CCC
						border 1px solid #5C0000
						padding 3px 8px 6px 6px
						font-weight bold
						border-radius 6px
						text-shadow 1px 1px 1px #000
						box-shadow 1px 1px 4px #333
						background-color #910000
						font-size 0.9em

						label
							width auto

					span.orcancel
						display inline-block

				span.orcancel
					margin-left 6px
					display none

			li
				margin-bottom 6px
				color lighten(spotcolor, 30%)

				label
					display inline-block
					width 40px

				input, textarea
					width 200px
					border 1px solid #666
					padding 0 0 0 2px
					margin 0

				button
					elaboratebutton()
					display none
					
					&.loader:after
						content url('/images/loader_transparent.gif')
						margin-left 6px
						position relative
						top 3px

				button, input[type="file"]
					margin-left 40px

				img
					margin-right 6px
@import '../import/functions.styl'
@import '../import/variables.styl'

teak = #f1e8e1

#tooltip, .tooltip
	position absolute
	padding 0
	z-index 1000
	background teak
	border-radius 10px
	box-shadow 1px 1px 5px #969696
	min-width 150px
	max-width 200px
	line-height 1em
	white-space normal
	opacity 0
	z-index -1

	&.active
		opacity 1
		z-index 1

	&.addannotation
		width 180px
		height 72px

		select
			background teak
			border 1px solid #CCC
			position absolute
			width 150px
			left 15px
			top 12px

			option
				background teak

		button
			// border 0
			background-color teak
			padding-top 2px
			font-weight normal
			color black
			box-shadow none
			margin 0
			position absolute
			left 40px
			bottom 10px
			border 1px solid #CCC
			border-radius 4px


	&.newannotation
		min-width 36px

		.tooltip-body
			display none

		.horizontal.menu
			border-bottom-left-radius 10px
			border-bottom-right-radius 10px
			padding-bottom 4px

			&.left
				width 36px
				text-align center

				li.delete
					margin 0

			&.right
				display none


	.horizontal.menu
		border-top-left-radius 10px
		border-top-right-radius 10px
		padding 8px 0 6px 0
		background teak
		display inline-block

		&.left
			text-align left

		&.right
			float right
			padding-right 4px

		li
			padding 0
			margin 0 0 0 4px
	
	.annotation-type
		display inline-block
		padding 9px 0 0 8px
		max-width 120px
		white-space nowrap
		overflow hidden
		text-overflow ellipsis

	.tooltip-body
		border-top 1px solid darken(teak, 10%)
		border-bottom-left-radius 10px
		border-bottom-right-radius 10px
		background darken(teak, 3%)
		padding 10px
		max-height 300px
		overflow-y auto


	&:after
		position absolute
		width 0
		height 0
		border-style solid
		border-width 10px
		border-color transparent transparent teak transparent
		top -20px
		left 50%
		margin-left -10px
		content ""

	&.tipright:after
		left 66%

	&.tipleft:after
		left 33%

	&.tipbottom:after
		border-color darken(teak, 3%) transparent transparent transparent
		bottom -20px
		top auto
#debug
	display none
	position fixed
	width 100px
	height 100px
	bottom 0
	right 0
	background black
	color white
@import './import/functions.styl'
@import './import/variables.styl'

// body > .modal
// 	.modalbody
// 		form.edit-entry-metadata
// 			input[type="text"]
// 				width 375px

preview()
	position relative

	.linenumbers
		position absolute
		text-align right
		list-style none
		top 10px
		color #BBB
		font-size 0.9em

	.body
		padding 10px 0 0 24px

		sup[data-marker]
			select_none()
			color #FFF
			font-size 0.75em
			padding 0px 1px
			cursor pointer
			border-radius 2px
			box-shadow 1px 1px 2px #888
			text-shadow 1px 1px 1px rgba(100, 100, 100, 0.6)
			margin 0 3px
			background-color #FFBEFC
			font-weight bold
			line-height 0

		// For hovering annotations
		span.hilite
			background-color lighten(#FFBEFC, 40%)

		// For active annotations
		span.hilite[data-highlight]
			background-color #FFBEFC
			padding 1px 2px
			border-radius 4px

		// For full text query highlighting
		span.highlight
			background #FF0
			padding 4px 6px 2px 6px
			border-radius 4px
			box-shadow 1px 1px 2px #CCC

#printpreview
	display none

.entry
	.container
		.left-pane, .middle-pane, .right-pane
			inline-block()

		.left-pane
			width 40%

		.middle-pane, .right-pane
			width 30%
		
		.middle-pane
			.entrymetadata-placeholder
				padding 0 10px
			.transcription-placeholder, .annotation-placeholder
				position relative

				.transcriptioneditmenu, .annotationeditmenu
					select_none()
					position absolute
					width 200px
					left 47%
					margin-left -0.5 * @width
					bottom 24px
					opacity 0.3
					transition all 500ms
					background-color rgba(255, 255, 255, 0.8)
					padding 5px
					border 1px solid #CCC
					border-radius 12px
					text-align center

					&:hover
						opacity 1

				.annotationeditmenu
					text-align left

					button
						&.ok
							position absolute
							right 0px
						&.cancel
							position absolute
							right 45px

				.transcriptioneditmenu
					width 50px
					margin-left -0.5 * @width

					button
						margin-right 0px


		.preview-placeholder
			position relative
			
			h2
				position absolute
				top -53px
				left 15px
				color #CCC
				font-size 1.5em

		.preview
			line-height 2.25em
			white-space nowrap
			overflow-y auto
			margin-top 66px
			padding-left 10px

			&.wrap
				white-space normal

				.linenumbers
					display none

			span.emptylayer
				padding-left 6px
				color #DDD
				font-style italic
				font-size 1.2em
			
			.body-container
				preview()

					

.supertinyeditor
	.ste-header

		&.annotationtext
			padding 0 6px
			overflow hidden
			white-space nowrap
			text-overflow ellipsis
			line-height 31px /* Same as .ste-header to vertically center text */
			font-size 1.2em
			font-weight bold

			&:before
				content: '"'

			&:after
				content: '"'

	.ste-body
		background-color #EEE
		// padding 10px 10px 0 10px

body.ste-iframe-body
	padding 10px 0 0 10px
	// padding 6px 0 0 0 // Explicitely set the padding-bottom for FF
	line-height 2.25em

	sup[data-marker]
		display none

div.closebutton
	padding 2px
	margin 4px
	background-color white
	border-radius 4px

	img
		vertical-align middle

@media print
	header.main
		display none

	#printpreview
		display block
		line-height 2.25em
		

		.body-container
			preview()
			margin-bottom 50px

			.body
				sup[data-marker]
					color black
					background none
					text-shadow none
					box-shadow none

			.linenumbers
				color #777

		h2
			color black


	#container
		display none
@import './import/functions.styl'
@import './import/variables.styl'

form
	ul
		list-style none

		li
			margin-bottom 8px

			*
				vertical-align middle

			label, select, input
				&.invalid
					border-color red

			label
				display inline-block
				width 100px

				&.small
					width 40px

				&.large
					width 160px

				&.invalid
					color red

			select
				width 156px // 6px = 4px padding left and 2px border
				border 1px solid #CCC
				background none

			input
				width 150px
				border 1px solid #CCC
				padding-left 4px

			input[type="checkbox"]
				width auto

			input[type="submit"]
				simplebutton()

button.simple
	simplebutton()

labelWidth = 40%
inputWidth = 60%
fieldsetPadding = 20px
invalidColor = #F33;

fieldsetWithLabelWidth(width)
	fieldset.label{width}
		ul li
			label
				width (width)%

			input, select, textarea
				width (100%-width)%

		button[name="submit"]
			margin-left (width)%

form.hilib
	fieldsetWithLabelWidth(20)
	fieldsetWithLabelWidth(30)
	fieldsetWithLabelWidth(50)
	fieldsetWithLabelWidth(60)

	fieldset
		display inline-block
		vertical-align top
		border 0
		box-sizing border-box
		padding 0 fieldsetPadding 0 fieldsetPadding
		margin fieldsetPadding 0 fieldsetPadding 0
		min-width 200px

		& + fieldset
			border-left 1px solid #EEE

		&.span100
			width 100%

		&.span50
			width 50%

			@media screen and (max-width: 600px)
				display block
				width 100%

		&.span33
			width 33.33%

		&.span66
			width 66.66%

		&.span25
			width 25%

		&.span75
			width 75%

		button[name="submit"]
			margin-left labelWidth

	ul
		li
			div.error
				background invalidColor
				color white
				border-radius 3px
				padding 3px 5px
				margin-top 2px

			label
				width labelWidth

			input, select
				width inputWidth

			input[type="checkbox"], input[type="radio"]
				width auto

			input, select, button
				border-color #DDD
				transition-property box-shadow, border-color
				transition-duration 250ms
				box-sizing border-box

				&:focus
					outline none
					border-color rgba(70, 170, 168, 0.5)
					box-shadow 0 0 3px rgba(70, 170, 168, 0.75)

				&.invalid
					border-color rgba(invalidColor, 0.5)
					box-shadow 0 0 3px rgba(invalidColor, 0.75)

	button[name="submit"]
		border none
		background #DDD
		border 1px solid #DDD
		padding 6px 10px
		border-radius 3px
		color #333
		margin-left fieldsetPadding

		&:hover
			background #CCC

		&.disabled
			opacity 0.5
			cursor default

			&:focus
				border-color #DDD
				box-shadow none

			&:hover
				background #DDD	

		&.loader
			i.fa.fa-spinner
				display inline-block

		i.fa.fa-spinner
			margin -3px 0 0 8px
			display none
@import './import/functions.styl'
@import './import/variables.styl'

.shake
	shake()

@keyframes shake
	0%
		transform: translate(3px, 0)
	50%
		transform: translate(-3px, 0)
	100%
		transform: translate(0, 0)

.pulse
	pulse()

@keyframes pulse
	0%
		opacity 1.0
		transform scale(1.0)
	50%
		opacity 0.75
		transform scale(1.1)
	// 67%
	// 	opacity 0.5
	// 	transform scale(1.0)
	100%
		opacity 1.0
		transform scale(1.0)

// keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100% {
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
// @-webkit-keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100%{-webkit-transform:rotate(359deg);
// 			-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}

// }
// @-o-keyframes fn_spin {
// 	0%{
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100%{
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
// @-ms-keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100% {
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
// @keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100%{
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
@import './import/functions.styl'
@import './import/variables.styl'

.row
	font-size 0

	*
		vertical-align top

	sub
		vertical-align sub

	// sup
	// 	vertical-align super

	.aligncenter
		text-align center

	.alignright
		text-align right

	.cell
		display inline-block
		font-size 1rem

		// Test class to make divs visible for testing
		&.test
			background-color rgba(0, 0, 255, 0.5)
			min-height 200px

rows(divisions)
	for division in divisions
		range = 1...division

		for r in range
			.row.span{division} > .cell.span{r}
				width floor((r/division)*100%)

rows(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20)

pads(percentages)
	for perc in percentages
		.pad{perc}
			padding perc * 1%

		.padl{perc}
			padding-left perc * 1%

		.padr{perc}
			padding-right perc * 1%

		.padt{perc}
			padding-top perc * 1%

		.padb{perc}
			padding-bottom perc * 1%


pads(1 2 3 4 5 6 7 8 9 10 12 15 20 30 40 50)
@import './import/functions.styl'
@import './import/variables.styl'

.modal.reset-password
	.body
		margin 0

		fieldset
			padding-left 0
			margin-bottom 0

			ul
				margin-top 20px

				li:last-child
					float right
					margin-top 30px

				li.message
					display none
					text-align left
					padding 12px
					background #F00
					border-radius 3px
					color #FFF
					font-weight bold

				label
					font-size 1.1em
					width 100%

				input
					margin-top 4px
					font-size 1.2em
					width 100%
					line-height 24px

				button[name="submit"]
					margin-left 0

				span
					margin-right 10px

				button[name="cancel"]
					background none
					color red
					border none

#main > .login
	
	.left-pane, .right-pane
		display inline-block
		width 50%
		box-sizing border-box
		// -moz-box-sizing border-box
		vertical-align top
		padding 20px

	.right-pane
		padding-top 46px

	h2
		margin-top 0
		text-align left

	.federated
		margin-top 40px

		button.federated-login
			margin-left 0
			width 100px
			height 26px

	form.login
		text-align left
		box-shadow none
		border 1px solid #DDD
		width 280px

		ul
			&.message
				li
					display none
					text-align left
					padding 12px
					background #F00
					border-radius 3px
					color #FFF
					font-weight bold
			
			li.login
				button
					margin 20px 0 0 100px
					border-radius 3px
					height 26px
					width 100px
					border 1px solid #CCC
					color #333

					&.loading
						background white

						i.fa
							display inline-block

				i.fa
					display none
					margin-left 8px

			li.resetpassword
				color #46AAA8
				font-size 0.8em
				cursor pointer
				margin -6px 0 0 100px

@import './import/functions.styl'
@import './import/variables.styl'

html, body
	font-family Verdana, Arial, Helvetica, sans-serif
	font-size 12px
	margin 0
	padding 0
	min-width minWidth

// iframe > html
// 	background green
	// overflow hidden
	// height 100%

// #blackbar, #graybar
// 	position fixed
// 	width 100%

// #blackbar
// 	height 48px
// 	background-color black

// #graybar
// 	top 48px
// 	height 40px
// 	background-color #444

.noscript, .wrongbrowser
	width 800px
	margin auto
	margin-top 60px

ul
	margin 0
	padding 0

#container
	margin 0 auto
	width 100%

	#main
		padding-top mainHeaderHeight + subHeaderHeight
		// height 100%

	// footer
	// 	text-align center

h1, h2, h3, h4, a
	color spotcolor

button, input[type="submit"]
	cursor pointer

h2.loader
	&:after
		content url('/images/loader.gif')
		margin-left 12px
		position relative
		top 3px

a:visited
	color darken(spotcolor, 30%)

div p:first-child
	margin-top 0

.white, .menu li.username
	color white

.submenu-menus
	display	none

.region
	background #F1F1F1
	box-shadow 0 0 6px #AAA
	padding 12px
	border-radius 6px

i.fa
	font-size 1.2em
	cursor pointer

	&.fa-square-o
		color #AAA
		padding-right 2px

		&:hover
			color #555
	
	&.fa-check-square-o
		color #555
@import './import/functions.styl'
@import './import/variables.styl'

@media all and (max-width: 1000px)
	header.main
		.row
			width 100%

@media all and (max-width: 640px)
	.row
		.cell
			width 100%
			display block
@import './import/functions.styl'
@import './import/variables.styl'

vertical_menu_width = 200px
horizontal_li_padding = 10px
vertical_li_padding = 0px

ul.menu
	position relative
	padding 0
	margin 0
	font-size 0

	li
		font-size 1rem
		font-weight bold
		color white
		white-space nowrap
		text-shadow none
		position relative
		list-style none
		padding vertical_li_padding horizontal_li_padding
		margin 0

		&:hover
			cursor pointer

		&.active
			cursor default

		&:hover > ul, &.active.persist > ul
			display block

		&.arrowleft
			padding-left 18px

			&:before
				position absolute
				width 0
				height 0
				border-style solid
				border-width 5px
				border-color rgba(0, 0, 0, 0) white rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)
				content ""
				margin 7px 0 0 -15px

		&.arrowright
			padding-right 18px

			&:after
				position absolute
				width 0
				height 0
				border-style solid
				border-width 5px
				border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) white
				content ""
				margin 7px 0 0 6px

		&.arrowdown
			arrowdown()

		&.arrowup
			padding-right 22px

			&:after
				position absolute
				width 0
				height 0
				border-style solid
				border-width 5px
				border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) white rgba(0, 0, 0, 0)
				content ""
				margin 5px 0 0 6px

		ul
			position absolute
			display none
			padding 0
	

ul.menu.horizontal > li
	position static
	display inline-block

	ul
		margin-left -1 * horizontal_li_padding // To compensate for li:first-child's 10px padding
		// box-shadow 2px 2px 4px #AAA

		li
			line-height	24px
			// border-top 1px solid rgb(88, 88, 88)

ul.menu.vertical
	width vertical_menu_width
	text-align left

	ul
		top -1px
		left vertical_menu_width + horizontal_li_padding
.modal.set-new-password
	p
		display none
.faceted-search-results
	.faceted-search
		.text-search
			.search-input 
				i.fa-search
					background-color #46AAA8
		button
			color #46AAA8
			
	.results-placeholder
		div.entries
			position static
			margin-top 20px
inline-block()
	display inline-block
	box-sizing border-box
	vertical-align top

shake()
	animation-name shake 
	animation-duration 150ms 
	animation-iteration-count 2 
	animation-timing-function linear

	-moz-animation-name shake 
	-moz-animation-duration 150ms 
	-moz-animation-iteration-count 2 
	-moz-animation-timing-function linear

	-webkit-animation-name shake
	-webkit-animation-duration 150ms
	-webkit-animation-iteration-count 2
	-webkit-animation-timing-function linear

pulse()
	animation-name pulse 
	animation-duration 500ms 
	animation-iteration-count 2
	animation-timing-function linear

	-moz-animation-name pulse 
	-moz-animation-duration 500ms 
	-moz-animation-iteration-count 2 
	-moz-animation-timing-function linear

	-webkit-animation-name pulse
	-webkit-animation-duration 500ms
	-webkit-animation-iteration-count 2
	-webkit-animation-timing-function linear

fn_spin()
	-webkit-animation: fn_spin 2s 3 linear;
	-moz-animation: fn_spin 2s 3 linear;
	-o-animation: fn_spin 2s 3 linear;
	-ms-animation: fn_spin 2s 3 linear;
	animation: fn_spin 2s 3 linear;
	-webkit-animation-name: fn_spin

transition(args...)
	-webkit-transition args
	-moz-transition args
	-o-transition args
	transition args

transform(args...)
	-webkit-transform args
	-moz-transform args
	-ms-transform args
	-o-transform args
	transform args

vertical_gradient(topColor, bottomColor)
	background topColor
	background -moz-linear-gradient(top, topColor 0%, bottomColor 100%)
	background -webkit-gradient(linear, left top, left bottom, color-stop(0%,topColor), color-stop(100%,bottomColor))
	background -webkit-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -o-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -ms-linear-gradient(top, topColor 0%,bottomColor 100%)
	background linear-gradient(to bottom, topColor 0%,bottomColor 100%)
	filter unquot('progid:DXImageTransform.Microsoft.gradient(startColorstr="topColor", endColorstr="bottomColor",GradientType=0 )')

select_none()
	-webkit-touch-callout none
	-webkit-user-select none
	-khtml-user-select none
	-moz-user-select none
	-ms-user-select none
	user-select none

button(light=#D5D6D5, dark=#838383)
	vertical_gradient(lighten(light, 10%), lighten(dark, 10%))
	border 0
	box-shadow 1px 1px 4px #858585
	border-radius 6px
	line-height 24px
	margin -1px 6px 0 0
	cursor pointer
	font-size 0.9rem
	color white
	font-weight bold

	&:hover
		vertical_gradient(light, dark) 

	&:active
		vertical_gradient(lighten(dark, 20%), light) 
		box-shadow -1px -1px 4px #858585
		color white

	&.inactive
		color #969696

	&[disabled]
		color: lightgray;
		background: #808080;
		cursor: default;

		&:active
			background: #808080;
			box-shadow @box-shadow
 
okbutton()
	button(#61E26B, #038808)

cancelbutton()
	button(#E26161, #880303)
	
simplebutton()
	border 1px solid #CCC
	margin-left 100px
	// box-shadow 1px 1px 2px #CCC
	border-radius 4px
	color #333
	padding 2px 6px

	&.inactive
		opacity 0.5
		cursor default

elaboratebutton()
	vertical_gradient(#565656, #444)
	border 0
	box-shadow 1px 1px 1px #666
	color lighten(spotcolor, 30%)
	border-radius 6px
	line-height 24px
	margin -1px 6px 0 0
	cursor pointer
	font-size 0.9rem

	&:active
		vertical_gradient(#444, #565656)
		box-shadow -1px -1px 1px #333
		color spotcolor

	&.inactive
		color #969696

arrowup(bordercolor=white)
	padding-right 22px
	arrow()

	&:after
		border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) bordercolor rgba(0, 0, 0, 0)
		margin -6px 0 0 5px

arrowright(bordercolor=white)
	padding-right 18px
	arrow()

	&:after
		border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) bordercolor
		margin -5px 0 0 6px

arrowdown(bordercolor=white)
	padding-right 22px
	arrow()
	
	&:after
		margin -2px 0 0 5px
		border-color bordercolor rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)
		transition all 300ms

	&.rotateup:after
		transform rotate(180deg)
		margin-top -6px

arrowleft(bordercolor=white)
	padding-left 18px

	&:before
		content ""
		position absolute
		width 0
		height 0
		top 50%
		border-style solid
		border-width 5px
		border-color rgba(0, 0, 0, 0) bordercolor rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)
		margin -5px 0 0 -15px

arrow()
	&:after
		content ""
		position absolute
		width 0
		height 0
		top 50%
		border-style solid
		border-width 5px

textoverflowEllipsis(the_width)
	max-width the_width
	white-space nowrap
	text-overflow ellipsis
	overflow hidden
spotcolor = #46aaa8
spotcolor2 = #FFBEFC

mainHeaderHeight = 48px
subHeaderHeight = 40px

minWidth = 800px
// .resultview
// 	.editselection-placeholder
// 		background #F1F1F1
// 		box-shadow 0 0 6px #AAA
// 		margin-bottom 20px
// 		border-radius 6px

// 		h3
// 			margin 0
// 			padding 12px

// 		form
// 			padding 12px

// 		li
// 			*
// 				vertical-align middle

// 			input
// 				margin-left 4px

// 		footer
// 			text-align right
// 			padding 0 8px 8px 0

// 			*
// 				vertical-align middle

// 			button[name="savemetadata"]
// 				margin 0

// 				&.loader
// 					background white
// 					padding-bottom 6px

// 					&:after
// 						content url('/images/loader.gif')
// 						margin-left 6px
// 						position relative
// 						top 3px

// 			button[name="cancel"]
// 				background none
// 				border none
// 				color #F66
// 				border-radius 4px

// 			span
// 				margin 0 8px 0 4px
@import '../import/functions.styl'
@import '../import/variables.styl'

.projecthistory, .statistics
	padding-left 40px

.projecthistory
	.entries, button.more
		margin-bottom 40px

	h3
		color #444

	ul
		list-style none
		margin-left 16px

		span
			display inline-block
			overflow-x hidden
			text-overflow ellipsis

			&.username
				color gray
// @import '../import/*'

// .projectsearch
// 	position absolute
// 	top 88px
// 	left -8px
// 	bottom 0
// 	overflow hidden
// 	width 100vw

// 	

// 	.faceted-search-placeholder
// 		position absolute
// 		left 10px
// 		top 16px
// 		bottom 0px
// 		width 300px
// 		padding 4px 20px 20px 10px
// 		overflow-y auto
	
// 	.resultview
// 		position absolute
// 		left 360px
// 		top 20px
// 		bottom 10px
// 		right 0px

// 		&.edit-multiple-entry-metadata
// 			ul.entries
// 				list-style none
// 				margin-left -16px

// 				label
// 					display inline

// 				a
// 					display none

// 				input[type="checkbox"]
// 					display inline-block
// 					margin-right 4px

// 		header
// 			background white
// 			padding 0 18px 12px 0
// 			border-bottom 1px solid #DDD

// 			h3
// 				margin-top 0	

// 			nav
// 				color spotcolor

// 				& > ul
// 					& > li
// 						margin-left 6px
// 						cursor pointer
// 						display inline-block

// 						input#cb_showkeywords
// 							margin-right 2px

// 						label
// 							color black
// 							cursor default

// 						&.levels
// 							button
// 								i.fa
// 									margin-left 4px

// 							button, select
// 								background white
// 								border 1px solid rgb(224, 224, 224)
// 								outline none

// 							ul
// 								display none
// 								list-style none
// 								position absolute
// 								background white
// 								border 1px solid #EEE
// 								padding 18px
// 								border-bottom-left-radius 4px
// 								border-bottom-right-radius 4px
// 								border-top-right-radius 4px
// 								margin-top -1px

// 								&.show-save-button
// 									li
// 										button
// 											display block

// 									padding-bottom 14px

// 								li
// 									margin-bottom 10px

// 									label, i.fa
// 										color gray
// 										line-height 18px
									
// 									i.fa:hover
// 										color black
									
// 									select, i.fa
// 										margin-left 6px
// 										height 18px

// 									button
// 										display none
// 										float right

// 			// .numfound-placeholder

// 			.pagination-placeholder
// 				.pagination
// 					select_none()
// 					display none
					
// 					li
// 						color spotcolor
// 						padding 4px

// 					.inactive, .text
// 						color #BBB
// 						cursor default

// 		ul.entries
// 			margin-top 20px
// 			overflow-y auto
// 			list-style square
// 			padding-left 16px

// 			li
// 				margin-bottom 12px

// 				input[type="checkbox"]
// 					display none
				
// 				label, a
// 					text-decoration none
// 					color black
// 					font-size 1.2rem
// 					cursor pointer
// 					padding 2px 4px
// 					border-radius 2px

// 					&:hover
// 						background lighten(spotcolor, 70%)

// 				label
// 					display none

// 				.found
// 					color #999
// 					display inline-block
// 					margin-left 10px

// 					&:before
// 						content: '('

// 					&:after
// 						content: ')'
				
// 				.metadata
// 					ul
// 						list-style none
// 						padding 4px 0 0 12px

// 						li
// 							margin-bottom 0px
// 							// display inline-block
// 							// width 30%

// 							span.key
// 								color #999

// 				.keywords
// 					color #999

// 					ul
// 						list-style none
// 						margin-top 4px

// 						li
// 							padding 2px 0
// 							margin 0
// 							margin-left 13px
// 							overflow-x hidden
// 							white-space nowrap
// 							text-overflow ellipsis

// 							span.container
// 								text-decoration underline

// 							em
// 								color spotcolor2
@import '../import/functions.styl'
@import '../import/variables.styl'

.projectsettings
	.tab.menu
		font-size 0
		li
			color lighten(black, 30%)
			padding 8px 30px 6px 30px
			margin 0
			border 1px solid #DDD
			border-left 0
			border-bottom 0
			background-color #EEE

			&:first-child
				border-left 1px solid #DDDDDD
				border-top-left-radius 8px

			&:last-child
				border-top-right-radius 8px

			&:hover
				background-color lighten(#DDDDDD, 30%)

			&.active
				color black
				background-color #FFF
				box-shadow 0px 1px 0px #FFF // To blur the top border of the div[data-tab]

	div[data-tab]
		display none
		padding 0 10px 60px 10px
		box-shadow 1px 1px 3px #DDD
		border 1px solid #DDD
		border-radius 12px
		border-top-left-radius 0px
		max-width 1000px

		&.active
			display block

		h4
			margin-top 3px
			margin-right 10px
			display inline-block

		// .adduser
		// 	input[type="submit"]
		// 		margin-left 0px

		ul.selected-annotation-types
			padding-left 16px

			li
				margin-bottom 6px

				span.description
					color gray

	// div[data-tab="project"]
	// 	.general, .publication
	// 		display inline-block

	// 	.publication
	// 		vertical-align top
	// 		margin-left 100px

	// 		label
	// 			vertical-align top

	// 		select[name="text.font"]
	// 			margin-bottom 20px

	// 		img
	// 			border 1px solid #CCC

	div[data-tab="users"]
		position relative
		min-height 200px

		.listandroles, .adduser
			width 50%
			display inline-block
			box-sizing border-box
			vertical-align top

		.listandroles
			padding 20px

		.userroles
			margin-top 60px
			
			ul
				list-style square
				margin-left 16px

			select
				background none
				border 1px solid #CCC
				margin-right 8px

		.adduser
			fieldset
				border-left 1px solid #EEE

	div[data-tab="annotations"]
		.set-custom-tag-names, .add-annotation-type, .annotation-type-list
			width 33.33%
			box-sizing border-box
			display inline-block
			vertical-align top

		.annotation-type-list
			padding 20px

		.add-annotation-type
			fieldset
				border-left 1px solid #EEE
				border-right 1px solid #EEE

	div[data-tab="entries"]
		.entry-list, .set-names, .sort-levels
			width 33.33%
			box-sizing border-box
			display inline-block
			vertical-align top

		.entry-list, .sort-levels
			padding 20px

		.sort-levels
			button.savesortlevels
				&.loading
					i.fa.fa-spinner
						display inline-block
					
				i.fa.fa-spinner
					display none
					margin-left 8px

					

		.set-names
			fieldset
				border-left 1px solid #EEE
				border-right 1px solid #EEE
@import '../import/functions.styl'
@import '../import/variables.styl'

header.main
	select_none()
	white-space nowrap
	position absolute
	left 0
	right 0
	top 0
	background-color black
	z-index 50
	min-width minWidth

	& > .left, & > .middle, & > .right
		inline-block()
		width 33%
		
		*
			vertical-align middle

	& > .left
		text-align center

	& > .right
		text-align right

	span.message
		position relative
		display inline-block
		vertical_gradient(#FBEDBF, #EFDD96)
		// background rgba(255, 255, 0, 0.37)
		font-size 0.9em
		font-weight bold
		color #444
		line-height 20px
		// border 2px solid rgba(255, 255, 3, 0.49)
		border-radius 4px
		padding 2px 30px 2px 12px
		margin-top -50px
		transition(margin-top 500ms)
		box-shadow 1px 1px 2px #CCC
		cursor pointer

		&:after
			content 'x'
			border 1px solid rgba(128, 128, 128, 0.3)
			line-height 11px
			text-shadow 1px 1px 4px #777
			border-radius 2px
			position absolute
			padding 0 2px
			margin-top 4px
			right 5px
			color #666

		&.active
			margin-top 11px


	ul.horizontal.menu
		display inline-block

		li
			background-color black
			overflow hidden
			line-height 48px

			&.thisproject
				span.projecttitle
					i.fa.fa-spinner.fa-spin
						margin 14px 20px 0 20px
						
				ul.vertical.menu
					right 0

			&.projects
				overflow visible

				ul.vertical.menu
					position absolute
					margin 0 0 0 -432px
					width auto
					max-height 326px
					overflow-y auto
					overflow-x hidden
					border-bottom 1px solid black

					li
						width 200px
						text-overflow ellipsis

						&.active
							background white
							color black
							border-left 1px solid black
							border-right 1px solid black
							cursor default

			ul.vertical.menu
				width 140px
				border-bottom-left-radius 6px
				border-bottom-right-radius 6px

				li
					border-top 1px solid #444
					font-weight normal
					color #DDD
					box-shadow 1px 1px 2px #777
					line-height 26px

					&:hover
						background-color #222
						color #FFF

					&:last-child
						border-bottom-left-radius 6px
						border-bottom-right-radius 6px

					&.spacer
						border none
						background none
						height 17px
						box-shadow none

	.user
		a
			color white
			text-decoration none

		li.username > .vertical.menu
			right 0



	.projecttitle
		font-size 1.3em
		display inline-block
		max-width 400px
		overflow hidden
		text-overflow ellipsis


// header
// 	white-space nowrap
// 	z-index 100

// 	.main
// 		position fixed
// 		left 0
// 		right 0

// 		.row
// 			margin 0 auto

// 			*
// 				vertical-align middle
		

// 	.main
// 		background-color black
// 		top 0
// 		z-index 50 // render .main above .sub
		
// 		& .cell
// 			line-height mainHeaderHeight

// 		div.logo
// 			overflow hidden
			
// 			.projecttitle
// 				margin-left 10px
// 				white-space nowrap
// 				font-weight bold
// 				overflow hidden
// 				cursor pointer
// 				font-size 1.3em

// 		nav
// 			display inline-block

// 			&.user, &.project
// 				li
// 					background-color black
// 					overflow hidden

// 					// &.projects:after, &.username:after, &.thisproject:after
// 					// 	margin-left 3px
// 					// 	content url('../images/arrow_down.png')

// 				.vertical.menu
// 					li
// 						padding-top 2px
// 						box-shadow 0px -9px 30px rgba(34, 34, 34, 0.8)

// 						&:hover
// 							background #222
// 							text-shadow 1px 2px black

// 						&:hover + li
// 							box-shadow 0px -9px 30px #444
@import '../import/functions.styl'
@import '../import/variables.styl'

.modal
	button.submit
		simplebutton()

	button.cancel
		color #D10000
		border none
		background none
		position relative
		padding-right 16px

		&:after
			position absolute
			right 0
			color #444
			content 'or'


.modal.entry-metadata
	button
		&.loader
			background white
			padding-bottom 6px
			cursor default
			vertical-align middle

			&:after
				content url('/images/hilib/views/modal/loader.gif')
				margin-left 6px
				position relative
				top 3px
@import '../import/functions.styl'
@import '../import/variables.styl'

.submenu
	select_none()
	background-color #444
	position absolute
	left 0
	right 0
	top mainHeaderHeight
	z-index 49 // render .main above .sub
	height 40px
	white-space nowrap
	min-width minWidth

	.horizontal.menu
		li[data-key="editmetadata"]
			color gray
			
			&.enabled
				color #79C8C6

	li[data-key="publish"]
		i.fa
			line-height 24px
			display none

		&.active
			span:after
				content '...'

			i.fa
				display inline-block
				margin-left 8px
				color white
			
			// padding-right 24px

			// &:after
			// 	position absolute
			// 	top 3px
			// 	right 5px
			// 	content url('/images/loader_transparent.gif')

	& > .left-menu
		width 40%

		& > .horizontal.menu
			inline-block()

			&.nav
				max-width 50%
				padding 0 5px

				li[data-key="previous"], li[data-key="next"]
					width 22px
					margin 0

				li[data-key="current"]
					margin 0
					max-width 70%

			&.switchers
				float right
				padding 0 5px

				li
					width 105px
					margin 0 5px 0 0 

			& > li
				inline-block()
				vertical-align middle


	& > .middle-menu, & > .right-menu
		width 30%

	& > .right-menu
		text-align right

	& > .left-menu, & > .middle-menu, & > .right-menu
		inline-block()
		line-height subHeaderHeight

		*
			vertical-align middle

		ul.horizontal.menu > li
			elaboratebutton()
			position relative

			&.alignright
				position absolute
				right 0
				top 50%
				margin-top -0.5 * @line-height

			&[data-key="previous"], &[data-key="next"]
				opacity 0.4

				&.active
					opacity 1

			&[data-key="previous"]
				arrowleft(spotcolor)
				padding-right 0

			&[data-key="current"]
				background none
				box-shadow none
				color #CCC
				// max-width 115px
				text-overflow ellipsis
				overflow hidden


			&[data-key="next"]
				arrowright(spotcolor)
				padding-right 10px
				
				// Override default margin for arrowright
				&:after
					margin -5px 0 0 -3px
			
			&[data-key="facsimiles"], &[data-key="editfacsimiles"], &[data-key="edittextlayers"], &[data-key="layer"], &[data-key="textlayers"]
				arrowdown(spotcolor)

				span
					color darken(spotcolor, 20%)
					display inline-block
					margin-top -3px

			&[data-key="delete"]
				background #A00
				color #eee
				box-shadow none


		ul.vertical.menu 
			border-bottom-left-radius 6px
			border-bottom-right-radius 6px

			&.facsimiles, &.textlayers
				li
					padding-left 20px

				li.active:before
					content '✓ '
					position absolute
					margin-left -12px

			& > li
				border-bottom 1px solid #666
				background-color #444
				box-shadow 2px 0px 4px #888
				overflow hidden
				text-overflow ellipsis
				font-weight normal
				color lighten(spotcolor, 50%)

				&.spacer
					background none
					height 8px
					box-shadow none

				&:hover
					color spotcolor

				&:last-child
					border-bottom-left-radius 6px
					border-bottom-right-radius 6px
					box-shadow 2px 0px 4px #888

				&[data-key="edittextlayers"], &[data-key="editfacsimiles"]
					color #BBB

					&:hover
						color #DDD

@import '../import/functions.styl'
@import '../import/variables.styl'

.subsubmenu
	position fixed
	left 0
	right 0
	top -200px
	// height 120px
	background-color #666
	box-shadow 0 30px 60px rgba(17, 17, 17, 0.8)
	transition top 300ms
	z-index 48
	// top mainHeaderHeight + 40px /* tmp */

	&.active
		top mainHeaderHeight + 40px

	h3
		margin 0 0 10px 0
		color #CCC
		text-shadow 1px 1px 1px #000
		font-size 1em

	.editfacsimiles, .edittextlayers
		display none

		form.addfile
			display none

		ul
			list-style none

			&.textlayers, &.facsimiles
				white-space nowrap

				// Use the star to override the user agent stylesheet
				& *
					cursor pointer


				li.destroy
					span.name
						color #CCC
						border 1px solid #5C0000
						padding 3px 8px 6px 6px
						font-weight bold
						border-radius 6px
						text-shadow 1px 1px 1px #000
						box-shadow 1px 1px 4px #333
						background-color #910000
						font-size 0.9em

						label
							width auto

					span.orcancel
						display inline-block

				span.orcancel
					margin-left 6px
					display none

			li
				margin-bottom 6px
				color lighten(spotcolor, 30%)

				label
					display inline-block
					width 40px

				input, textarea
					width 200px
					border 1px solid #666
					padding 0 0 0 2px
					margin 0

				button
					elaboratebutton()
					display none
					
					&.loader:after
						content url('/images/loader_transparent.gif')
						margin-left 6px
						position relative
						top 3px

				button, input[type="file"]
					margin-left 40px

				img
					margin-right 6px
@import '../import/functions.styl'
@import '../import/variables.styl'

teak = #f1e8e1

#tooltip, .tooltip
	position absolute
	padding 0
	z-index 1000
	background teak
	border-radius 10px
	box-shadow 1px 1px 5px #969696
	min-width 150px
	max-width 200px
	line-height 1em
	white-space normal
	opacity 0
	z-index -1

	&.active
		opacity 1
		z-index 1

	&.addannotation
		width 180px
		height 72px

		select
			background teak
			border 1px solid #CCC
			position absolute
			width 150px
			left 15px
			top 12px

			option
				background teak

		button
			// border 0
			background-color teak
			padding-top 2px
			font-weight normal
			color black
			box-shadow none
			margin 0
			position absolute
			left 40px
			bottom 10px
			border 1px solid #CCC
			border-radius 4px


	&.newannotation
		min-width 36px

		.tooltip-body
			display none

		.horizontal.menu
			border-bottom-left-radius 10px
			border-bottom-right-radius 10px
			padding-bottom 4px

			&.left
				width 36px
				text-align center

				li.delete
					margin 0

			&.right
				display none


	.horizontal.menu
		border-top-left-radius 10px
		border-top-right-radius 10px
		padding 8px 0 6px 0
		background teak
		display inline-block

		&.left
			text-align left

		&.right
			float right
			padding-right 4px

		li
			padding 0
			margin 0 0 0 4px
	
	.annotation-type
		display inline-block
		padding 9px 0 0 8px
		max-width 120px
		white-space nowrap
		overflow hidden
		text-overflow ellipsis

	.tooltip-body
		border-top 1px solid darken(teak, 10%)
		border-bottom-left-radius 10px
		border-bottom-right-radius 10px
		background darken(teak, 3%)
		padding 10px
		max-height 300px
		overflow-y auto


	&:after
		position absolute
		width 0
		height 0
		border-style solid
		border-width 10px
		border-color transparent transparent teak transparent
		top -20px
		left 50%
		margin-left -10px
		content ""

	&.tipright:after
		left 66%

	&.tipleft:after
		left 33%

	&.tipbottom:after
		border-color darken(teak, 3%) transparent transparent transparent
		bottom -20px
		top auto
#debug
	display none
	position fixed
	width 100px
	height 100px
	bottom 0
	right 0
	background black
	color white
@import './import/functions.styl'
@import './import/variables.styl'

// body > .modal
// 	.modalbody
// 		form.edit-entry-metadata
// 			input[type="text"]
// 				width 375px

preview()
	position relative

	.linenumbers
		position absolute
		text-align right
		list-style none
		top 10px
		color #BBB
		font-size 0.9em

	.body
		padding 10px 0 0 24px

		sup[data-marker]
			select_none()
			color #FFF
			font-size 0.75em
			padding 0px 1px
			cursor pointer
			border-radius 2px
			box-shadow 1px 1px 2px #888
			text-shadow 1px 1px 1px rgba(100, 100, 100, 0.6)
			margin 0 3px
			background-color #FFBEFC
			font-weight bold
			line-height 0

		// For hovering annotations
		span.hilite
			background-color lighten(#FFBEFC, 40%)

		// For active annotations
		span.hilite[data-highlight]
			background-color #FFBEFC
			padding 1px 2px
			border-radius 4px

		// For full text query highlighting
		span.highlight
			background #FF0
			padding 4px 6px 2px 6px
			border-radius 4px
			box-shadow 1px 1px 2px #CCC

#printpreview
	display none

.entry
	.container
		.left-pane, .middle-pane, .right-pane
			inline-block()

		.left-pane
			width 40%

		.middle-pane, .right-pane
			width 30%
		
		.middle-pane
			.entrymetadata-placeholder
				padding 0 10px
			.transcription-placeholder, .annotation-placeholder
				position relative

				.transcriptioneditmenu, .annotationeditmenu
					select_none()
					position absolute
					width 200px
					left 47%
					margin-left -0.5 * @width
					bottom 24px
					opacity 0.3
					transition all 500ms
					background-color rgba(255, 255, 255, 0.8)
					padding 5px
					border 1px solid #CCC
					border-radius 12px
					text-align center

					&:hover
						opacity 1

				.annotationeditmenu
					text-align left

					button
						&.ok
							position absolute
							right 0px
						&.cancel
							position absolute
							right 45px

				.transcriptioneditmenu
					width 50px
					margin-left -0.5 * @width

					button
						margin-right 0px


		.preview-placeholder
			position relative
			
			h2
				position absolute
				top -53px
				left 15px
				color #CCC
				font-size 1.5em

		.preview
			line-height 2.25em
			white-space nowrap
			overflow-y auto
			margin-top 66px
			padding-left 10px

			&.wrap
				white-space normal

				.linenumbers
					display none

			span.emptylayer
				padding-left 6px
				color #DDD
				font-style italic
				font-size 1.2em
			
			.body-container
				preview()

					

.supertinyeditor
	.ste-header

		&.annotationtext
			padding 0 6px
			overflow hidden
			white-space nowrap
			text-overflow ellipsis
			line-height 31px /* Same as .ste-header to vertically center text */
			font-size 1.2em
			font-weight bold

			&:before
				content: '"'

			&:after
				content: '"'

	.ste-body
		background-color #EEE
		// padding 10px 10px 0 10px

body.ste-iframe-body
	padding 10px 0 0 10px
	// padding 6px 0 0 0 // Explicitely set the padding-bottom for FF
	line-height 2.25em

	sup[data-marker]
		display none

div.closebutton
	padding 2px
	margin 4px
	background-color white
	border-radius 4px

	img
		vertical-align middle

@media print
	header.main
		display none

	#printpreview
		display block
		line-height 2.25em
		

		.body-container
			preview()
			margin-bottom 50px

			.body
				sup[data-marker]
					color black
					background none
					text-shadow none
					box-shadow none

			.linenumbers
				color #777

		h2
			color black


	#container
		display none
@import './import/functions.styl'
@import './import/variables.styl'

form
	ul
		list-style none

		li
			margin-bottom 8px

			*
				vertical-align middle

			label, select, input
				&.invalid
					border-color red

			label
				display inline-block
				width 100px

				&.small
					width 40px

				&.large
					width 160px

				&.invalid
					color red

			select
				width 156px // 6px = 4px padding left and 2px border
				border 1px solid #CCC
				background none

			input
				width 150px
				border 1px solid #CCC
				padding-left 4px

			input[type="checkbox"]
				width auto

			input[type="submit"]
				simplebutton()

button.simple
	simplebutton()

labelWidth = 40%
inputWidth = 60%
fieldsetPadding = 20px
invalidColor = #F33;

fieldsetWithLabelWidth(width)
	fieldset.label{width}
		ul li
			label
				width (width)%

			input, select, textarea
				width (100%-width)%

		button[name="submit"]
			margin-left (width)%

form.hilib
	fieldsetWithLabelWidth(20)
	fieldsetWithLabelWidth(30)
	fieldsetWithLabelWidth(50)
	fieldsetWithLabelWidth(60)

	fieldset
		display inline-block
		vertical-align top
		border 0
		box-sizing border-box
		padding 0 fieldsetPadding 0 fieldsetPadding
		margin fieldsetPadding 0 fieldsetPadding 0
		min-width 200px

		& + fieldset
			border-left 1px solid #EEE

		&.span100
			width 100%

		&.span50
			width 50%

			@media screen and (max-width: 600px)
				display block
				width 100%

		&.span33
			width 33.33%

		&.span66
			width 66.66%

		&.span25
			width 25%

		&.span75
			width 75%

		button[name="submit"]
			margin-left labelWidth

	ul
		li
			div.error
				background invalidColor
				color white
				border-radius 3px
				padding 3px 5px
				margin-top 2px

			label
				width labelWidth

			input, select
				width inputWidth

			input[type="checkbox"], input[type="radio"]
				width auto

			input, select, button
				border-color #DDD
				transition-property box-shadow, border-color
				transition-duration 250ms
				box-sizing border-box

				&:focus
					outline none
					border-color rgba(70, 170, 168, 0.5)
					box-shadow 0 0 3px rgba(70, 170, 168, 0.75)

				&.invalid
					border-color rgba(invalidColor, 0.5)
					box-shadow 0 0 3px rgba(invalidColor, 0.75)

	button[name="submit"]
		border none
		background #DDD
		border 1px solid #DDD
		padding 6px 10px
		border-radius 3px
		color #333
		margin-left fieldsetPadding

		&:hover
			background #CCC

		&.disabled
			opacity 0.5
			cursor default

			&:focus
				border-color #DDD
				box-shadow none

			&:hover
				background #DDD	

		&.loader
			i.fa.fa-spinner
				display inline-block

		i.fa.fa-spinner
			margin -3px 0 0 8px
			display none
@import './import/functions.styl'
@import './import/variables.styl'

.shake
	shake()

@keyframes shake
	0%
		transform: translate(3px, 0)
	50%
		transform: translate(-3px, 0)
	100%
		transform: translate(0, 0)

.pulse
	pulse()

@keyframes pulse
	0%
		opacity 1.0
		transform scale(1.0)
	50%
		opacity 0.75
		transform scale(1.1)
	// 67%
	// 	opacity 0.5
	// 	transform scale(1.0)
	100%
		opacity 1.0
		transform scale(1.0)

// keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100% {
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
// @-webkit-keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100%{-webkit-transform:rotate(359deg);
// 			-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}

// }
// @-o-keyframes fn_spin {
// 	0%{
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100%{
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
// @-ms-keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100% {
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
// @keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100%{
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
@import './import/functions.styl'
@import './import/variables.styl'

.row
	font-size 0

	*
		vertical-align top

	sub
		vertical-align sub

	// sup
	// 	vertical-align super

	.aligncenter
		text-align center

	.alignright
		text-align right

	.cell
		display inline-block
		font-size 1rem

		// Test class to make divs visible for testing
		&.test
			background-color rgba(0, 0, 255, 0.5)
			min-height 200px

rows(divisions)
	for division in divisions
		range = 1...division

		for r in range
			.row.span{division} > .cell.span{r}
				width floor((r/division)*100%)

rows(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20)

pads(percentages)
	for perc in percentages
		.pad{perc}
			padding perc * 1%

		.padl{perc}
			padding-left perc * 1%

		.padr{perc}
			padding-right perc * 1%

		.padt{perc}
			padding-top perc * 1%

		.padb{perc}
			padding-bottom perc * 1%


pads(1 2 3 4 5 6 7 8 9 10 12 15 20 30 40 50)
.modal.reset-password
	.body
		margin 0

		fieldset
			padding-left 0
			margin-bottom 0

			ul
				margin-top 20px

				li:last-child
					float right
					margin-top 30px

				li.message
					display none
					text-align left
					padding 12px
					background #F00
					border-radius 3px
					color #FFF
					font-weight bold

				label
					font-size 1.1em
					width 100%

				input
					margin-top 4px
					font-size 1.2em
					width 100%
					line-height 24px

				button[name="submit"]
					margin-left 0

				span
					margin-right 10px

				button[name="cancel"]
					background none
					color red
					border none

#main > .login
	
	.left-pane, .right-pane
		display inline-block
		width 50%
		box-sizing border-box
		// -moz-box-sizing border-box
		vertical-align top
		padding 20px

	.right-pane
		padding-top 46px

	h2
		margin-top 0
		text-align left

	.federated
		margin-top 40px

		button.federated-login
			margin-left 0
			width 100px
			height 26px

	form.login
		text-align left
		box-shadow none
		border 1px solid #DDD
		width 280px

		ul
			&.message
				li
					display none
					text-align left
					padding 12px
					background #F00
					border-radius 3px
					color #FFF
					font-weight bold
			
			li.login
				button
					margin 20px 0 0 100px
					border-radius 3px
					height 26px
					width 100px
					border 1px solid #CCC
					color #333

					&.loading
						background white

						i.fa
							display inline-block

				i.fa
					display none
					margin-left 8px

			li.resetpassword
				color #46AAA8
				font-size 0.8em
				cursor pointer
				margin -6px 0 0 100px

@import './import/functions.styl'
@import './import/variables.styl'

html, body
	font-family Verdana, Arial, Helvetica, sans-serif
	font-size 12px
	margin 0
	padding 0
	min-width minWidth

// iframe > html
// 	background green
	// overflow hidden
	// height 100%

// #blackbar, #graybar
// 	position fixed
// 	width 100%

// #blackbar
// 	height 48px
// 	background-color black

// #graybar
// 	top 48px
// 	height 40px
// 	background-color #444

.noscript, .wrongbrowser
	width 800px
	margin auto
	margin-top 60px

ul
	margin 0
	padding 0

#container
	margin 0 auto
	width 100%

	#main
		padding-top mainHeaderHeight + subHeaderHeight
		// height 100%

	// footer
	// 	text-align center

h1, h2, h3, h4, a
	color spotcolor

button, input[type="submit"]
	cursor pointer

h2.loader
	&:after
		content url('/images/loader.gif')
		margin-left 12px
		position relative
		top 3px

a:visited
	color darken(spotcolor, 30%)

div p:first-child
	margin-top 0

.white, .menu li.username
	color white

.submenu-menus
	display	none

.region
	background #F1F1F1
	box-shadow 0 0 6px #AAA
	padding 12px
	border-radius 6px

i.fa
	font-size 1.2em
	cursor pointer

	&.fa-square-o
		color #AAA
		padding-right 2px

		&:hover
			color #555
	
	&.fa-check-square-o
		color #555
@import './import/functions.styl'
@import './import/variables.styl'

@media all and (max-width: 1000px)
	header.main
		.row
			width 100%

@media all and (max-width: 640px)
	.row
		.cell
			width 100%
			display block
@import './import/functions.styl'
@import './import/variables.styl'

vertical_menu_width = 200px
horizontal_li_padding = 10px
vertical_li_padding = 0px

ul.menu
	position relative
	padding 0
	margin 0
	font-size 0

	li
		font-size 1rem
		font-weight bold
		color white
		white-space nowrap
		text-shadow none
		position relative
		list-style none
		padding vertical_li_padding horizontal_li_padding
		margin 0

		&:hover
			cursor pointer

		&.active
			cursor default

		&:hover > ul, &.active.persist > ul
			display block

		&.arrowleft
			padding-left 18px

			&:before
				position absolute
				width 0
				height 0
				border-style solid
				border-width 5px
				border-color rgba(0, 0, 0, 0) white rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)
				content ""
				margin 7px 0 0 -15px

		&.arrowright
			padding-right 18px

			&:after
				position absolute
				width 0
				height 0
				border-style solid
				border-width 5px
				border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) white
				content ""
				margin 7px 0 0 6px

		&.arrowdown
			arrowdown()

		&.arrowup
			padding-right 22px

			&:after
				position absolute
				width 0
				height 0
				border-style solid
				border-width 5px
				border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) white rgba(0, 0, 0, 0)
				content ""
				margin 5px 0 0 6px

		ul
			position absolute
			display none
			padding 0
	

ul.menu.horizontal > li
	position static
	display inline-block

	ul
		margin-left -1 * horizontal_li_padding // To compensate for li:first-child's 10px padding
		// box-shadow 2px 2px 4px #AAA

		li
			line-height	24px
			// border-top 1px solid rgb(88, 88, 88)

ul.menu.vertical
	width vertical_menu_width
	text-align left

	ul
		top -1px
		left vertical_menu_width + horizontal_li_padding
.modal.set-new-password
	p
		display none
.faceted-search-results
	.faceted-search
		.text-search
			.search-input 
				i.fa-search
					background-color #46AAA8
		button
			color #46AAA8
			
	.results-placeholder
		div.entries
			position static
			margin-top 20px
inline-block()
	display inline-block
	box-sizing border-box
	vertical-align top

shake()
	animation-name shake 
	animation-duration 150ms 
	animation-iteration-count 2 
	animation-timing-function linear

	-moz-animation-name shake 
	-moz-animation-duration 150ms 
	-moz-animation-iteration-count 2 
	-moz-animation-timing-function linear

	-webkit-animation-name shake
	-webkit-animation-duration 150ms
	-webkit-animation-iteration-count 2
	-webkit-animation-timing-function linear

pulse()
	animation-name pulse 
	animation-duration 500ms 
	animation-iteration-count 2
	animation-timing-function linear

	-moz-animation-name pulse 
	-moz-animation-duration 500ms 
	-moz-animation-iteration-count 2 
	-moz-animation-timing-function linear

	-webkit-animation-name pulse
	-webkit-animation-duration 500ms
	-webkit-animation-iteration-count 2
	-webkit-animation-timing-function linear

fn_spin()
	-webkit-animation: fn_spin 2s 3 linear;
	-moz-animation: fn_spin 2s 3 linear;
	-o-animation: fn_spin 2s 3 linear;
	-ms-animation: fn_spin 2s 3 linear;
	animation: fn_spin 2s 3 linear;
	-webkit-animation-name: fn_spin

transition(args...)
	-webkit-transition args
	-moz-transition args
	-o-transition args
	transition args

transform(args...)
	-webkit-transform args
	-moz-transform args
	-ms-transform args
	-o-transform args
	transform args

vertical_gradient(topColor, bottomColor)
	background topColor
	background -moz-linear-gradient(top, topColor 0%, bottomColor 100%)
	background -webkit-gradient(linear, left top, left bottom, color-stop(0%,topColor), color-stop(100%,bottomColor))
	background -webkit-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -o-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -ms-linear-gradient(top, topColor 0%,bottomColor 100%)
	background linear-gradient(to bottom, topColor 0%,bottomColor 100%)
	filter unquot('progid:DXImageTransform.Microsoft.gradient(startColorstr="topColor", endColorstr="bottomColor",GradientType=0 )')

select_none()
	-webkit-touch-callout none
	-webkit-user-select none
	-khtml-user-select none
	-moz-user-select none
	-ms-user-select none
	user-select none

button(light=#D5D6D5, dark=#838383)
	vertical_gradient(lighten(light, 10%), lighten(dark, 10%))
	border 0
	box-shadow 1px 1px 4px #858585
	border-radius 6px
	line-height 24px
	margin -1px 6px 0 0
	cursor pointer
	font-size 0.9rem
	color white
	font-weight bold

	&:hover
		vertical_gradient(light, dark) 

	&:active
		vertical_gradient(lighten(dark, 20%), light) 
		box-shadow -1px -1px 4px #858585
		color white

	&.inactive
		color #969696

	&[disabled]
		color: lightgray;
		background: #808080;
		cursor: default;

		&:active
			background: #808080;
			box-shadow @box-shadow
 
okbutton()
	button(#61E26B, #038808)

cancelbutton()
	button(#E26161, #880303)
	
simplebutton()
	border 1px solid #CCC
	margin-left 100px
	// box-shadow 1px 1px 2px #CCC
	border-radius 4px
	color #333
	padding 2px 6px

	&.inactive
		opacity 0.5
		cursor default

elaboratebutton()
	vertical_gradient(#565656, #444)
	border 0
	box-shadow 1px 1px 1px #666
	color lighten(spotcolor, 30%)
	border-radius 6px
	line-height 24px
	margin -1px 6px 0 0
	cursor pointer
	font-size 0.9rem

	&:active
		vertical_gradient(#444, #565656)
		box-shadow -1px -1px 1px #333
		color spotcolor

	&.inactive
		color #969696

arrowup(bordercolor=white)
	padding-right 22px
	arrow()

	&:after
		border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) bordercolor rgba(0, 0, 0, 0)
		margin -6px 0 0 5px

arrowright(bordercolor=white)
	padding-right 18px
	arrow()

	&:after
		border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) bordercolor
		margin -5px 0 0 6px

arrowdown(bordercolor=white)
	padding-right 22px
	arrow()
	
	&:after
		margin -2px 0 0 5px
		border-color bordercolor rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)
		transition all 300ms

	&.rotateup:after
		transform rotate(180deg)
		margin-top -6px

arrowleft(bordercolor=white)
	padding-left 18px

	&:before
		content ""
		position absolute
		width 0
		height 0
		top 50%
		border-style solid
		border-width 5px
		border-color rgba(0, 0, 0, 0) bordercolor rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)
		margin -5px 0 0 -15px

arrow()
	&:after
		content ""
		position absolute
		width 0
		height 0
		top 50%
		border-style solid
		border-width 5px

textoverflowEllipsis(the_width)
	max-width the_width
	white-space nowrap
	text-overflow ellipsis
	overflow hidden
spotcolor = #46aaa8
spotcolor2 = #FFBEFC

mainHeaderHeight = 48px
subHeaderHeight = 40px

minWidth = 800px
// .resultview
// 	.editselection-placeholder
// 		background #F1F1F1
// 		box-shadow 0 0 6px #AAA
// 		margin-bottom 20px
// 		border-radius 6px

// 		h3
// 			margin 0
// 			padding 12px

// 		form
// 			padding 12px

// 		li
// 			*
// 				vertical-align middle

// 			input
// 				margin-left 4px

// 		footer
// 			text-align right
// 			padding 0 8px 8px 0

// 			*
// 				vertical-align middle

// 			button[name="savemetadata"]
// 				margin 0

// 				&.loader
// 					background white
// 					padding-bottom 6px

// 					&:after
// 						content url('/images/loader.gif')
// 						margin-left 6px
// 						position relative
// 						top 3px

// 			button[name="cancel"]
// 				background none
// 				border none
// 				color #F66
// 				border-radius 4px

// 			span
// 				margin 0 8px 0 4px
@import '../import/functions.styl'
@import '../import/variables.styl'

.projecthistory, .statistics
	padding-left 40px

.projecthistory
	.entries, button.more
		margin-bottom 40px

	h3
		color #444

	ul
		list-style none
		margin-left 16px

		span
			display inline-block
			overflow-x hidden
			text-overflow ellipsis

			&.username
				color gray
// @import '../import/*'

// .projectsearch
// 	position absolute
// 	top 88px
// 	left -8px
// 	bottom 0
// 	overflow hidden
// 	width 100vw

// 	

// 	.faceted-search-placeholder
// 		position absolute
// 		left 10px
// 		top 16px
// 		bottom 0px
// 		width 300px
// 		padding 4px 20px 20px 10px
// 		overflow-y auto
	
// 	.resultview
// 		position absolute
// 		left 360px
// 		top 20px
// 		bottom 10px
// 		right 0px

// 		&.edit-multiple-entry-metadata
// 			ul.entries
// 				list-style none
// 				margin-left -16px

// 				label
// 					display inline

// 				a
// 					display none

// 				input[type="checkbox"]
// 					display inline-block
// 					margin-right 4px

// 		header
// 			background white
// 			padding 0 18px 12px 0
// 			border-bottom 1px solid #DDD

// 			h3
// 				margin-top 0	

// 			nav
// 				color spotcolor

// 				& > ul
// 					& > li
// 						margin-left 6px
// 						cursor pointer
// 						display inline-block

// 						input#cb_showkeywords
// 							margin-right 2px

// 						label
// 							color black
// 							cursor default

// 						&.levels
// 							button
// 								i.fa
// 									margin-left 4px

// 							button, select
// 								background white
// 								border 1px solid rgb(224, 224, 224)
// 								outline none

// 							ul
// 								display none
// 								list-style none
// 								position absolute
// 								background white
// 								border 1px solid #EEE
// 								padding 18px
// 								border-bottom-left-radius 4px
// 								border-bottom-right-radius 4px
// 								border-top-right-radius 4px
// 								margin-top -1px

// 								&.show-save-button
// 									li
// 										button
// 											display block

// 									padding-bottom 14px

// 								li
// 									margin-bottom 10px

// 									label, i.fa
// 										color gray
// 										line-height 18px
									
// 									i.fa:hover
// 										color black
									
// 									select, i.fa
// 										margin-left 6px
// 										height 18px

// 									button
// 										display none
// 										float right

// 			// .numfound-placeholder

// 			.pagination-placeholder
// 				.pagination
// 					select_none()
// 					display none
					
// 					li
// 						color spotcolor
// 						padding 4px

// 					.inactive, .text
// 						color #BBB
// 						cursor default

// 		ul.entries
// 			margin-top 20px
// 			overflow-y auto
// 			list-style square
// 			padding-left 16px

// 			li
// 				margin-bottom 12px

// 				input[type="checkbox"]
// 					display none
				
// 				label, a
// 					text-decoration none
// 					color black
// 					font-size 1.2rem
// 					cursor pointer
// 					padding 2px 4px
// 					border-radius 2px

// 					&:hover
// 						background lighten(spotcolor, 70%)

// 				label
// 					display none

// 				.found
// 					color #999
// 					display inline-block
// 					margin-left 10px

// 					&:before
// 						content: '('

// 					&:after
// 						content: ')'
				
// 				.metadata
// 					ul
// 						list-style none
// 						padding 4px 0 0 12px

// 						li
// 							margin-bottom 0px
// 							// display inline-block
// 							// width 30%

// 							span.key
// 								color #999

// 				.keywords
// 					color #999

// 					ul
// 						list-style none
// 						margin-top 4px

// 						li
// 							padding 2px 0
// 							margin 0
// 							margin-left 13px
// 							overflow-x hidden
// 							white-space nowrap
// 							text-overflow ellipsis

// 							span.container
// 								text-decoration underline

// 							em
// 								color spotcolor2
@import '../import/functions.styl'
@import '../import/variables.styl'

.projectsettings
	.tab.menu
		font-size 0
		li
			color lighten(black, 30%)
			padding 8px 30px 6px 30px
			margin 0
			border 1px solid #DDD
			border-left 0
			border-bottom 0
			background-color #EEE

			&:first-child
				border-left 1px solid #DDDDDD
				border-top-left-radius 8px

			&:last-child
				border-top-right-radius 8px

			&:hover
				background-color lighten(#DDDDDD, 30%)

			&.active
				color black
				background-color #FFF
				box-shadow 0px 1px 0px #FFF // To blur the top border of the div[data-tab]

	div[data-tab]
		display none
		padding 0 10px 60px 10px
		box-shadow 1px 1px 3px #DDD
		border 1px solid #DDD
		border-radius 12px
		border-top-left-radius 0px
		max-width 1000px

		&.active
			display block

		h4
			margin-top 3px
			margin-right 10px
			display inline-block

		// .adduser
		// 	input[type="submit"]
		// 		margin-left 0px

		ul.selected-annotation-types
			padding-left 16px

			li
				margin-bottom 6px

				span.description
					color gray

	// div[data-tab="project"]
	// 	.general, .publication
	// 		display inline-block

	// 	.publication
	// 		vertical-align top
	// 		margin-left 100px

	// 		label
	// 			vertical-align top

	// 		select[name="text.font"]
	// 			margin-bottom 20px

	// 		img
	// 			border 1px solid #CCC

	div[data-tab="users"]
		position relative
		min-height 200px

		.listandroles, .adduser
			width 50%
			display inline-block
			box-sizing border-box
			vertical-align top

		.listandroles
			padding 20px

		.userroles
			margin-top 60px
			
			ul
				list-style square
				margin-left 16px

			select
				background none
				border 1px solid #CCC
				margin-right 8px

		.adduser
			fieldset
				border-left 1px solid #EEE

	div[data-tab="annotations"]
		.set-custom-tag-names, .add-annotation-type, .annotation-type-list
			width 33.33%
			box-sizing border-box
			display inline-block
			vertical-align top

		.annotation-type-list
			padding 20px

		.add-annotation-type
			fieldset
				border-left 1px solid #EEE
				border-right 1px solid #EEE

	div[data-tab="entries"]
		.entry-list, .set-names, .sort-levels
			width 33.33%
			box-sizing border-box
			display inline-block
			vertical-align top

		.entry-list, .sort-levels
			padding 20px

		.sort-levels
			button.savesortlevels
				&.loading
					i.fa.fa-spinner
						display inline-block
					
				i.fa.fa-spinner
					display none
					margin-left 8px

					

		.set-names
			fieldset
				border-left 1px solid #EEE
				border-right 1px solid #EEE
@import '../import/functions.styl'
@import '../import/variables.styl'

header.main
	select_none()
	white-space nowrap
	position absolute
	left 0
	right 0
	top 0
	background-color black
	z-index 50
	min-width minWidth

	& > .left, & > .middle, & > .right
		inline-block()
		width 33%
		
		*
			vertical-align middle

	& > .left
		text-align center

	& > .right
		text-align right

	span.message
		position relative
		display inline-block
		vertical_gradient(#FBEDBF, #EFDD96)
		// background rgba(255, 255, 0, 0.37)
		font-size 0.9em
		font-weight bold
		color #444
		line-height 20px
		// border 2px solid rgba(255, 255, 3, 0.49)
		border-radius 4px
		padding 2px 30px 2px 12px
		margin-top -50px
		transition(margin-top 500ms)
		box-shadow 1px 1px 2px #CCC
		cursor pointer

		&:after
			content 'x'
			border 1px solid rgba(128, 128, 128, 0.3)
			line-height 11px
			text-shadow 1px 1px 4px #777
			border-radius 2px
			position absolute
			padding 0 2px
			margin-top 4px
			right 5px
			color #666

		&.active
			margin-top 11px


	ul.horizontal.menu
		display inline-block

		li
			background-color black
			overflow hidden
			line-height 48px

			&.thisproject
				span.projecttitle
					i.fa.fa-spinner.fa-spin
						margin 14px 20px 0 20px
						
				ul.vertical.menu
					right 0

			&.projects
				overflow visible

				ul.vertical.menu
					position absolute
					margin 0 0 0 -432px
					width auto
					max-height 326px
					overflow-y auto
					overflow-x hidden
					border-bottom 1px solid black

					li
						width 200px
						text-overflow ellipsis

						&.active
							background white
							color black
							border-left 1px solid black
							border-right 1px solid black
							cursor default

			ul.vertical.menu
				width 140px
				border-bottom-left-radius 6px
				border-bottom-right-radius 6px

				li
					border-top 1px solid #444
					font-weight normal
					color #DDD
					box-shadow 1px 1px 2px #777
					line-height 26px

					&:hover
						background-color #222
						color #FFF

					&:last-child
						border-bottom-left-radius 6px
						border-bottom-right-radius 6px

					&.spacer
						border none
						background none
						height 17px
						box-shadow none

	.user
		a
			color white
			text-decoration none

		li.username > .vertical.menu
			right 0



	.projecttitle
		font-size 1.3em
		display inline-block
		max-width 400px
		overflow hidden
		text-overflow ellipsis


// header
// 	white-space nowrap
// 	z-index 100

// 	.main
// 		position fixed
// 		left 0
// 		right 0

// 		.row
// 			margin 0 auto

// 			*
// 				vertical-align middle
		

// 	.main
// 		background-color black
// 		top 0
// 		z-index 50 // render .main above .sub
		
// 		& .cell
// 			line-height mainHeaderHeight

// 		div.logo
// 			overflow hidden
			
// 			.projecttitle
// 				margin-left 10px
// 				white-space nowrap
// 				font-weight bold
// 				overflow hidden
// 				cursor pointer
// 				font-size 1.3em

// 		nav
// 			display inline-block

// 			&.user, &.project
// 				li
// 					background-color black
// 					overflow hidden

// 					// &.projects:after, &.username:after, &.thisproject:after
// 					// 	margin-left 3px
// 					// 	content url('../images/arrow_down.png')

// 				.vertical.menu
// 					li
// 						padding-top 2px
// 						box-shadow 0px -9px 30px rgba(34, 34, 34, 0.8)

// 						&:hover
// 							background #222
// 							text-shadow 1px 2px black

// 						&:hover + li
// 							box-shadow 0px -9px 30px #444
@import '../import/functions.styl'
@import '../import/variables.styl'

.modal
	button.submit
		simplebutton()

	button.cancel
		color #D10000
		border none
		background none
		position relative
		padding-right 16px

		&:after
			position absolute
			right 0
			color #444
			content 'or'


.modal.entry-metadata
	button
		&.loader
			background white
			padding-bottom 6px
			cursor default
			vertical-align middle

			&:after
				content url('/images/hilib/views/modal/loader.gif')
				margin-left 6px
				position relative
				top 3px
@import '../import/functions.styl'
@import '../import/variables.styl'

.submenu
	select_none()
	background-color #444
	position absolute
	left 0
	right 0
	top mainHeaderHeight
	z-index 49 // render .main above .sub
	height 40px
	white-space nowrap
	min-width minWidth

	.horizontal.menu
		li[data-key="editmetadata"]
			color gray
			
			&.enabled
				color #79C8C6

	li[data-key="publish"]
		i.fa
			line-height 24px
			display none

		&.active
			span:after
				content '...'

			i.fa
				display inline-block
				margin-left 8px
				color white
			
			// padding-right 24px

			// &:after
			// 	position absolute
			// 	top 3px
			// 	right 5px
			// 	content url('/images/loader_transparent.gif')

	& > .left-menu
		width 40%

		& > .horizontal.menu
			inline-block()

			&.nav
				max-width 50%
				padding 0 5px

				li[data-key="previous"], li[data-key="next"]
					width 22px
					margin 0

				li[data-key="current"]
					margin 0
					max-width 70%

			&.switchers
				float right
				padding 0 5px

				li
					width 105px
					margin 0 5px 0 0 

			& > li
				inline-block()
				vertical-align middle


	& > .middle-menu, & > .right-menu
		width 30%

	& > .right-menu
		text-align right

	& > .left-menu, & > .middle-menu, & > .right-menu
		inline-block()
		line-height subHeaderHeight

		*
			vertical-align middle

		ul.horizontal.menu > li
			elaboratebutton()
			position relative

			&.alignright
				position absolute
				right 0
				top 50%
				margin-top -0.5 * @line-height

			&[data-key="previous"], &[data-key="next"]
				opacity 0.4

				&.active
					opacity 1

			&[data-key="previous"]
				arrowleft(spotcolor)
				padding-right 0

			&[data-key="current"]
				background none
				box-shadow none
				color #CCC
				// max-width 115px
				text-overflow ellipsis
				overflow hidden


			&[data-key="next"]
				arrowright(spotcolor)
				padding-right 10px
				
				// Override default margin for arrowright
				&:after
					margin -5px 0 0 -3px
			
			&[data-key="facsimiles"], &[data-key="editfacsimiles"], &[data-key="edittextlayers"], &[data-key="layer"], &[data-key="textlayers"]
				arrowdown(spotcolor)

				span
					color darken(spotcolor, 20%)
					display inline-block
					margin-top -3px

			&[data-key="delete"]
				background #A00
				color #eee
				box-shadow none


		ul.vertical.menu 
			border-bottom-left-radius 6px
			border-bottom-right-radius 6px

			&.facsimiles, &.textlayers
				li
					padding-left 20px

				li.active:before
					content '✓ '
					position absolute
					margin-left -12px

			& > li
				border-bottom 1px solid #666
				background-color #444
				box-shadow 2px 0px 4px #888
				overflow hidden
				text-overflow ellipsis
				font-weight normal
				color lighten(spotcolor, 50%)

				&.spacer
					background none
					height 8px
					box-shadow none

				&:hover
					color spotcolor

				&:last-child
					border-bottom-left-radius 6px
					border-bottom-right-radius 6px
					box-shadow 2px 0px 4px #888

				&[data-key="edittextlayers"], &[data-key="editfacsimiles"]
					color #BBB

					&:hover
						color #DDD

@import '../import/functions.styl'
@import '../import/variables.styl'

.subsubmenu
	position fixed
	left 0
	right 0
	top -200px
	// height 120px
	background-color #666
	box-shadow 0 30px 60px rgba(17, 17, 17, 0.8)
	transition top 300ms
	z-index 48
	// top mainHeaderHeight + 40px /* tmp */

	&.active
		top mainHeaderHeight + 40px

	h3
		margin 0 0 10px 0
		color #CCC
		text-shadow 1px 1px 1px #000
		font-size 1em

	.editfacsimiles, .edittextlayers
		display none

		form.addfile
			display none

		ul
			list-style none

			&.textlayers, &.facsimiles
				white-space nowrap

				// Use the star to override the user agent stylesheet
				& *
					cursor pointer


				li.destroy
					span.name
						color #CCC
						border 1px solid #5C0000
						padding 3px 8px 6px 6px
						font-weight bold
						border-radius 6px
						text-shadow 1px 1px 1px #000
						box-shadow 1px 1px 4px #333
						background-color #910000
						font-size 0.9em

						label
							width auto

					span.orcancel
						display inline-block

				span.orcancel
					margin-left 6px
					display none

			li
				margin-bottom 6px
				color lighten(spotcolor, 30%)

				label
					display inline-block
					width 40px

				input, textarea
					width 200px
					border 1px solid #666
					padding 0 0 0 2px
					margin 0

				button
					elaboratebutton()
					display none
					
					&.loader:after
						content url('/images/loader_transparent.gif')
						margin-left 6px
						position relative
						top 3px

				button, input[type="file"]
					margin-left 40px

				img
					margin-right 6px
@import '../import/functions.styl'
@import '../import/variables.styl'

teak = #f1e8e1

#tooltip, .tooltip
	position absolute
	padding 0
	z-index 1000
	background teak
	border-radius 10px
	box-shadow 1px 1px 5px #969696
	min-width 150px
	max-width 200px
	line-height 1em
	white-space normal
	opacity 0
	z-index -1

	&.active
		opacity 1
		z-index 1

	&.addannotation
		width 180px
		height 72px

		select
			background teak
			border 1px solid #CCC
			position absolute
			width 150px
			left 15px
			top 12px

			option
				background teak

		button
			// border 0
			background-color teak
			padding-top 2px
			font-weight normal
			color black
			box-shadow none
			margin 0
			position absolute
			left 40px
			bottom 10px
			border 1px solid #CCC
			border-radius 4px


	&.newannotation
		min-width 36px

		.tooltip-body
			display none

		.horizontal.menu
			border-bottom-left-radius 10px
			border-bottom-right-radius 10px
			padding-bottom 4px

			&.left
				width 36px
				text-align center

				li.delete
					margin 0

			&.right
				display none


	.horizontal.menu
		border-top-left-radius 10px
		border-top-right-radius 10px
		padding 8px 0 6px 0
		background teak
		display inline-block

		&.left
			text-align left

		&.right
			float right
			padding-right 4px

		li
			padding 0
			margin 0 0 0 4px
	
	.annotation-type
		display inline-block
		padding 9px 0 0 8px
		max-width 120px
		white-space nowrap
		overflow hidden
		text-overflow ellipsis

	.tooltip-body
		border-top 1px solid darken(teak, 10%)
		border-bottom-left-radius 10px
		border-bottom-right-radius 10px
		background darken(teak, 3%)
		padding 10px
		max-height 300px
		overflow-y auto


	&:after
		position absolute
		width 0
		height 0
		border-style solid
		border-width 10px
		border-color transparent transparent teak transparent
		top -20px
		left 50%
		margin-left -10px
		content ""

	&.tipright:after
		left 66%

	&.tipleft:after
		left 33%

	&.tipbottom:after
		border-color darken(teak, 3%) transparent transparent transparent
		bottom -20px
		top auto
#debug
	display none
	position fixed
	width 100px
	height 100px
	bottom 0
	right 0
	background black
	color white
@import './import/functions.styl'
@import './import/variables.styl'

// body > .modal
// 	.modalbody
// 		form.edit-entry-metadata
// 			input[type="text"]
// 				width 375px

preview()
	position relative

	.linenumbers
		position absolute
		text-align right
		list-style none
		top 10px
		color #BBB
		font-size 0.9em

	.body
		padding 10px 0 0 24px

		sup[data-marker]
			select_none()
			color #FFF
			font-size 0.75em
			padding 0px 1px
			cursor pointer
			border-radius 2px
			box-shadow 1px 1px 2px #888
			text-shadow 1px 1px 1px rgba(100, 100, 100, 0.6)
			margin 0 3px
			background-color #FFBEFC
			font-weight bold
			line-height 0

		// For hovering annotations
		span.hilite
			background-color lighten(#FFBEFC, 40%)

		// For active annotations
		span.hilite[data-highlight]
			background-color #FFBEFC
			padding 1px 2px
			border-radius 4px

		// For full text query highlighting
		span.highlight
			background #FF0
			padding 4px 6px 2px 6px
			border-radius 4px
			box-shadow 1px 1px 2px #CCC

#printpreview
	display none

.entry
	.container
		.left-pane, .middle-pane, .right-pane
			inline-block()

		.left-pane
			width 40%

		.middle-pane, .right-pane
			width 30%
		
		.middle-pane
			.entrymetadata-placeholder
				padding 0 10px
			.transcription-placeholder, .annotation-placeholder
				position relative

				.transcriptioneditmenu, .annotationeditmenu
					select_none()
					position absolute
					width 200px
					left 47%
					margin-left -0.5 * @width
					bottom 24px
					opacity 0.3
					transition all 500ms
					background-color rgba(255, 255, 255, 0.8)
					padding 5px
					border 1px solid #CCC
					border-radius 12px
					text-align center

					&:hover
						opacity 1

				.annotationeditmenu
					text-align left

					button
						&.ok
							position absolute
							right 0px
						&.cancel
							position absolute
							right 45px

				.transcriptioneditmenu
					width 50px
					margin-left -0.5 * @width

					button
						margin-right 0px


		.preview-placeholder
			position relative
			
			h2
				position absolute
				top -53px
				left 15px
				color #CCC
				font-size 1.5em

		.preview
			line-height 2.25em
			white-space nowrap
			overflow-y auto
			margin-top 66px
			padding-left 10px

			&.wrap
				white-space normal

				.linenumbers
					display none

			span.emptylayer
				padding-left 6px
				color #DDD
				font-style italic
				font-size 1.2em
			
			.body-container
				preview()

					

.supertinyeditor
	.ste-header

		&.annotationtext
			padding 0 6px
			overflow hidden
			white-space nowrap
			text-overflow ellipsis
			line-height 31px /* Same as .ste-header to vertically center text */
			font-size 1.2em
			font-weight bold

			&:before
				content: '"'

			&:after
				content: '"'

	.ste-body
		background-color #EEE
		// padding 10px 10px 0 10px

body.ste-iframe-body
	padding 10px 0 0 10px
	// padding 6px 0 0 0 // Explicitely set the padding-bottom for FF
	line-height 2.25em

	sup[data-marker]
		display none

div.closebutton
	padding 2px
	margin 4px
	background-color white
	border-radius 4px

	img
		vertical-align middle

@media print
	header.main
		display none

	#printpreview
		display block
		line-height 2.25em
		

		.body-container
			preview()
			margin-bottom 50px

			.body
				sup[data-marker]
					color black
					background none
					text-shadow none
					box-shadow none

			.linenumbers
				color #777

		h2
			color black


	#container
		display none
@import './import/functions.styl'
@import './import/variables.styl'

form
	ul
		list-style none

		li
			margin-bottom 8px

			*
				vertical-align middle

			label, select, input
				&.invalid
					border-color red

			label
				display inline-block
				width 100px

				&.small
					width 40px

				&.large
					width 160px

				&.invalid
					color red

			select
				width 156px // 6px = 4px padding left and 2px border
				border 1px solid #CCC
				background none

			input
				width 150px
				border 1px solid #CCC
				padding-left 4px

			input[type="checkbox"]
				width auto

			input[type="submit"]
				simplebutton()

button.simple
	simplebutton()

labelWidth = 40%
inputWidth = 60%
fieldsetPadding = 20px
invalidColor = #F33;

fieldsetWithLabelWidth(width)
	fieldset.label{width}
		ul li
			label
				width (width)%

			input, select, textarea
				width (100%-width)%

		button[name="submit"]
			margin-left (width)%

form.hilib
	fieldsetWithLabelWidth(20)
	fieldsetWithLabelWidth(30)
	fieldsetWithLabelWidth(50)
	fieldsetWithLabelWidth(60)

	fieldset
		display inline-block
		vertical-align top
		border 0
		box-sizing border-box
		padding 0 fieldsetPadding 0 fieldsetPadding
		margin fieldsetPadding 0 fieldsetPadding 0
		min-width 200px

		& + fieldset
			border-left 1px solid #EEE

		&.span100
			width 100%

		&.span50
			width 50%

			@media screen and (max-width: 600px)
				display block
				width 100%

		&.span33
			width 33.33%

		&.span66
			width 66.66%

		&.span25
			width 25%

		&.span75
			width 75%

		button[name="submit"]
			margin-left labelWidth

	ul
		li
			div.error
				background invalidColor
				color white
				border-radius 3px
				padding 3px 5px
				margin-top 2px

			label
				width labelWidth

			input, select
				width inputWidth

			input[type="checkbox"], input[type="radio"]
				width auto

			input, select, button
				border-color #DDD
				transition-property box-shadow, border-color
				transition-duration 250ms
				box-sizing border-box

				&:focus
					outline none
					border-color rgba(70, 170, 168, 0.5)
					box-shadow 0 0 3px rgba(70, 170, 168, 0.75)

				&.invalid
					border-color rgba(invalidColor, 0.5)
					box-shadow 0 0 3px rgba(invalidColor, 0.75)

	button[name="submit"]
		border none
		background #DDD
		border 1px solid #DDD
		padding 6px 10px
		border-radius 3px
		color #333
		margin-left fieldsetPadding

		&:hover
			background #CCC

		&.disabled
			opacity 0.5
			cursor default

			&:focus
				border-color #DDD
				box-shadow none

			&:hover
				background #DDD	

		&.loader
			i.fa.fa-spinner
				display inline-block

		i.fa.fa-spinner
			margin -3px 0 0 8px
			display none
.shake
	shake()

@keyframes shake
	0%
		transform: translate(3px, 0)
	50%
		transform: translate(-3px, 0)
	100%
		transform: translate(0, 0)

.pulse
	pulse()

@keyframes pulse
	0%
		opacity 1.0
		transform scale(1.0)
	50%
		opacity 0.75
		transform scale(1.1)
	// 67%
	// 	opacity 0.5
	// 	transform scale(1.0)
	100%
		opacity 1.0
		transform scale(1.0)

// keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100% {
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
// @-webkit-keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100%{-webkit-transform:rotate(359deg);
// 			-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}

// }
// @-o-keyframes fn_spin {
// 	0%{
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100%{
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
// @-ms-keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100% {
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
// @keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100%{
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
.row
	font-size 0

	*
		vertical-align top

	sub
		vertical-align sub

	// sup
	// 	vertical-align super

	.aligncenter
		text-align center

	.alignright
		text-align right

	.cell
		display inline-block
		font-size 1rem

		// Test class to make divs visible for testing
		&.test
			background-color rgba(0, 0, 255, 0.5)
			min-height 200px

rows(divisions)
	for division in divisions
		range = 1...division

		for r in range
			.row.span{division} > .cell.span{r}
				width floor((r/division)*100%)

rows(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20)

pads(percentages)
	for perc in percentages
		.pad{perc}
			padding perc * 1%

		.padl{perc}
			padding-left perc * 1%

		.padr{perc}
			padding-right perc * 1%

		.padt{perc}
			padding-top perc * 1%

		.padb{perc}
			padding-bottom perc * 1%


pads(1 2 3 4 5 6 7 8 9 10 12 15 20 30 40 50)
.modal.reset-password
	.body
		margin 0

		fieldset
			padding-left 0
			margin-bottom 0

			ul
				margin-top 20px

				li:last-child
					float right
					margin-top 30px

				li.message
					display none
					text-align left
					padding 12px
					background #F00
					border-radius 3px
					color #FFF
					font-weight bold

				label
					font-size 1.1em
					width 100%

				input
					margin-top 4px
					font-size 1.2em
					width 100%
					line-height 24px

				button[name="submit"]
					margin-left 0

				span
					margin-right 10px

				button[name="cancel"]
					background none
					color red
					border none

#main > .login
	
	.left-pane, .right-pane
		display inline-block
		width 50%
		box-sizing border-box
		// -moz-box-sizing border-box
		vertical-align top
		padding 20px

	.right-pane
		padding-top 46px

	h2
		margin-top 0
		text-align left

	.federated
		margin-top 40px

		button.federated-login
			margin-left 0
			width 100px
			height 26px

	form.login
		text-align left
		box-shadow none
		border 1px solid #DDD
		width 280px

		ul
			&.message
				li
					display none
					text-align left
					padding 12px
					background #F00
					border-radius 3px
					color #FFF
					font-weight bold
			
			li.login
				button
					margin 20px 0 0 100px
					border-radius 3px
					height 26px
					width 100px
					border 1px solid #CCC
					color #333

					&.loading
						background white

						i.fa
							display inline-block

				i.fa
					display none
					margin-left 8px

			li.resetpassword
				color #46AAA8
				font-size 0.8em
				cursor pointer
				margin -6px 0 0 100px

@import './import/functions.styl'
@import './import/variables.styl'

html, body
	font-family Verdana, Arial, Helvetica, sans-serif
	font-size 12px
	margin 0
	padding 0
	min-width minWidth

// iframe > html
// 	background green
	// overflow hidden
	// height 100%

// #blackbar, #graybar
// 	position fixed
// 	width 100%

// #blackbar
// 	height 48px
// 	background-color black

// #graybar
// 	top 48px
// 	height 40px
// 	background-color #444

.noscript, .wrongbrowser
	width 800px
	margin auto
	margin-top 60px

ul
	margin 0
	padding 0

#container
	margin 0 auto
	width 100%

	#main
		padding-top mainHeaderHeight + subHeaderHeight
		// height 100%

	// footer
	// 	text-align center

h1, h2, h3, h4, a
	color spotcolor

button, input[type="submit"]
	cursor pointer

h2.loader
	&:after
		content url('/images/loader.gif')
		margin-left 12px
		position relative
		top 3px

a:visited
	color darken(spotcolor, 30%)

div p:first-child
	margin-top 0

.white, .menu li.username
	color white

.submenu-menus
	display	none

.region
	background #F1F1F1
	box-shadow 0 0 6px #AAA
	padding 12px
	border-radius 6px

i.fa
	font-size 1.2em
	cursor pointer

	&.fa-square-o
		color #AAA
		padding-right 2px

		&:hover
			color #555
	
	&.fa-check-square-o
		color #555
@import './import/functions.styl'
@import './import/variables.styl'

@media all and (max-width: 1000px)
	header.main
		.row
			width 100%

@media all and (max-width: 640px)
	.row
		.cell
			width 100%
			display block
@import './import/functions.styl'
@import './import/variables.styl'

vertical_menu_width = 200px
horizontal_li_padding = 10px
vertical_li_padding = 0px

ul.menu
	position relative
	padding 0
	margin 0
	font-size 0

	li
		font-size 1rem
		font-weight bold
		color white
		white-space nowrap
		text-shadow none
		position relative
		list-style none
		padding vertical_li_padding horizontal_li_padding
		margin 0

		&:hover
			cursor pointer

		&.active
			cursor default

		&:hover > ul, &.active.persist > ul
			display block

		&.arrowleft
			padding-left 18px

			&:before
				position absolute
				width 0
				height 0
				border-style solid
				border-width 5px
				border-color rgba(0, 0, 0, 0) white rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)
				content ""
				margin 7px 0 0 -15px

		&.arrowright
			padding-right 18px

			&:after
				position absolute
				width 0
				height 0
				border-style solid
				border-width 5px
				border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) white
				content ""
				margin 7px 0 0 6px

		&.arrowdown
			arrowdown()

		&.arrowup
			padding-right 22px

			&:after
				position absolute
				width 0
				height 0
				border-style solid
				border-width 5px
				border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) white rgba(0, 0, 0, 0)
				content ""
				margin 5px 0 0 6px

		ul
			position absolute
			display none
			padding 0
	

ul.menu.horizontal > li
	position static
	display inline-block

	ul
		margin-left -1 * horizontal_li_padding // To compensate for li:first-child's 10px padding
		// box-shadow 2px 2px 4px #AAA

		li
			line-height	24px
			// border-top 1px solid rgb(88, 88, 88)

ul.menu.vertical
	width vertical_menu_width
	text-align left

	ul
		top -1px
		left vertical_menu_width + horizontal_li_padding
.modal.set-new-password
	p
		display none
.faceted-search-results
	.faceted-search
		.text-search
			.search-input 
				i.fa-search
					background-color #46AAA8
		button
			color #46AAA8
			
	.results-placeholder
		div.entries
			position static
			margin-top 20px
inline-block()
	display inline-block
	box-sizing border-box
	vertical-align top

shake()
	animation-name shake 
	animation-duration 150ms 
	animation-iteration-count 2 
	animation-timing-function linear

	-moz-animation-name shake 
	-moz-animation-duration 150ms 
	-moz-animation-iteration-count 2 
	-moz-animation-timing-function linear

	-webkit-animation-name shake
	-webkit-animation-duration 150ms
	-webkit-animation-iteration-count 2
	-webkit-animation-timing-function linear

pulse()
	animation-name pulse 
	animation-duration 500ms 
	animation-iteration-count 2
	animation-timing-function linear

	-moz-animation-name pulse 
	-moz-animation-duration 500ms 
	-moz-animation-iteration-count 2 
	-moz-animation-timing-function linear

	-webkit-animation-name pulse
	-webkit-animation-duration 500ms
	-webkit-animation-iteration-count 2
	-webkit-animation-timing-function linear

fn_spin()
	-webkit-animation: fn_spin 2s 3 linear;
	-moz-animation: fn_spin 2s 3 linear;
	-o-animation: fn_spin 2s 3 linear;
	-ms-animation: fn_spin 2s 3 linear;
	animation: fn_spin 2s 3 linear;
	-webkit-animation-name: fn_spin

transition(args...)
	-webkit-transition args
	-moz-transition args
	-o-transition args
	transition args

transform(args...)
	-webkit-transform args
	-moz-transform args
	-ms-transform args
	-o-transform args
	transform args

vertical_gradient(topColor, bottomColor)
	background topColor
	background -moz-linear-gradient(top, topColor 0%, bottomColor 100%)
	background -webkit-gradient(linear, left top, left bottom, color-stop(0%,topColor), color-stop(100%,bottomColor))
	background -webkit-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -o-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -ms-linear-gradient(top, topColor 0%,bottomColor 100%)
	background linear-gradient(to bottom, topColor 0%,bottomColor 100%)
	filter unquot('progid:DXImageTransform.Microsoft.gradient(startColorstr="topColor", endColorstr="bottomColor",GradientType=0 )')

select_none()
	-webkit-touch-callout none
	-webkit-user-select none
	-khtml-user-select none
	-moz-user-select none
	-ms-user-select none
	user-select none

button(light=#D5D6D5, dark=#838383)
	vertical_gradient(lighten(light, 10%), lighten(dark, 10%))
	border 0
	box-shadow 1px 1px 4px #858585
	border-radius 6px
	line-height 24px
	margin -1px 6px 0 0
	cursor pointer
	font-size 0.9rem
	color white
	font-weight bold

	&:hover
		vertical_gradient(light, dark) 

	&:active
		vertical_gradient(lighten(dark, 20%), light) 
		box-shadow -1px -1px 4px #858585
		color white

	&.inactive
		color #969696

	&[disabled]
		color: lightgray;
		background: #808080;
		cursor: default;

		&:active
			background: #808080;
			box-shadow @box-shadow
 
okbutton()
	button(#61E26B, #038808)

cancelbutton()
	button(#E26161, #880303)
	
simplebutton()
	border 1px solid #CCC
	margin-left 100px
	// box-shadow 1px 1px 2px #CCC
	border-radius 4px
	color #333
	padding 2px 6px

	&.inactive
		opacity 0.5
		cursor default

elaboratebutton()
	vertical_gradient(#565656, #444)
	border 0
	box-shadow 1px 1px 1px #666
	color lighten(spotcolor, 30%)
	border-radius 6px
	line-height 24px
	margin -1px 6px 0 0
	cursor pointer
	font-size 0.9rem

	&:active
		vertical_gradient(#444, #565656)
		box-shadow -1px -1px 1px #333
		color spotcolor

	&.inactive
		color #969696

arrowup(bordercolor=white)
	padding-right 22px
	arrow()

	&:after
		border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) bordercolor rgba(0, 0, 0, 0)
		margin -6px 0 0 5px

arrowright(bordercolor=white)
	padding-right 18px
	arrow()

	&:after
		border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) bordercolor
		margin -5px 0 0 6px

arrowdown(bordercolor=white)
	padding-right 22px
	arrow()
	
	&:after
		margin -2px 0 0 5px
		border-color bordercolor rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)
		transition all 300ms

	&.rotateup:after
		transform rotate(180deg)
		margin-top -6px

arrowleft(bordercolor=white)
	padding-left 18px

	&:before
		content ""
		position absolute
		width 0
		height 0
		top 50%
		border-style solid
		border-width 5px
		border-color rgba(0, 0, 0, 0) bordercolor rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)
		margin -5px 0 0 -15px

arrow()
	&:after
		content ""
		position absolute
		width 0
		height 0
		top 50%
		border-style solid
		border-width 5px

textoverflowEllipsis(the_width)
	max-width the_width
	white-space nowrap
	text-overflow ellipsis
	overflow hidden
spotcolor = #46aaa8
spotcolor2 = #FFBEFC

mainHeaderHeight = 48px
subHeaderHeight = 40px

minWidth = 800px
// .resultview
// 	.editselection-placeholder
// 		background #F1F1F1
// 		box-shadow 0 0 6px #AAA
// 		margin-bottom 20px
// 		border-radius 6px

// 		h3
// 			margin 0
// 			padding 12px

// 		form
// 			padding 12px

// 		li
// 			*
// 				vertical-align middle

// 			input
// 				margin-left 4px

// 		footer
// 			text-align right
// 			padding 0 8px 8px 0

// 			*
// 				vertical-align middle

// 			button[name="savemetadata"]
// 				margin 0

// 				&.loader
// 					background white
// 					padding-bottom 6px

// 					&:after
// 						content url('/images/loader.gif')
// 						margin-left 6px
// 						position relative
// 						top 3px

// 			button[name="cancel"]
// 				background none
// 				border none
// 				color #F66
// 				border-radius 4px

// 			span
// 				margin 0 8px 0 4px
@import '../import/functions.styl'
@import '../import/variables.styl'

.projecthistory, .statistics
	padding-left 40px

.projecthistory
	.entries, button.more
		margin-bottom 40px

	h3
		color #444

	ul
		list-style none
		margin-left 16px

		span
			display inline-block
			overflow-x hidden
			text-overflow ellipsis

			&.username
				color gray
// @import '../import/*'

// .projectsearch
// 	position absolute
// 	top 88px
// 	left -8px
// 	bottom 0
// 	overflow hidden
// 	width 100vw

// 	

// 	.faceted-search-placeholder
// 		position absolute
// 		left 10px
// 		top 16px
// 		bottom 0px
// 		width 300px
// 		padding 4px 20px 20px 10px
// 		overflow-y auto
	
// 	.resultview
// 		position absolute
// 		left 360px
// 		top 20px
// 		bottom 10px
// 		right 0px

// 		&.edit-multiple-entry-metadata
// 			ul.entries
// 				list-style none
// 				margin-left -16px

// 				label
// 					display inline

// 				a
// 					display none

// 				input[type="checkbox"]
// 					display inline-block
// 					margin-right 4px

// 		header
// 			background white
// 			padding 0 18px 12px 0
// 			border-bottom 1px solid #DDD

// 			h3
// 				margin-top 0	

// 			nav
// 				color spotcolor

// 				& > ul
// 					& > li
// 						margin-left 6px
// 						cursor pointer
// 						display inline-block

// 						input#cb_showkeywords
// 							margin-right 2px

// 						label
// 							color black
// 							cursor default

// 						&.levels
// 							button
// 								i.fa
// 									margin-left 4px

// 							button, select
// 								background white
// 								border 1px solid rgb(224, 224, 224)
// 								outline none

// 							ul
// 								display none
// 								list-style none
// 								position absolute
// 								background white
// 								border 1px solid #EEE
// 								padding 18px
// 								border-bottom-left-radius 4px
// 								border-bottom-right-radius 4px
// 								border-top-right-radius 4px
// 								margin-top -1px

// 								&.show-save-button
// 									li
// 										button
// 											display block

// 									padding-bottom 14px

// 								li
// 									margin-bottom 10px

// 									label, i.fa
// 										color gray
// 										line-height 18px
									
// 									i.fa:hover
// 										color black
									
// 									select, i.fa
// 										margin-left 6px
// 										height 18px

// 									button
// 										display none
// 										float right

// 			// .numfound-placeholder

// 			.pagination-placeholder
// 				.pagination
// 					select_none()
// 					display none
					
// 					li
// 						color spotcolor
// 						padding 4px

// 					.inactive, .text
// 						color #BBB
// 						cursor default

// 		ul.entries
// 			margin-top 20px
// 			overflow-y auto
// 			list-style square
// 			padding-left 16px

// 			li
// 				margin-bottom 12px

// 				input[type="checkbox"]
// 					display none
				
// 				label, a
// 					text-decoration none
// 					color black
// 					font-size 1.2rem
// 					cursor pointer
// 					padding 2px 4px
// 					border-radius 2px

// 					&:hover
// 						background lighten(spotcolor, 70%)

// 				label
// 					display none

// 				.found
// 					color #999
// 					display inline-block
// 					margin-left 10px

// 					&:before
// 						content: '('

// 					&:after
// 						content: ')'
				
// 				.metadata
// 					ul
// 						list-style none
// 						padding 4px 0 0 12px

// 						li
// 							margin-bottom 0px
// 							// display inline-block
// 							// width 30%

// 							span.key
// 								color #999

// 				.keywords
// 					color #999

// 					ul
// 						list-style none
// 						margin-top 4px

// 						li
// 							padding 2px 0
// 							margin 0
// 							margin-left 13px
// 							overflow-x hidden
// 							white-space nowrap
// 							text-overflow ellipsis

// 							span.container
// 								text-decoration underline

// 							em
// 								color spotcolor2
@import '../import/functions.styl'
@import '../import/variables.styl'

.projectsettings
	.tab.menu
		font-size 0
		li
			color lighten(black, 30%)
			padding 8px 30px 6px 30px
			margin 0
			border 1px solid #DDD
			border-left 0
			border-bottom 0
			background-color #EEE

			&:first-child
				border-left 1px solid #DDDDDD
				border-top-left-radius 8px

			&:last-child
				border-top-right-radius 8px

			&:hover
				background-color lighten(#DDDDDD, 30%)

			&.active
				color black
				background-color #FFF
				box-shadow 0px 1px 0px #FFF // To blur the top border of the div[data-tab]

	div[data-tab]
		display none
		padding 0 10px 60px 10px
		box-shadow 1px 1px 3px #DDD
		border 1px solid #DDD
		border-radius 12px
		border-top-left-radius 0px
		max-width 1000px

		&.active
			display block

		h4
			margin-top 3px
			margin-right 10px
			display inline-block

		// .adduser
		// 	input[type="submit"]
		// 		margin-left 0px

		ul.selected-annotation-types
			padding-left 16px

			li
				margin-bottom 6px

				span.description
					color gray

	// div[data-tab="project"]
	// 	.general, .publication
	// 		display inline-block

	// 	.publication
	// 		vertical-align top
	// 		margin-left 100px

	// 		label
	// 			vertical-align top

	// 		select[name="text.font"]
	// 			margin-bottom 20px

	// 		img
	// 			border 1px solid #CCC

	div[data-tab="users"]
		position relative
		min-height 200px

		.listandroles, .adduser
			width 50%
			display inline-block
			box-sizing border-box
			vertical-align top

		.listandroles
			padding 20px

		.userroles
			margin-top 60px
			
			ul
				list-style square
				margin-left 16px

			select
				background none
				border 1px solid #CCC
				margin-right 8px

		.adduser
			fieldset
				border-left 1px solid #EEE

	div[data-tab="annotations"]
		.set-custom-tag-names, .add-annotation-type, .annotation-type-list
			width 33.33%
			box-sizing border-box
			display inline-block
			vertical-align top

		.annotation-type-list
			padding 20px

		.add-annotation-type
			fieldset
				border-left 1px solid #EEE
				border-right 1px solid #EEE

	div[data-tab="entries"]
		.entry-list, .set-names, .sort-levels
			width 33.33%
			box-sizing border-box
			display inline-block
			vertical-align top

		.entry-list, .sort-levels
			padding 20px

		.sort-levels
			button.savesortlevels
				&.loading
					i.fa.fa-spinner
						display inline-block
					
				i.fa.fa-spinner
					display none
					margin-left 8px

					

		.set-names
			fieldset
				border-left 1px solid #EEE
				border-right 1px solid #EEE
@import '../import/functions.styl'
@import '../import/variables.styl'

header.main
	select_none()
	white-space nowrap
	position absolute
	left 0
	right 0
	top 0
	background-color black
	z-index 50
	min-width minWidth

	& > .left, & > .middle, & > .right
		inline-block()
		width 33%
		
		*
			vertical-align middle

	& > .left
		text-align center

	& > .right
		text-align right

	span.message
		position relative
		display inline-block
		vertical_gradient(#FBEDBF, #EFDD96)
		// background rgba(255, 255, 0, 0.37)
		font-size 0.9em
		font-weight bold
		color #444
		line-height 20px
		// border 2px solid rgba(255, 255, 3, 0.49)
		border-radius 4px
		padding 2px 30px 2px 12px
		margin-top -50px
		transition(margin-top 500ms)
		box-shadow 1px 1px 2px #CCC
		cursor pointer

		&:after
			content 'x'
			border 1px solid rgba(128, 128, 128, 0.3)
			line-height 11px
			text-shadow 1px 1px 4px #777
			border-radius 2px
			position absolute
			padding 0 2px
			margin-top 4px
			right 5px
			color #666

		&.active
			margin-top 11px


	ul.horizontal.menu
		display inline-block

		li
			background-color black
			overflow hidden
			line-height 48px

			&.thisproject
				span.projecttitle
					i.fa.fa-spinner.fa-spin
						margin 14px 20px 0 20px
						
				ul.vertical.menu
					right 0

			&.projects
				overflow visible

				ul.vertical.menu
					position absolute
					margin 0 0 0 -432px
					width auto
					max-height 326px
					overflow-y auto
					overflow-x hidden
					border-bottom 1px solid black

					li
						width 200px
						text-overflow ellipsis

						&.active
							background white
							color black
							border-left 1px solid black
							border-right 1px solid black
							cursor default

			ul.vertical.menu
				width 140px
				border-bottom-left-radius 6px
				border-bottom-right-radius 6px

				li
					border-top 1px solid #444
					font-weight normal
					color #DDD
					box-shadow 1px 1px 2px #777
					line-height 26px

					&:hover
						background-color #222
						color #FFF

					&:last-child
						border-bottom-left-radius 6px
						border-bottom-right-radius 6px

					&.spacer
						border none
						background none
						height 17px
						box-shadow none

	.user
		a
			color white
			text-decoration none

		li.username > .vertical.menu
			right 0



	.projecttitle
		font-size 1.3em
		display inline-block
		max-width 400px
		overflow hidden
		text-overflow ellipsis


// header
// 	white-space nowrap
// 	z-index 100

// 	.main
// 		position fixed
// 		left 0
// 		right 0

// 		.row
// 			margin 0 auto

// 			*
// 				vertical-align middle
		

// 	.main
// 		background-color black
// 		top 0
// 		z-index 50 // render .main above .sub
		
// 		& .cell
// 			line-height mainHeaderHeight

// 		div.logo
// 			overflow hidden
			
// 			.projecttitle
// 				margin-left 10px
// 				white-space nowrap
// 				font-weight bold
// 				overflow hidden
// 				cursor pointer
// 				font-size 1.3em

// 		nav
// 			display inline-block

// 			&.user, &.project
// 				li
// 					background-color black
// 					overflow hidden

// 					// &.projects:after, &.username:after, &.thisproject:after
// 					// 	margin-left 3px
// 					// 	content url('../images/arrow_down.png')

// 				.vertical.menu
// 					li
// 						padding-top 2px
// 						box-shadow 0px -9px 30px rgba(34, 34, 34, 0.8)

// 						&:hover
// 							background #222
// 							text-shadow 1px 2px black

// 						&:hover + li
// 							box-shadow 0px -9px 30px #444
@import '../import/functions.styl'
@import '../import/variables.styl'

.modal
	button.submit
		simplebutton()

	button.cancel
		color #D10000
		border none
		background none
		position relative
		padding-right 16px

		&:after
			position absolute
			right 0
			color #444
			content 'or'


.modal.entry-metadata
	button
		&.loader
			background white
			padding-bottom 6px
			cursor default
			vertical-align middle

			&:after
				content url('/images/hilib/views/modal/loader.gif')
				margin-left 6px
				position relative
				top 3px
@import '../import/functions.styl'
@import '../import/variables.styl'

.submenu
	select_none()
	background-color #444
	position absolute
	left 0
	right 0
	top mainHeaderHeight
	z-index 49 // render .main above .sub
	height 40px
	white-space nowrap
	min-width minWidth

	.horizontal.menu
		li[data-key="editmetadata"]
			color gray
			
			&.enabled
				color #79C8C6

	li[data-key="publish"]
		i.fa
			line-height 24px
			display none

		&.active
			span:after
				content '...'

			i.fa
				display inline-block
				margin-left 8px
				color white
			
			// padding-right 24px

			// &:after
			// 	position absolute
			// 	top 3px
			// 	right 5px
			// 	content url('/images/loader_transparent.gif')

	& > .left-menu
		width 40%

		& > .horizontal.menu
			inline-block()

			&.nav
				max-width 50%
				padding 0 5px

				li[data-key="previous"], li[data-key="next"]
					width 22px
					margin 0

				li[data-key="current"]
					margin 0
					max-width 70%

			&.switchers
				float right
				padding 0 5px

				li
					width 105px
					margin 0 5px 0 0 

			& > li
				inline-block()
				vertical-align middle


	& > .middle-menu, & > .right-menu
		width 30%

	& > .right-menu
		text-align right

	& > .left-menu, & > .middle-menu, & > .right-menu
		inline-block()
		line-height subHeaderHeight

		*
			vertical-align middle

		ul.horizontal.menu > li
			elaboratebutton()
			position relative

			&.alignright
				position absolute
				right 0
				top 50%
				margin-top -0.5 * @line-height

			&[data-key="previous"], &[data-key="next"]
				opacity 0.4

				&.active
					opacity 1

			&[data-key="previous"]
				arrowleft(spotcolor)
				padding-right 0

			&[data-key="current"]
				background none
				box-shadow none
				color #CCC
				// max-width 115px
				text-overflow ellipsis
				overflow hidden


			&[data-key="next"]
				arrowright(spotcolor)
				padding-right 10px
				
				// Override default margin for arrowright
				&:after
					margin -5px 0 0 -3px
			
			&[data-key="facsimiles"], &[data-key="editfacsimiles"], &[data-key="edittextlayers"], &[data-key="layer"], &[data-key="textlayers"]
				arrowdown(spotcolor)

				span
					color darken(spotcolor, 20%)
					display inline-block
					margin-top -3px

			&[data-key="delete"]
				background #A00
				color #eee
				box-shadow none


		ul.vertical.menu 
			border-bottom-left-radius 6px
			border-bottom-right-radius 6px

			&.facsimiles, &.textlayers
				li
					padding-left 20px

				li.active:before
					content '✓ '
					position absolute
					margin-left -12px

			& > li
				border-bottom 1px solid #666
				background-color #444
				box-shadow 2px 0px 4px #888
				overflow hidden
				text-overflow ellipsis
				font-weight normal
				color lighten(spotcolor, 50%)

				&.spacer
					background none
					height 8px
					box-shadow none

				&:hover
					color spotcolor

				&:last-child
					border-bottom-left-radius 6px
					border-bottom-right-radius 6px
					box-shadow 2px 0px 4px #888

				&[data-key="edittextlayers"], &[data-key="editfacsimiles"]
					color #BBB

					&:hover
						color #DDD

@import '../import/functions.styl'
@import '../import/variables.styl'

.subsubmenu
	position fixed
	left 0
	right 0
	top -200px
	// height 120px
	background-color #666
	box-shadow 0 30px 60px rgba(17, 17, 17, 0.8)
	transition top 300ms
	z-index 48
	// top mainHeaderHeight + 40px /* tmp */

	&.active
		top mainHeaderHeight + 40px

	h3
		margin 0 0 10px 0
		color #CCC
		text-shadow 1px 1px 1px #000
		font-size 1em

	.editfacsimiles, .edittextlayers
		display none

		form.addfile
			display none

		ul
			list-style none

			&.textlayers, &.facsimiles
				white-space nowrap

				// Use the star to override the user agent stylesheet
				& *
					cursor pointer


				li.destroy
					span.name
						color #CCC
						border 1px solid #5C0000
						padding 3px 8px 6px 6px
						font-weight bold
						border-radius 6px
						text-shadow 1px 1px 1px #000
						box-shadow 1px 1px 4px #333
						background-color #910000
						font-size 0.9em

						label
							width auto

					span.orcancel
						display inline-block

				span.orcancel
					margin-left 6px
					display none

			li
				margin-bottom 6px
				color lighten(spotcolor, 30%)

				label
					display inline-block
					width 40px

				input, textarea
					width 200px
					border 1px solid #666
					padding 0 0 0 2px
					margin 0

				button
					elaboratebutton()
					display none
					
					&.loader:after
						content url('/images/loader_transparent.gif')
						margin-left 6px
						position relative
						top 3px

				button, input[type="file"]
					margin-left 40px

				img
					margin-right 6px
@import '../import/functions.styl'
@import '../import/variables.styl'

teak = #f1e8e1

#tooltip, .tooltip
	position absolute
	padding 0
	z-index 1000
	background teak
	border-radius 10px
	box-shadow 1px 1px 5px #969696
	min-width 150px
	max-width 200px
	line-height 1em
	white-space normal
	opacity 0
	z-index -1

	&.active
		opacity 1
		z-index 1

	&.addannotation
		width 180px
		height 72px

		select
			background teak
			border 1px solid #CCC
			position absolute
			width 150px
			left 15px
			top 12px

			option
				background teak

		button
			// border 0
			background-color teak
			padding-top 2px
			font-weight normal
			color black
			box-shadow none
			margin 0
			position absolute
			left 40px
			bottom 10px
			border 1px solid #CCC
			border-radius 4px


	&.newannotation
		min-width 36px

		.tooltip-body
			display none

		.horizontal.menu
			border-bottom-left-radius 10px
			border-bottom-right-radius 10px
			padding-bottom 4px

			&.left
				width 36px
				text-align center

				li.delete
					margin 0

			&.right
				display none


	.horizontal.menu
		border-top-left-radius 10px
		border-top-right-radius 10px
		padding 8px 0 6px 0
		background teak
		display inline-block

		&.left
			text-align left

		&.right
			float right
			padding-right 4px

		li
			padding 0
			margin 0 0 0 4px
	
	.annotation-type
		display inline-block
		padding 9px 0 0 8px
		max-width 120px
		white-space nowrap
		overflow hidden
		text-overflow ellipsis

	.tooltip-body
		border-top 1px solid darken(teak, 10%)
		border-bottom-left-radius 10px
		border-bottom-right-radius 10px
		background darken(teak, 3%)
		padding 10px
		max-height 300px
		overflow-y auto


	&:after
		position absolute
		width 0
		height 0
		border-style solid
		border-width 10px
		border-color transparent transparent teak transparent
		top -20px
		left 50%
		margin-left -10px
		content ""

	&.tipright:after
		left 66%

	&.tipleft:after
		left 33%

	&.tipbottom:after
		border-color darken(teak, 3%) transparent transparent transparent
		bottom -20px
		top auto
#debug
	display none
	position fixed
	width 100px
	height 100px
	bottom 0
	right 0
	background black
	color white
preview()
	position relative

	.linenumbers
		position absolute
		text-align right
		list-style none
		top 10px
		color #BBB
		font-size 0.9em

	.body
		padding 10px 0 0 24px

		sup[data-marker]
			select_none()
			color #FFF
			font-size 0.75em
			padding 0px 1px
			cursor pointer
			border-radius 2px
			box-shadow 1px 1px 2px #888
			text-shadow 1px 1px 1px rgba(100, 100, 100, 0.6)
			margin 0 3px
			background-color #FFBEFC
			font-weight bold
			line-height 0

		// For hovering annotations
		span.hilite
			background-color lighten(#FFBEFC, 40%)

		// For active annotations
		span.hilite[data-highlight]
			background-color #FFBEFC
			padding 1px 2px
			border-radius 4px

		// For full text query highlighting
		span.highlight
			background #FF0
			padding 4px 6px 2px 6px
			border-radius 4px
			box-shadow 1px 1px 2px #CCC

#printpreview
	display none

.entry
	.container
		.left-pane, .middle-pane, .right-pane
			inline-block()

		.left-pane
			width 40%

		.middle-pane, .right-pane
			width 30%
		
		.middle-pane
			.entrymetadata-placeholder
				padding 0 10px
			.transcription-placeholder, .annotation-placeholder
				position relative

				.transcriptioneditmenu, .annotationeditmenu
					select_none()
					position absolute
					width 200px
					left 47%
					margin-left -0.5 * @width
					bottom 24px
					opacity 0.3
					transition all 500ms
					background-color rgba(255, 255, 255, 0.8)
					padding 5px
					border 1px solid #CCC
					border-radius 12px
					text-align center

					&:hover
						opacity 1

				.annotationeditmenu
					text-align left

					button
						&.ok
							position absolute
							right 0px
						&.cancel
							position absolute
							right 45px

				.transcriptioneditmenu
					width 50px
					margin-left -0.5 * @width

					button
						margin-right 0px


		.preview-placeholder
			position relative
			
			h2
				position absolute
				top -53px
				left 15px
				color #CCC
				font-size 1.5em

		.preview
			line-height 2.25em
			white-space nowrap
			overflow-y auto
			margin-top 66px
			padding-left 10px

			&.wrap
				white-space normal

				.linenumbers
					display none

			span.emptylayer
				padding-left 6px
				color #DDD
				font-style italic
				font-size 1.2em
			
			.body-container
				preview()

					

.supertinyeditor
	.ste-header

		&.annotationtext
			padding 0 6px
			overflow hidden
			white-space nowrap
			text-overflow ellipsis
			line-height 31px /* Same as .ste-header to vertically center text */
			font-size 1.2em
			font-weight bold

			&:before
				content: '"'

			&:after
				content: '"'

	.ste-body
		background-color #EEE
		// padding 10px 10px 0 10px

body.ste-iframe-body
	padding 10px 0 0 10px
	// padding 6px 0 0 0 // Explicitely set the padding-bottom for FF
	line-height 2.25em

	sup[data-marker]
		display none

div.closebutton
	padding 2px
	margin 4px
	background-color white
	border-radius 4px

	img
		vertical-align middle

@media print
	header.main
		display none

	#printpreview
		display block
		line-height 2.25em
		

		.body-container
			preview()
			margin-bottom 50px

			.body
				sup[data-marker]
					color black
					background none
					text-shadow none
					box-shadow none

			.linenumbers
				color #777

		h2
			color black


	#container
		display none
form
	ul
		list-style none

		li
			margin-bottom 8px

			*
				vertical-align middle

			label, select, input
				&.invalid
					border-color red

			label
				display inline-block
				width 100px

				&.small
					width 40px

				&.large
					width 160px

				&.invalid
					color red

			select
				width 156px // 6px = 4px padding left and 2px border
				border 1px solid #CCC
				background none

			input
				width 150px
				border 1px solid #CCC
				padding-left 4px

			input[type="checkbox"]
				width auto

			input[type="submit"]
				simplebutton()

button.simple
	simplebutton()

labelWidth = 40%
inputWidth = 60%
fieldsetPadding = 20px
invalidColor = #F33;

fieldsetWithLabelWidth(width)
	fieldset.label{width}
		ul li
			label
				width (width)%

			input, select, textarea
				width (100%-width)%

		button[name="submit"]
			margin-left (width)%

form.hilib
	fieldsetWithLabelWidth(20)
	fieldsetWithLabelWidth(30)
	fieldsetWithLabelWidth(50)
	fieldsetWithLabelWidth(60)

	fieldset
		display inline-block
		vertical-align top
		border 0
		box-sizing border-box
		padding 0 fieldsetPadding 0 fieldsetPadding
		margin fieldsetPadding 0 fieldsetPadding 0
		min-width 200px

		& + fieldset
			border-left 1px solid #EEE

		&.span100
			width 100%

		&.span50
			width 50%

			@media screen and (max-width: 600px)
				display block
				width 100%

		&.span33
			width 33.33%

		&.span66
			width 66.66%

		&.span25
			width 25%

		&.span75
			width 75%

		button[name="submit"]
			margin-left labelWidth

	ul
		li
			div.error
				background invalidColor
				color white
				border-radius 3px
				padding 3px 5px
				margin-top 2px

			label
				width labelWidth

			input, select
				width inputWidth

			input[type="checkbox"], input[type="radio"]
				width auto

			input, select, button
				border-color #DDD
				transition-property box-shadow, border-color
				transition-duration 250ms
				box-sizing border-box

				&:focus
					outline none
					border-color rgba(70, 170, 168, 0.5)
					box-shadow 0 0 3px rgba(70, 170, 168, 0.75)

				&.invalid
					border-color rgba(invalidColor, 0.5)
					box-shadow 0 0 3px rgba(invalidColor, 0.75)

	button[name="submit"]
		border none
		background #DDD
		border 1px solid #DDD
		padding 6px 10px
		border-radius 3px
		color #333
		margin-left fieldsetPadding

		&:hover
			background #CCC

		&.disabled
			opacity 0.5
			cursor default

			&:focus
				border-color #DDD
				box-shadow none

			&:hover
				background #DDD	

		&.loader
			i.fa.fa-spinner
				display inline-block

		i.fa.fa-spinner
			margin -3px 0 0 8px
			display none
.shake
	shake()

@keyframes shake
	0%
		transform: translate(3px, 0)
	50%
		transform: translate(-3px, 0)
	100%
		transform: translate(0, 0)

.pulse
	pulse()

@keyframes pulse
	0%
		opacity 1.0
		transform scale(1.0)
	50%
		opacity 0.75
		transform scale(1.1)
	// 67%
	// 	opacity 0.5
	// 	transform scale(1.0)
	100%
		opacity 1.0
		transform scale(1.0)

// keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100% {
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
// @-webkit-keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100%{-webkit-transform:rotate(359deg);
// 			-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}

// }
// @-o-keyframes fn_spin {
// 	0%{
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100%{
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
// @-ms-keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100% {
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
// @keyframes fn_spin {
// 	0% {
// 		-webkit-transform:rotate(0);
// 		-moz-transform:rotate(0);
// 		-o-transform:rotate(0);
// 		-ms-transform:rotate(0);
// 		transform:rotate(0)
// 	}
// 	100%{
// 		-webkit-transform:rotate(359deg);
// 		-moz-transform:rotate(359deg);
// 		-o-transform:rotate(359deg);
// 		-ms-transform:rotate(359deg);
// 		transform:rotate(359deg)
// 	}
// }
.row
	font-size 0

	*
		vertical-align top

	sub
		vertical-align sub

	// sup
	// 	vertical-align super

	.aligncenter
		text-align center

	.alignright
		text-align right

	.cell
		display inline-block
		font-size 1rem

		// Test class to make divs visible for testing
		&.test
			background-color rgba(0, 0, 255, 0.5)
			min-height 200px

rows(divisions)
	for division in divisions
		range = 1...division

		for r in range
			.row.span{division} > .cell.span{r}
				width floor((r/division)*100%)

rows(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20)

pads(percentages)
	for perc in percentages
		.pad{perc}
			padding perc * 1%

		.padl{perc}
			padding-left perc * 1%

		.padr{perc}
			padding-right perc * 1%

		.padt{perc}
			padding-top perc * 1%

		.padb{perc}
			padding-bottom perc * 1%


pads(1 2 3 4 5 6 7 8 9 10 12 15 20 30 40 50)
.modal.reset-password
	.body
		margin 0

		fieldset
			padding-left 0
			margin-bottom 0

			ul
				margin-top 20px

				li:last-child
					float right
					margin-top 30px

				li.message
					display none
					text-align left
					padding 12px
					background #F00
					border-radius 3px
					color #FFF
					font-weight bold

				label
					font-size 1.1em
					width 100%

				input
					margin-top 4px
					font-size 1.2em
					width 100%
					line-height 24px

				button[name="submit"]
					margin-left 0

				span
					margin-right 10px

				button[name="cancel"]
					background none
					color red
					border none

#main > .login
	
	.left-pane, .right-pane
		display inline-block
		width 50%
		box-sizing border-box
		// -moz-box-sizing border-box
		vertical-align top
		padding 20px

	.right-pane
		padding-top 46px

	h2
		margin-top 0
		text-align left

	.federated
		margin-top 40px

		button.federated-login
			margin-left 0
			width 100px
			height 26px

	form.login
		text-align left
		box-shadow none
		border 1px solid #DDD
		width 280px

		ul
			&.message
				li
					display none
					text-align left
					padding 12px
					background #F00
					border-radius 3px
					color #FFF
					font-weight bold
			
			li.login
				button
					margin 20px 0 0 100px
					border-radius 3px
					height 26px
					width 100px
					border 1px solid #CCC
					color #333

					&.loading
						background white

						i.fa
							display inline-block

				i.fa
					display none
					margin-left 8px

			li.resetpassword
				color #46AAA8
				font-size 0.8em
				cursor pointer
				margin -6px 0 0 100px

@import './import/functions.styl'
@import './import/variables.styl'

html, body
	font-family Verdana, Arial, Helvetica, sans-serif
	font-size 12px
	margin 0
	padding 0
	min-width minWidth

// iframe > html
// 	background green
	// overflow hidden
	// height 100%

// #blackbar, #graybar
// 	position fixed
// 	width 100%

// #blackbar
// 	height 48px
// 	background-color black

// #graybar
// 	top 48px
// 	height 40px
// 	background-color #444

.noscript, .wrongbrowser
	width 800px
	margin auto
	margin-top 60px

ul
	margin 0
	padding 0

#container
	margin 0 auto
	width 100%

	#main
		padding-top mainHeaderHeight + subHeaderHeight
		// height 100%

	// footer
	// 	text-align center

h1, h2, h3, h4, a
	color spotcolor

button, input[type="submit"]
	cursor pointer

h2.loader
	&:after
		content url('/images/loader.gif')
		margin-left 12px
		position relative
		top 3px

a:visited
	color darken(spotcolor, 30%)

div p:first-child
	margin-top 0

.white, .menu li.username
	color white

.submenu-menus
	display	none

.region
	background #F1F1F1
	box-shadow 0 0 6px #AAA
	padding 12px
	border-radius 6px

i.fa
	font-size 1.2em
	cursor pointer

	&.fa-square-o
		color #AAA
		padding-right 2px

		&:hover
			color #555
	
	&.fa-check-square-o
		color #555
@import './import/functions.styl'
@import './import/variables.styl'

@media all and (max-width: 1000px)
	header.main
		.row
			width 100%

@media all and (max-width: 640px)
	.row
		.cell
			width 100%
			display block
@import './import/functions.styl'
@import './import/variables.styl'

vertical_menu_width = 200px
horizontal_li_padding = 10px
vertical_li_padding = 0px

ul.menu
	position relative
	padding 0
	margin 0
	font-size 0

	li
		font-size 1rem
		font-weight bold
		color white
		white-space nowrap
		text-shadow none
		position relative
		list-style none
		padding vertical_li_padding horizontal_li_padding
		margin 0

		&:hover
			cursor pointer

		&.active
			cursor default

		&:hover > ul, &.active.persist > ul
			display block

		&.arrowleft
			padding-left 18px

			&:before
				position absolute
				width 0
				height 0
				border-style solid
				border-width 5px
				border-color rgba(0, 0, 0, 0) white rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)
				content ""
				margin 7px 0 0 -15px

		&.arrowright
			padding-right 18px

			&:after
				position absolute
				width 0
				height 0
				border-style solid
				border-width 5px
				border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) white
				content ""
				margin 7px 0 0 6px

		&.arrowdown
			arrowdown()

		&.arrowup
			padding-right 22px

			&:after
				position absolute
				width 0
				height 0
				border-style solid
				border-width 5px
				border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) white rgba(0, 0, 0, 0)
				content ""
				margin 5px 0 0 6px

		ul
			position absolute
			display none
			padding 0
	

ul.menu.horizontal > li
	position static
	display inline-block

	ul
		margin-left -1 * horizontal_li_padding // To compensate for li:first-child's 10px padding
		// box-shadow 2px 2px 4px #AAA

		li
			line-height	24px
			// border-top 1px solid rgb(88, 88, 88)

ul.menu.vertical
	width vertical_menu_width
	text-align left

	ul
		top -1px
		left vertical_menu_width + horizontal_li_padding
.modal.set-new-password
	p
		display none
.faceted-search-results
	.faceted-search
		.text-search
			.search-input 
				i.fa-search
					background-color #46AAA8
		button
			color #46AAA8
			
	.results-placeholder
		div.entries
			position static
			margin-top 20px
inline-block()
	display inline-block
	box-sizing border-box
	vertical-align top

shake()
	animation-name shake 
	animation-duration 150ms 
	animation-iteration-count 2 
	animation-timing-function linear

	-moz-animation-name shake 
	-moz-animation-duration 150ms 
	-moz-animation-iteration-count 2 
	-moz-animation-timing-function linear

	-webkit-animation-name shake
	-webkit-animation-duration 150ms
	-webkit-animation-iteration-count 2
	-webkit-animation-timing-function linear

pulse()
	animation-name pulse 
	animation-duration 500ms 
	animation-iteration-count 2
	animation-timing-function linear

	-moz-animation-name pulse 
	-moz-animation-duration 500ms 
	-moz-animation-iteration-count 2 
	-moz-animation-timing-function linear

	-webkit-animation-name pulse
	-webkit-animation-duration 500ms
	-webkit-animation-iteration-count 2
	-webkit-animation-timing-function linear

fn_spin()
	-webkit-animation: fn_spin 2s 3 linear;
	-moz-animation: fn_spin 2s 3 linear;
	-o-animation: fn_spin 2s 3 linear;
	-ms-animation: fn_spin 2s 3 linear;
	animation: fn_spin 2s 3 linear;
	-webkit-animation-name: fn_spin

transition(args...)
	-webkit-transition args
	-moz-transition args
	-o-transition args
	transition args

transform(args...)
	-webkit-transform args
	-moz-transform args
	-ms-transform args
	-o-transform args
	transform args

vertical_gradient(topColor, bottomColor)
	background topColor
	background -moz-linear-gradient(top, topColor 0%, bottomColor 100%)
	background -webkit-gradient(linear, left top, left bottom, color-stop(0%,topColor), color-stop(100%,bottomColor))
	background -webkit-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -o-linear-gradient(top, topColor 0%,bottomColor 100%)
	background -ms-linear-gradient(top, topColor 0%,bottomColor 100%)
	background linear-gradient(to bottom, topColor 0%,bottomColor 100%)
	filter unquot('progid:DXImageTransform.Microsoft.gradient(startColorstr="topColor", endColorstr="bottomColor",GradientType=0 )')

select_none()
	-webkit-touch-callout none
	-webkit-user-select none
	-khtml-user-select none
	-moz-user-select none
	-ms-user-select none
	user-select none

button(light=#D5D6D5, dark=#838383)
	vertical_gradient(lighten(light, 10%), lighten(dark, 10%))
	border 0
	box-shadow 1px 1px 4px #858585
	border-radius 6px
	line-height 24px
	margin -1px 6px 0 0
	cursor pointer
	font-size 0.9rem
	color white
	font-weight bold

	&:hover
		vertical_gradient(light, dark) 

	&:active
		vertical_gradient(lighten(dark, 20%), light) 
		box-shadow -1px -1px 4px #858585
		color white

	&.inactive
		color #969696

	&[disabled]
		color: lightgray;
		background: #808080;
		cursor: default;

		&:active
			background: #808080;
			box-shadow @box-shadow
 
okbutton()
	button(#61E26B, #038808)

cancelbutton()
	button(#E26161, #880303)
	
simplebutton()
	border 1px solid #CCC
	margin-left 100px
	// box-shadow 1px 1px 2px #CCC
	border-radius 4px
	color #333
	padding 2px 6px

	&.inactive
		opacity 0.5
		cursor default

elaboratebutton()
	vertical_gradient(#565656, #444)
	border 0
	box-shadow 1px 1px 1px #666
	color lighten(spotcolor, 30%)
	border-radius 6px
	line-height 24px
	margin -1px 6px 0 0
	cursor pointer
	font-size 0.9rem

	&:active
		vertical_gradient(#444, #565656)
		box-shadow -1px -1px 1px #333
		color spotcolor

	&.inactive
		color #969696

arrowup(bordercolor=white)
	padding-right 22px
	arrow()

	&:after
		border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) bordercolor rgba(0, 0, 0, 0)
		margin -6px 0 0 5px

arrowright(bordercolor=white)
	padding-right 18px
	arrow()

	&:after
		border-color rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) bordercolor
		margin -5px 0 0 6px

arrowdown(bordercolor=white)
	padding-right 22px
	arrow()
	
	&:after
		margin -2px 0 0 5px
		border-color bordercolor rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)
		transition all 300ms

	&.rotateup:after
		transform rotate(180deg)
		margin-top -6px

arrowleft(bordercolor=white)
	padding-left 18px

	&:before
		content ""
		position absolute
		width 0
		height 0
		top 50%
		border-style solid
		border-width 5px
		border-color rgba(0, 0, 0, 0) bordercolor rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)
		margin -5px 0 0 -15px

arrow()
	&:after
		content ""
		position absolute
		width 0
		height 0
		top 50%
		border-style solid
		border-width 5px

textoverflowEllipsis(the_width)
	max-width the_width
	white-space nowrap
	text-overflow ellipsis
	overflow hidden
spotcolor = #46aaa8
spotcolor2 = #FFBEFC

mainHeaderHeight = 48px
subHeaderHeight = 40px

minWidth = 800px
// .resultview
// 	.editselection-placeholder
// 		background #F1F1F1
// 		box-shadow 0 0 6px #AAA
// 		margin-bottom 20px
// 		border-radius 6px

// 		h3
// 			margin 0
// 			padding 12px

// 		form
// 			padding 12px

// 		li
// 			*
// 				vertical-align middle

// 			input
// 				margin-left 4px

// 		footer
// 			text-align right
// 			padding 0 8px 8px 0

// 			*
// 				vertical-align middle

// 			button[name="savemetadata"]
// 				margin 0

// 				&.loader
// 					background white
// 					padding-bottom 6px

// 					&:after
// 						content url('/images/loader.gif')
// 						margin-left 6px
// 						position relative
// 						top 3px

// 			button[name="cancel"]
// 				background none
// 				border none
// 				color #F66
// 				border-radius 4px

// 			span
// 				margin 0 8px 0 4px
.projecthistory, .statistics
	padding-left 40px

.projecthistory
	.entries, button.more
		margin-bottom 40px

	h3
		color #444

	ul
		list-style none
		margin-left 16px

		span
			display inline-block
			overflow-x hidden
			text-overflow ellipsis

			&.username
				color gray
// @import '../import/*'

// .projectsearch
// 	position absolute
// 	top 88px
// 	left -8px
// 	bottom 0
// 	overflow hidden
// 	width 100vw

// 	

// 	.faceted-search-placeholder
// 		position absolute
// 		left 10px
// 		top 16px
// 		bottom 0px
// 		width 300px
// 		padding 4px 20px 20px 10px
// 		overflow-y auto
	
// 	.resultview
// 		position absolute
// 		left 360px
// 		top 20px
// 		bottom 10px
// 		right 0px

// 		&.edit-multiple-entry-metadata
// 			ul.entries
// 				list-style none
// 				margin-left -16px

// 				label
// 					display inline

// 				a
// 					display none

// 				input[type="checkbox"]
// 					display inline-block
// 					margin-right 4px

// 		header
// 			background white
// 			padding 0 18px 12px 0
// 			border-bottom 1px solid #DDD

// 			h3
// 				margin-top 0	

// 			nav
// 				color spotcolor

// 				& > ul
// 					& > li
// 						margin-left 6px
// 						cursor pointer
// 						display inline-block

// 						input#cb_showkeywords
// 							margin-right 2px

// 						label
// 							color black
// 							cursor default

// 						&.levels
// 							button
// 								i.fa
// 									margin-left 4px

// 							button, select
// 								background white
// 								border 1px solid rgb(224, 224, 224)
// 								outline none

// 							ul
// 								display none
// 								list-style none
// 								position absolute
// 								background white
// 								border 1px solid #EEE
// 								padding 18px
// 								border-bottom-left-radius 4px
// 								border-bottom-right-radius 4px
// 								border-top-right-radius 4px
// 								margin-top -1px

// 								&.show-save-button
// 									li
// 										button
// 											display block

// 									padding-bottom 14px

// 								li
// 									margin-bottom 10px

// 									label, i.fa
// 										color gray
// 										line-height 18px
									
// 									i.fa:hover
// 										color black
									
// 									select, i.fa
// 										margin-left 6px
// 										height 18px

// 									button
// 										display none
// 										float right

// 			// .numfound-placeholder

// 			.pagination-placeholder
// 				.pagination
// 					select_none()
// 					display none
					
// 					li
// 						color spotcolor
// 						padding 4px

// 					.inactive, .text
// 						color #BBB
// 						cursor default

// 		ul.entries
// 			margin-top 20px
// 			overflow-y auto
// 			list-style square
// 			padding-left 16px

// 			li
// 				margin-bottom 12px

// 				input[type="checkbox"]
// 					display none
				
// 				label, a
// 					text-decoration none
// 					color black
// 					font-size 1.2rem
// 					cursor pointer
// 					padding 2px 4px
// 					border-radius 2px

// 					&:hover
// 						background lighten(spotcolor, 70%)

// 				label
// 					display none

// 				.found
// 					color #999
// 					display inline-block
// 					margin-left 10px

// 					&:before
// 						content: '('

// 					&:after
// 						content: ')'
				
// 				.metadata
// 					ul
// 						list-style none
// 						padding 4px 0 0 12px

// 						li
// 							margin-bottom 0px
// 							// display inline-block
// 							// width 30%

// 							span.key
// 								color #999

// 				.keywords
// 					color #999

// 					ul
// 						list-style none
// 						margin-top 4px

// 						li
// 							padding 2px 0
// 							margin 0
// 							margin-left 13px
// 							overflow-x hidden
// 							white-space nowrap
// 							text-overflow ellipsis

// 							span.container
// 								text-decoration underline

// 							em
// 								color spotcolor2
.projectsettings
	.tab.menu
		font-size 0
		li
			color lighten(black, 30%)
			padding 8px 30px 6px 30px
			margin 0
			border 1px solid #DDD
			border-left 0
			border-bottom 0
			background-color #EEE

			&:first-child
				border-left 1px solid #DDDDDD
				border-top-left-radius 8px

			&:last-child
				border-top-right-radius 8px

			&:hover
				background-color lighten(#DDDDDD, 30%)

			&.active
				color black
				background-color #FFF
				box-shadow 0px 1px 0px #FFF // To blur the top border of the div[data-tab]

	div[data-tab]
		display none
		padding 0 10px 60px 10px
		box-shadow 1px 1px 3px #DDD
		border 1px solid #DDD
		border-radius 12px
		border-top-left-radius 0px
		max-width 1000px

		&.active
			display block

		h4
			margin-top 3px
			margin-right 10px
			display inline-block

		// .adduser
		// 	input[type="submit"]
		// 		margin-left 0px

		ul.selected-annotation-types
			padding-left 16px

			li
				margin-bottom 6px

				span.description
					color gray

	// div[data-tab="project"]
	// 	.general, .publication
	// 		display inline-block

	// 	.publication
	// 		vertical-align top
	// 		margin-left 100px

	// 		label
	// 			vertical-align top

	// 		select[name="text.font"]
	// 			margin-bottom 20px

	// 		img
	// 			border 1px solid #CCC

	div[data-tab="users"]
		position relative
		min-height 200px

		.listandroles, .adduser
			width 50%
			display inline-block
			box-sizing border-box
			vertical-align top

		.listandroles
			padding 20px

		.userroles
			margin-top 60px
			
			ul
				list-style square
				margin-left 16px

			select
				background none
				border 1px solid #CCC
				margin-right 8px

		.adduser
			fieldset
				border-left 1px solid #EEE

	div[data-tab="annotations"]
		.set-custom-tag-names, .add-annotation-type, .annotation-type-list
			width 33.33%
			box-sizing border-box
			display inline-block
			vertical-align top

		.annotation-type-list
			padding 20px

		.add-annotation-type
			fieldset
				border-left 1px solid #EEE
				border-right 1px solid #EEE

	div[data-tab="entries"]
		.entry-list, .set-names, .sort-levels
			width 33.33%
			box-sizing border-box
			display inline-block
			vertical-align top

		.entry-list, .sort-levels
			padding 20px

		.sort-levels
			button.savesortlevels
				&.loading
					i.fa.fa-spinner
						display inline-block
					
				i.fa.fa-spinner
					display none
					margin-left 8px

					

		.set-names
			fieldset
				border-left 1px solid #EEE
				border-right 1px solid #EEE
header.main
	select_none()
	white-space nowrap
	position absolute
	left 0
	right 0
	top 0
	background-color black
	z-index 50
	min-width minWidth

	& > .left, & > .middle, & > .right
		inline-block()
		width 33%
		
		*
			vertical-align middle

	& > .left
		text-align center

	& > .right
		text-align right

	span.message
		position relative
		display inline-block
		vertical_gradient(#FBEDBF, #EFDD96)
		// background rgba(255, 255, 0, 0.37)
		font-size 0.9em
		font-weight bold
		color #444
		line-height 20px
		// border 2px solid rgba(255, 255, 3, 0.49)
		border-radius 4px
		padding 2px 30px 2px 12px
		margin-top -50px
		transition(margin-top 500ms)
		box-shadow 1px 1px 2px #CCC
		cursor pointer

		&:after
			content 'x'
			border 1px solid rgba(128, 128, 128, 0.3)
			line-height 11px
			text-shadow 1px 1px 4px #777
			border-radius 2px
			position absolute
			padding 0 2px
			margin-top 4px
			right 5px
			color #666

		&.active
			margin-top 11px


	ul.horizontal.menu
		display inline-block

		li
			background-color black
			overflow hidden
			line-height 48px

			&.thisproject
				span.projecttitle
					i.fa.fa-spinner.fa-spin
						margin 14px 20px 0 20px
						
				ul.vertical.menu
					right 0

			&.projects
				overflow visible

				ul.vertical.menu
					position absolute
					margin 0 0 0 -432px
					width auto
					max-height 326px
					overflow-y auto
					overflow-x hidden
					border-bottom 1px solid black

					li
						width 200px
						text-overflow ellipsis

						&.active
							background white
							color black
							border-left 1px solid black
							border-right 1px solid black
							cursor default

			ul.vertical.menu
				width 140px
				border-bottom-left-radius 6px
				border-bottom-right-radius 6px

				li
					border-top 1px solid #444
					font-weight normal
					color #DDD
					box-shadow 1px 1px 2px #777
					line-height 26px

					&:hover
						background-color #222
						color #FFF

					&:last-child
						border-bottom-left-radius 6px
						border-bottom-right-radius 6px

					&.spacer
						border none
						background none
						height 17px
						box-shadow none

	.user
		a
			color white
			text-decoration none

		li.username > .vertical.menu
			right 0



	.projecttitle
		font-size 1.3em
		display inline-block
		max-width 400px
		overflow hidden
		text-overflow ellipsis


// header
// 	white-space nowrap
// 	z-index 100

// 	.main
// 		position fixed
// 		left 0
// 		right 0

// 		.row
// 			margin 0 auto

// 			*
// 				vertical-align middle
		

// 	.main
// 		background-color black
// 		top 0
// 		z-index 50 // render .main above .sub
		
// 		& .cell
// 			line-height mainHeaderHeight

// 		div.logo
// 			overflow hidden
			
// 			.projecttitle
// 				margin-left 10px
// 				white-space nowrap
// 				font-weight bold
// 				overflow hidden
// 				cursor pointer
// 				font-size 1.3em

// 		nav
// 			display inline-block

// 			&.user, &.project
// 				li
// 					background-color black
// 					overflow hidden

// 					// &.projects:after, &.username:after, &.thisproject:after
// 					// 	margin-left 3px
// 					// 	content url('../images/arrow_down.png')

// 				.vertical.menu
// 					li
// 						padding-top 2px
// 						box-shadow 0px -9px 30px rgba(34, 34, 34, 0.8)

// 						&:hover
// 							background #222
// 							text-shadow 1px 2px black

// 						&:hover + li
// 							box-shadow 0px -9px 30px #444
.modal
	button.submit
		simplebutton()

	button.cancel
		color #D10000
		border none
		background none
		position relative
		padding-right 16px

		&:after
			position absolute
			right 0
			color #444
			content 'or'


.modal.entry-metadata
	button
		&.loader
			background white
			padding-bottom 6px
			cursor default
			vertical-align middle

			&:after
				content url('/images/hilib/views/modal/loader.gif')
				margin-left 6px
				position relative
				top 3px
.submenu
	select_none()
	background-color #444
	position absolute
	left 0
	right 0
	top mainHeaderHeight
	z-index 49 // render .main above .sub
	height 40px
	white-space nowrap
	min-width minWidth

	.horizontal.menu
		li[data-key="editmetadata"]
			color gray
			
			&.enabled
				color #79C8C6

	li[data-key="publish"]
		i.fa
			line-height 24px
			display none

		&.active
			span:after
				content '...'

			i.fa
				display inline-block
				margin-left 8px
				color white
			
			// padding-right 24px

			// &:after
			// 	position absolute
			// 	top 3px
			// 	right 5px
			// 	content url('/images/loader_transparent.gif')

	& > .left-menu
		width 40%

		& > .horizontal.menu
			inline-block()

			&.nav
				max-width 50%
				padding 0 5px

				li[data-key="previous"], li[data-key="next"]
					width 22px
					margin 0

				li[data-key="current"]
					margin 0
					max-width 70%

			&.switchers
				float right
				padding 0 5px

				li
					width 105px
					margin 0 5px 0 0 

			& > li
				inline-block()
				vertical-align middle


	& > .middle-menu, & > .right-menu
		width 30%

	& > .right-menu
		text-align right

	& > .left-menu, & > .middle-menu, & > .right-menu
		inline-block()
		line-height subHeaderHeight

		*
			vertical-align middle

		ul.horizontal.menu > li
			elaboratebutton()
			position relative

			&.alignright
				position absolute
				right 0
				top 50%
				margin-top -0.5 * @line-height

			&[data-key="previous"], &[data-key="next"]
				opacity 0.4

				&.active
					opacity 1

			&[data-key="previous"]
				arrowleft(spotcolor)
				padding-right 0

			&[data-key="current"]
				background none
				box-shadow none
				color #CCC
				// max-width 115px
				text-overflow ellipsis
				overflow hidden


			&[data-key="next"]
				arrowright(spotcolor)
				padding-right 10px
				
				// Override default margin for arrowright
				&:after
					margin -5px 0 0 -3px
			
			&[data-key="facsimiles"], &[data-key="editfacsimiles"], &[data-key="edittextlayers"], &[data-key="layer"], &[data-key="textlayers"]
				arrowdown(spotcolor)

				span
					color darken(spotcolor, 20%)
					display inline-block
					margin-top -3px

			&[data-key="delete"]
				background #A00
				color #eee
				box-shadow none


		ul.vertical.menu 
			border-bottom-left-radius 6px
			border-bottom-right-radius 6px

			&.facsimiles, &.textlayers
				li
					padding-left 20px

				li.active:before
					content '✓ '
					position absolute
					margin-left -12px

			& > li
				border-bottom 1px solid #666
				background-color #444
				box-shadow 2px 0px 4px #888
				overflow hidden
				text-overflow ellipsis
				font-weight normal
				color lighten(spotcolor, 50%)

				&.spacer
					background none
					height 8px
					box-shadow none

				&:hover
					color spotcolor

				&:last-child
					border-bottom-left-radius 6px
					border-bottom-right-radius 6px
					box-shadow 2px 0px 4px #888

				&[data-key="edittextlayers"], &[data-key="editfacsimiles"]
					color #BBB

					&:hover
						color #DDD

.subsubmenu
	position fixed
	left 0
	right 0
	top -200px
	// height 120px
	background-color #666
	box-shadow 0 30px 60px rgba(17, 17, 17, 0.8)
	transition top 300ms
	z-index 48
	// top mainHeaderHeight + 40px /* tmp */

	&.active
		top mainHeaderHeight + 40px

	h3
		margin 0 0 10px 0
		color #CCC
		text-shadow 1px 1px 1px #000
		font-size 1em

	.editfacsimiles, .edittextlayers
		display none

		form.addfile
			display none

		ul
			list-style none

			&.textlayers, &.facsimiles
				white-space nowrap

				// Use the star to override the user agent stylesheet
				& *
					cursor pointer


				li.destroy
					span.name
						color #CCC
						border 1px solid #5C0000
						padding 3px 8px 6px 6px
						font-weight bold
						border-radius 6px
						text-shadow 1px 1px 1px #000
						box-shadow 1px 1px 4px #333
						background-color #910000
						font-size 0.9em

						label
							width auto

					span.orcancel
						display inline-block

				span.orcancel
					margin-left 6px
					display none

			li
				margin-bottom 6px
				color lighten(spotcolor, 30%)

				label
					display inline-block
					width 40px

				input, textarea
					width 200px
					border 1px solid #666
					padding 0 0 0 2px
					margin 0

				button
					elaboratebutton()
					display none
					
					&.loader:after
						content url('/images/loader_transparent.gif')
						margin-left 6px
						position relative
						top 3px

				button, input[type="file"]
					margin-left 40px

				img
					margin-right 6px
teak = #f1e8e1

#tooltip, .tooltip
	position absolute
	padding 0
	z-index 1000
	background teak
	border-radius 10px
	box-shadow 1px 1px 5px #969696
	min-width 150px
	max-width 200px
	line-height 1em
	white-space normal
	opacity 0
	z-index -1

	&.active
		opacity 1
		z-index 1

	&.addannotation
		width 180px
		height 72px

		select
			background teak
			border 1px solid #CCC
			position absolute
			width 150px
			left 15px
			top 12px

			option
				background teak

		button
			// border 0
			background-color teak
			padding-top 2px
			font-weight normal
			color black
			box-shadow none
			margin 0
			position absolute
			left 40px
			bottom 10px
			border 1px solid #CCC
			border-radius 4px


	&.newannotation
		min-width 36px

		.tooltip-body
			display none

		.horizontal.menu
			border-bottom-left-radius 10px
			border-bottom-right-radius 10px
			padding-bottom 4px

			&.left
				width 36px
				text-align center

				li.delete
					margin 0

			&.right
				display none


	.horizontal.menu
		border-top-left-radius 10px
		border-top-right-radius 10px
		padding 8px 0 6px 0
		background teak
		display inline-block

		&.left
			text-align left

		&.right
			float right
			padding-right 4px

		li
			padding 0
			margin 0 0 0 4px
	
	.annotation-type
		display inline-block
		padding 9px 0 0 8px
		max-width 120px
		white-space nowrap
		overflow hidden
		text-overflow ellipsis

	.tooltip-body
		border-top 1px solid darken(teak, 10%)
		border-bottom-left-radius 10px
		border-bottom-right-radius 10px
		background darken(teak, 3%)
		padding 10px
		max-height 300px
		overflow-y auto


	&:after
		position absolute
		width 0
		height 0
		border-style solid
		border-width 10px
		border-color transparent transparent teak transparent
		top -20px
		left 50%
		margin-left -10px
		content ""

	&.tipright:after
		left 66%

	&.tipleft:after
		left 33%

	&.tipbottom:after
		border-color darken(teak, 3%) transparent transparent transparent
		bottom -20px
		top auto